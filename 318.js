"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[318],{29464:(n,a,t)=>{t.d(a,{Z:()=>r});var e=t(34663),i=t.n(e),o=t(7638),l=t.n(o),s=t(69345),d=l()(i());d.i(s.Z),d.push([n.id,"\n","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const r=d},18826:(n,a,t)=>{t.d(a,{Z:()=>s});var e=t(34663),i=t.n(e),o=t(7638),l=t.n(o)()(i());l.push([n.id,"\n.manage-tag-div[data-v-3841ca06] {\n        width: 85%; \n        display: flex; \n        justify-content: end;\n        position: absolute;\n        top: 80px;\n        right: 36px;\n}\n.manage-btn[data-v-3841ca06] {\n        border: 1px solid #151233;\n        border-radius: 4px;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        color: #151233;\n        display: flex;\n        align-items: center;\n        font-weight: 500;\n}\n.tag-info-type[data-v-3841ca06] {\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        background: #FFFFFF;\n        margin-right: 37px;\n        padding: 24px 24px 18px;\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n}\n.tag-info-type[data-v-3841ca06]:last-child {\n        margin-right: 0;\n}\n.tag-info-type-name[data-v-3841ca06] {\n        font-weight: 500;\n        font-size: 20px;\n        line-height: 23px;\n        color: #757575;\n        margin-bottom: 20px;\n        min-width: 100px;\n        flex: 1;\n}\n.tag-info[data-v-3841ca06] {\n        font-weight: 500;\n        font-size: 28px;\n        line-height: 33px;\n        color: #151233;\n}\n    /* @media (min-width: 2400px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: calc(100% / 7);\n        }\n    }\n\n    @media (max-width: 2400px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: calc(100% / 6);\n        }\n    }\n\n    @media (max-width: 2150px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: calc(100% / 5);\n        }\n    }\n\n    @media (max-width: 1820px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: calc(100% / 4);\n        }\n    }\n\n    @media (max-width: 1470px) {\n        .tag-info-type {\n            flex: 1 0 auto;\n            width: calc(100% / 3);\n        }\n    }\n\n    @media (max-width: 1250px) {\n        .tag-info-type {\n            flex: 1 0 auto;\n            width: calc(100% / 2);\n        }\n    }\n\n    @media (max-width: 950px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: 100%;\n        }\n    } */\n","",{version:3,sources:["webpack://./src/presentation/vue3/pages/backoffice/tag.vue"],names:[],mappings:";AA6FI;QACI,UAAU;QACV,aAAa;QACb,oBAAoB;QACpB,kBAAkB;QAClB,SAAS;QACT,WAAW;AACf;AACA;QACI,yBAAyB;QACzB,kBAAkB;QAClB,mBAAmB;QACnB,eAAe;QACf,cAAc;QACd,aAAa;QACb,mBAAmB;QACnB,gBAAgB;AACpB;AACA;QACI,yBAAyB;QACzB,8CAA8C;QAC9C,mBAAmB;QACnB,mBAAmB;QACnB,kBAAkB;QAClB,uBAAuB;QACvB,aAAa;QACb,sBAAsB;QACtB,OAAO;AACX;AACA;QACI,eAAe;AACnB;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,mBAAmB;QACnB,gBAAgB;QAChB,OAAO;AACX;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;AAClB;IACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OA+CG",sourcesContent:['<script setup lang="ts">\n    import { ref, onBeforeMount, defineAsyncComponent } from "vue";\n    import { IOrganization } from "../../../../../../common/qCloudTemp/membership";\n    import { ITags } from "../../../../../../common/qCloudTemp/quickCloud";\n    import { container } from "../../../../domain/core/diContainer";\n    import { IDialog } from "../../../../domain/presentation/IDialog";\n    import { IRouter } from "../../../../domain/presentation/IRouter";\n    import { IBackofficeUseCase } from "../../../../domain/useCase/IBackofficeUseCase";\n    import { IUseCaseExecutor } from "../../../../domain/useCase/IUseCaseExecutor";\n    import OrganizationList from "../../components/backoffice/organization/organizationList.vue";\n\n\n    const router = container.resolve<IRouter>(IRouter);\n    const executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\n    const backofficeUseCase = container.resolve<IBackofficeUseCase>(IBackofficeUseCase);\n    const dialog = container.resolve<IDialog>(IDialog);\n        \n    const routerParams = router.getRouteParams<{ tagId: string }>();\n    backofficeUseCase.setBreadcrumb(["Tags", "Tag Detail"]);\n    const tag = ref<ITags>();\n    const orgInfo = ref<Array<IOrganization>>([]);\n    const organizationsDataIsReady = ref(false);\n\n    onBeforeMount(() => {\n        getOrganizations();\n    })\n\n    function getOrganizations() {\n        executor.execute(async () => {\n            tag.value = await backofficeUseCase.getTag(routerParams.tagId);\n            orgInfo.value = await backofficeUseCase.getOrganizationsByTagId(routerParams.tagId);\n            organizationsDataIsReady.value = true;\n        }, { loading: true });\n    }\n\n    function openUpdateTagDialog() {\n        const closeCb = (reason: "close" | "outclick" | "component") => {\n            if(reason == "component") {\n                getOrganizations();\n            }\n        }\n        dialog.showDialog(\n            defineAsyncComponent(() => import(`../../components/dialogs/backoffice/addOrUpdateTag.vue`)),\n            { closable: true, title: "Update Tag", width: "542px", maxHeight: "379px", closeCb }, {tag: tag.value}\n        );\n    }\n<\/script>\n\n<template>\n    <div class="manage-tag-div">\n        <button class="manage-btn" @click="openUpdateTagDialog()"><i class="mdi mdi-cog" style="font-size: 20px; margin-right: 4px"></i><span>UPDATE TAG</span></button>\n    </div>  \n    <div  style="display: flex; margin-bottom: 32px;">\n        <div class="tag-info-type">\n            <div class="tag-info-type-name">Name</div>\n            <div class="tag-info">{{ tag?.name }}</div>\n        </div>\n        <div class="tag-info-type">\n            <div class="tag-info-type-name">Organization Count</div>\n            <div class="tag-info">{{ orgInfo.length }}</div>\n        </div>\n        <div class="tag-info-type">\n            <div class="tag-info-type-name">Description</div>\n            <div class="tag-info">{{ tag?.description }}</div>\n        </div>\n        <div class="tag-info-type">\n            <div class="tag-info-type-name">ID</div>\n            <div class="tag-info" style="font-size: 20px;">{{ tag?.ID }}</div>\n        </div>\n    </div>\n    <div  style="display: flex; margin-bottom: 32px;">\n        <div class="tag-info-type">\n            <div class="tag-info-type-name">Date Created</div>\n            <div class="tag-info">{{ tableMethods.formatDate(tag?.createDate) }}</div>\n        </div>\n        <div class="tag-info-type">\n            <div class="tag-info-type-name">Creted By</div>\n            <div class="tag-info" style="font-size: 20px;">{{ tag?.createdBy }}</div>\n        </div>\n        <div class="tag-info-type">\n            <div class="tag-info-type-name">Date Updated</div>\n            <div class="tag-info">{{ tableMethods.formatDate(tag?.updateDate) }}</div>\n        </div>\n        <div class="tag-info-type">\n            <div class="tag-info-type-name">Updated By</div>\n            <div class="tag-info" style="font-size: 20px;">{{ tag?.updatedBy }}</div>\n        </div>\n    </div>\n    <div v-if="organizationsDataIsReady" style="margin-bottom: 32px;">\n        <OrganizationList :organizations="orgInfo" :tagID = "tag?.ID" @refreshTable="getOrganizations"></OrganizationList>\n    </div>\n</template>\n<style scoped>\n    .manage-tag-div {\n        width: 85%; \n        display: flex; \n        justify-content: end;\n        position: absolute;\n        top: 80px;\n        right: 36px;\n    }\n    .manage-btn {\n        border: 1px solid #151233;\n        border-radius: 4px;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        color: #151233;\n        display: flex;\n        align-items: center;\n        font-weight: 500;\n    }\n    .tag-info-type {\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        background: #FFFFFF;\n        margin-right: 37px;\n        padding: 24px 24px 18px;\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n    }\n    .tag-info-type:last-child {\n        margin-right: 0;\n    }\n    .tag-info-type-name {\n        font-weight: 500;\n        font-size: 20px;\n        line-height: 23px;\n        color: #757575;\n        margin-bottom: 20px;\n        min-width: 100px;\n        flex: 1;\n    }\n    .tag-info {\n        font-weight: 500;\n        font-size: 28px;\n        line-height: 33px;\n        color: #151233; \n    }\n    /* @media (min-width: 2400px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: calc(100% / 7);\n        }\n    }\n\n    @media (max-width: 2400px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: calc(100% / 6);\n        }\n    }\n\n    @media (max-width: 2150px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: calc(100% / 5);\n        }\n    }\n\n    @media (max-width: 1820px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: calc(100% / 4);\n        }\n    }\n\n    @media (max-width: 1470px) {\n        .tag-info-type {\n            flex: 1 0 auto;\n            width: calc(100% / 3);\n        }\n    }\n\n    @media (max-width: 1250px) {\n        .tag-info-type {\n            flex: 1 0 auto;\n            width: calc(100% / 2);\n        }\n    }\n\n    @media (max-width: 950px) {\n        .tag-info-type {\n            flex: 0 0 auto;\n            width: 100%;\n        }\n    } */\n</style>'],sourceRoot:""}]);const s=l},91056:(n,a,t)=>{t.d(a,{u:()=>e});const e=Symbol.for("IDialog")},1937:(n,a,t)=>{t.d(a,{Ax:()=>i,v5:()=>e});const e=Symbol.for("IRouter");function i(n){}},10301:(n,a,t)=>{t.d(a,{Z:()=>G});var e=t(71093),i=t(66190),o=t(73843),l=t(46233),s=t(5627),d=t(20559),r=t(91886),c=t(83487),g=t(74849),p=t(89001);const u=n=>((0,e.dD)("data-v-0ffaf54c"),n=n(),(0,e.Cn)(),n),f={class:"page-title"},v={class:"filter-area"},m={class:"search-in-table"},A=u((()=>(0,e._)("i",{class:"mdi mdi-magnify"},null,-1))),x={style:{"padding-bottom":"50px"}},y={class:"items-table",id:"organizationListTable"},C=u((()=>(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",{class:"col-xl-1"},"Name"),(0,e._)("th",{class:"col-xl-1"},"Org Group"),(0,e._)("th",{class:"col-xl-1"},"App Count"),(0,e._)("th",{class:"col-xl-1"},"User Count"),(0,e._)("th",{class:"col-xl-2"},"Date Created"),(0,e._)("th",{class:"col-xl-1"},"Created By"),(0,e.kq)(' <th class="col-xl-1">Date Modified</th> '),(0,e._)("th",{class:"col-xl-1"},"Cost"),(0,e._)("th",{class:"col-xl-1"},"Tags"),(0,e._)("th",{class:"col-xl-1"},"Account Type"),(0,e._)("th",{class:"col-xl-1"},"Activity"),(0,e._)("th",{class:"col-xl-1"})])],-1))),h=u((()=>(0,e._)("td",null," - ",-1))),b=u((()=>(0,e._)("td",null," - ",-1))),B=u((()=>(0,e._)("td",null," - ",-1))),D=u((()=>(0,e._)("td",null,[(0,e._)("span",{style:{background:"#FF6B6B","border-radius":"50%",padding:"6px 10px"}},"0")],-1))),_={style:{display:"flex"}},I=["onClick"],w=["onClick"],z=["onClick"],k=(0,e.aZ)({__name:"organizationList",props:{organizations:null,userID:null,tagID:null},emits:["refreshTable"],setup(n,{emit:a}){const t=n,u=s.nC.resolve(c.y),k=s.nC.resolve(d.X),T=s.nC.resolve(r.r),U=(0,e.Fl)((()=>t.organizations)),Q=(0,o.iH)(""),F=(0,o.iH)([]),O=(0,o.iH)(["10","20","30","All"]),S=(0,o.iH)(["All","Premium","Free"]),P=(0,o.iH)("All");function E(){a("refreshTable")}function Z(){const n=U.value.filter((n=>{var a,t,e,i;return((null===(a=n.name)||void 0===a?void 0:a.toUpperCase().includes(Q.value.toUpperCase()))||(null===(t=n.id)||void 0===t?void 0:t.toUpperCase().includes(Q.value.toUpperCase()))||(null===(e=n.createdBy)||void 0===e?void 0:e.toUpperCase().includes(Q.value.toUpperCase()))||(null===(i=n.organizationGroupName)||void 0===i?void 0:i.toUpperCase().includes(Q.value.toUpperCase())))&&"deleting"!=n.status}));return"All"==P.value?n:"Premium"==P.value?n.filter((n=>"premium"==n.accountType)):"Free"==P.value?n.filter((n=>"beta"==n.accountType||!n.accountType)):n}function R(n){switch(n){case"All":P.value="All";break;case"Premium":P.value="Premium";break;case"Free":P.value="Free"}}function H(n){F.value=n}return(0,e.bv)((()=>{T.addSortingToColumns("organizationListTable")})),(n,a)=>((0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",f,[(0,e._)("span",null,"Organization List ("+(0,i.toDisplayString)((0,o.SU)(U).length)+")",1)]),(0,e._)("div",v,[(0,e._)("div",m,[A,(0,e.wy)((0,e._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":a[0]||(a[0]=n=>Q.value=n)},null,512),[[l.vModelText,Q.value]])]),(0,e._)("div",null,[(0,e.Wm)(g.Z,{options:S.value,default:S.value[0],onInput:R,class:"bo-table-filters","selected-class":"selected-filter "},null,8,["options","default"])])]),(0,e._)("div",x,[(0,e._)("table",y,[C,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(F.value,(n=>((0,e.wg)(),(0,e.iD)("tr",{key:n.id},[(0,e._)("td",null,(0,i.toDisplayString)(n.name),1),(0,e._)("td",null,(0,i.toDisplayString)(n.organizationGroupName),1),h,b,(0,e._)("td",null,(0,i.toDisplayString)((0,o.SU)(T).formatDate(n.createDate)),1),(0,e._)("td",null,(0,i.toDisplayString)(n.createdBy),1),(0,e.kq)(" <td> {{organization.modifyDate ? tableMethods.formatDate(organization.modifyDate) : '-' }} </td> "),B,(0,e._)("td",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(n.tagNames,(n=>((0,e.wg)(),(0,e.iD)("span",{key:n,class:"tag-names"},(0,i.toDisplayString)(n),1)))),128))]),(0,e._)("td",null,(0,i.toDisplayString)(n.accountType?"beta"==n.accountType?"Free":"Premium":"Free"),1),D,(0,e._)("td",null,[(0,e._)("div",_,[t.userID?((0,e.wg)(),(0,e.iD)("button",{key:0,class:"remove-btn",onClick:a=>{return e=t.userID,i=n.id,void u.execute((async()=>{await k.removeUserFromOrganization({userId:e,organizationId:i}),E()}),{loading:!0});var e,i}},"REMOVE",8,I)):(0,e.kq)("v-if",!0),t.tagID?((0,e.wg)(),(0,e.iD)("button",{key:1,class:"remove-btn",onClick:a=>{return e=t.tagID,i=n.id,void u.execute((async()=>{await k.removeTagFromOrganization({organizationId:i,tagId:e}),E()}),{loading:!0});var e,i}},"REMOVE",8,w)):(0,e.kq)("v-if",!0),(0,e._)("button",{class:"view-btn",onClick:a=>{return t=n.id,void window.open(`/backoffice/organization/${t}`,"_blank");var t}},"VIEW",8,z)])])])))),128))]),(0,e.Wm)(p.Z,{itemsPerPageOptions:O.value,columnCount:11,onPaginateData:H,searchInTable:Q.value,selectedFilter:P.value,getTableData:Z},null,8,["itemsPerPageOptions","searchInTable","selectedFilter"])])])],64))}});var T=t(17450),U=t.n(T),Q=t(29530),F=t.n(Q),O=t(16199),S=t.n(O),P=t(40458),E=t.n(P),Z=t(62916),R=t.n(Z),H=t(92165),M=t.n(H),q=t(29464),L={};L.styleTagTransform=M(),L.setAttributes=E(),L.insert=S().bind(null,"head"),L.domAPI=F(),L.insertStyleElement=R(),U()(q.Z,L),q.Z&&q.Z.locals&&q.Z.locals;const G=(0,t(32525).Z)(k,[["__scopeId","data-v-0ffaf54c"]])},90318:(n,a,t)=>{t.r(a),t.d(a,{default:()=>en});var e=t(71093),i=t(66190),o=t(73843),l=t(5627),s=t(91056),d=t(1937),r=t(20559),c=t(83487),g=t(10301);const p=n=>((0,e.dD)("data-v-3841ca06"),n=n(),(0,e.Cn)(),n),u={class:"manage-tag-div"},f=[p((()=>(0,e._)("i",{class:"mdi mdi-cog",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),p((()=>(0,e._)("span",null,"UPDATE TAG",-1)))],v={style:{display:"flex","margin-bottom":"32px"}},m={class:"tag-info-type"},A=p((()=>(0,e._)("div",{class:"tag-info-type-name"},"Name",-1))),x={class:"tag-info"},y={class:"tag-info-type"},C=p((()=>(0,e._)("div",{class:"tag-info-type-name"},"Organization Count",-1))),h={class:"tag-info"},b={class:"tag-info-type"},B=p((()=>(0,e._)("div",{class:"tag-info-type-name"},"Description",-1))),D={class:"tag-info"},_={class:"tag-info-type"},I=p((()=>(0,e._)("div",{class:"tag-info-type-name"},"ID",-1))),w={class:"tag-info",style:{"font-size":"20px"}},z={style:{display:"flex","margin-bottom":"32px"}},k={class:"tag-info-type"},T=p((()=>(0,e._)("div",{class:"tag-info-type-name"},"Date Created",-1))),U={class:"tag-info"},Q={class:"tag-info-type"},F=p((()=>(0,e._)("div",{class:"tag-info-type-name"},"Creted By",-1))),O={class:"tag-info",style:{"font-size":"20px"}},S={class:"tag-info-type"},P=p((()=>(0,e._)("div",{class:"tag-info-type-name"},"Date Updated",-1))),E={class:"tag-info"},Z={class:"tag-info-type"},R=p((()=>(0,e._)("div",{class:"tag-info-type-name"},"Updated By",-1))),H={class:"tag-info",style:{"font-size":"20px"}},M={key:0,style:{"margin-bottom":"32px"}},q=(0,e.aZ)({__name:"tag",setup(n){const a=l.nC.resolve(d.v5),p=l.nC.resolve(c.y),q=l.nC.resolve(r.X),L=l.nC.resolve(s.u),G=a.getRouteParams();q.setBreadcrumb(["Tags","Tag Detail"]);const N=(0,o.iH)(),W=(0,o.iH)([]),V=(0,o.iH)(!1);function j(){p.execute((async()=>{N.value=await q.getTag(G.tagId),W.value=await q.getOrganizationsByTagId(G.tagId),V.value=!0}),{loading:!0})}return(0,e.wF)((()=>{j()})),(n,a)=>{var o,l,s,d,r,c,p,q;return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",u,[(0,e._)("button",{class:"manage-btn",onClick:a[0]||(a[0]=n=>{L.showDialog((0,e.RC)((()=>Promise.all([t.e(9607),t.e(4097)]).then(t.bind(t,10756)))),{closable:!0,title:"Update Tag",width:"542px",maxHeight:"379px",closeCb:n=>{"component"==n&&j()}},{tag:N.value})})},f)]),(0,e._)("div",v,[(0,e._)("div",m,[A,(0,e._)("div",x,(0,i.toDisplayString)(null===(o=N.value)||void 0===o?void 0:o.name),1)]),(0,e._)("div",y,[C,(0,e._)("div",h,(0,i.toDisplayString)(W.value.length),1)]),(0,e._)("div",b,[B,(0,e._)("div",D,(0,i.toDisplayString)(null===(l=N.value)||void 0===l?void 0:l.description),1)]),(0,e._)("div",_,[I,(0,e._)("div",w,(0,i.toDisplayString)(null===(s=N.value)||void 0===s?void 0:s.ID),1)])]),(0,e._)("div",z,[(0,e._)("div",k,[T,(0,e._)("div",U,(0,i.toDisplayString)(n.tableMethods.formatDate(null===(d=N.value)||void 0===d?void 0:d.createDate)),1)]),(0,e._)("div",Q,[F,(0,e._)("div",O,(0,i.toDisplayString)(null===(r=N.value)||void 0===r?void 0:r.createdBy),1)]),(0,e._)("div",S,[P,(0,e._)("div",E,(0,i.toDisplayString)(n.tableMethods.formatDate(null===(c=N.value)||void 0===c?void 0:c.updateDate)),1)]),(0,e._)("div",Z,[R,(0,e._)("div",H,(0,i.toDisplayString)(null===(p=N.value)||void 0===p?void 0:p.updatedBy),1)])]),V.value?((0,e.wg)(),(0,e.iD)("div",M,[(0,e.Wm)(g.Z,{organizations:W.value,tagID:null===(q=N.value)||void 0===q?void 0:q.ID,onRefreshTable:j},null,8,["organizations","tagID"])])):(0,e.kq)("v-if",!0)],64)}}});var L=t(17450),G=t.n(L),N=t(29530),W=t.n(N),V=t(16199),j=t.n(V),X=t(40458),Y=t.n(X),K=t(62916),$=t.n(K),J=t(92165),nn=t.n(J),an=t(18826),tn={};tn.styleTagTransform=nn(),tn.setAttributes=Y(),tn.insert=j().bind(null,"head"),tn.domAPI=W(),tn.insertStyleElement=$(),G()(an.Z,tn),an.Z&&an.Z.locals&&an.Z.locals;const en=(0,t(32525).Z)(q,[["__scopeId","data-v-3841ca06"]])}}]);
//# sourceMappingURL=318.js.map