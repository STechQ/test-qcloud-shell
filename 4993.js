"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[4993],{92184:(n,e,o)=>{o.d(e,{Z:()=>l});var t=o(34663),a=o.n(t),i=o(7638),r=o.n(i)()(a());r.push([n.id,"\n*[data-v-1782181e] {\n    font-family: 'Roboto';\n}\n.container[data-v-1782181e] {\n    padding: 32px 20px 20px;\n}\n.organization-name-div[data-v-1782181e] {\n    margin-bottom: 52px\n}\n.name-label[data-v-1782181e] {\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 18px;\n    color: #151233;\n    margin-bottom: 4px;\n}\n.organizaton-name[data-v-1782181e] {\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 8px 8px 8px 12px;\n    width: 100%;\n    font-size: 15px;\n    color: #212121;\n    outline: none;\n}\n.organizaton-name[data-v-1782181e]::placeholder {\n    color: #BCBCBC\n}\n.buttons-div[data-v-1782181e] {\n    display: flex;\n    justify-content: end;\n}\n.cancel-button[data-v-1782181e] {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #757575;\n    display: flex;\n    align-items: center;\n    padding: 8px 16px;\n    border-radius: 4px;\n    margin-right: 4px;\n    border: none;\n    background: transparent;\n}\n.create-button[data-v-1782181e] {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #FFFFFF;\n    background: #151233;\n    display: flex;\n    align-items: center;\n    padding: 8px 16px;\n    border-radius: 4px;\n    border: none;\n}\n.create-button[data-v-1782181e]:disabled {\n    color: #757575\n}\n.button-tooltip[data-v-1782181e] {\n    visibility: hidden;\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    font-family: 'Roboto';\n    text-align: center;\n    border-radius: 4px;\n    letter-spacing: 0.2px;\n    padding: 6px 8px 6px 8px;\n    top: 56px;\n    left: 63px;\n    opacity: 0;\n}\n.create-button:disabled:hover+.button-tooltip[data-v-1782181e] {\n    visibility: visible;\n    transition: opacity 0.3s ease-out 0.5s;\n    opacity: 1;\n}\n.organization-group-info[data-v-1782181e] {\n    padding: 5px 12px;\n    color: #757575;\n    font-size: 14px;\n    background: #F5F5FA;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    margin-left: auto;\n    width: 100%;\n    margin-top: 20px;\n}\n.organization-group-info i[data-v-1782181e] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 8px;\n}\n.organizations[data-v-1782181e] {\n    width: 100%;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    padding: 0px 12px;\n}\n\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/organization/joinOrganizationGroupDialog.vue"],names:[],mappings:";AA+EA;IACI,qBAAqB;AACzB;AAEA;IACI,uBAAuB;AAC3B;AAEA;IACI;AACJ;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;IACd,kBAAkB;AACtB;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,aAAa;IACb,mBAAmB;IACnB,mBAAmB;IACnB,yBAAyB;IACzB,WAAW;IACX,eAAe;IACf,cAAc;IACd,aAAa;AACjB;AAEA;IACI;AACJ;AAEA;IACI,aAAa;IACb,oBAAoB;AAExB;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,cAAc;IACd,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,iBAAiB;IACjB,YAAY;IACZ,uBAAuB;AAC3B;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,cAAc;IACd,mBAAmB;IACnB,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,YAAY;AAChB;AAEA;IACI;AACJ;AAEA;IACI,kBAAkB;IAClB,kBAAkB;IAClB,mBAAmB;IACnB,cAAc;IACd,eAAe;IACf,qBAAqB;IACrB,kBAAkB;IAClB,kBAAkB;IAClB,qBAAqB;IACrB,wBAAwB;IACxB,SAAS;IACT,UAAU;IACV,UAAU;AACd;AAEA;IACI,mBAAmB;IACnB,sCAAsC;IACtC,UAAU;AACd;AAEA;IACI,iBAAiB;IACjB,cAAc;IACd,eAAe;IACf,mBAAmB;IACnB,kBAAkB;IAClB,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,WAAW;IACX,gBAAgB;AACpB;AAEA;IACI,eAAe;IACf,cAAc;IACd,iBAAiB;AACrB;AAEA;IACI,WAAW;IACX,eAAe;IACf,YAAY;IACZ,iBAAiB;IACjB,yBAAyB;IACzB,kBAAkB;IAClB,iBAAiB;AACrB",sourcesContent:['<template>\n    <div class="container">\n        <div class="organization-name-div">\n            <label class="name-label">Organization</label>\n            <CustomSelect :options="organizationNames" class="organizations" :default="requestedOrg" :placeholder="\'Select\'"\n                @input="selectOrgGroup"></CustomSelect>\n            <label class="name-label mt-4">E Mail</label>\n            <IDEInput @getValue="setOwnerEmail" type="mail" :value="email" info-text=""\n                placeholder="Group adminâ€™s e mail" />\n            <label class="name-label mt-4">Description</label>\n            <IDEInput @getValue="setDescription" type="textarea" :value="description" info-text=""\n                placeholder="Describe your object details" />\n            <div class="organization-group-info">\n                <i class="mdi mdi-information"></i>\n                <span>If you donâ€™t know which e mail address to send request, contact your Group Admin.</span>\n            </div>\n        </div>\n        <div class="buttons-div">\n            <button class="cancel-button" @click="close()">Cancel</button>\n            <button class="create-button" :disabled="isMailValid" @click="joinOrganizationGroup()">SEND\n                REQUEST</button>\n        </div>\n    </div>\n</template>\n<script setup lang="ts">\nimport { computed, onBeforeMount, onMounted, ref } from \'vue\';\nimport { container } from \'../../../../../domain/core/diContainer\';\nimport { IUseCaseExecutor } from \'../../../../../domain/useCase/IUseCaseExecutor\';\nimport { IViewModel } from \'../../../../../domain/viewModel/IViewModel\';\nimport IDEInput from "../../application/IDEInput.vue";\nimport CustomSelect from "../../customSelect.vue";\nimport { IOrganizationGroupUseCase } from \'../../../../../domain/useCase/IOrganizationGroupUseCase\';\nimport { IStudioRequestRequest } from \'../../../../../../../common/qCloudTemp/request\';\n\nconst emit = defineEmits(["close"]);\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst organizationGroupUseCase = container.resolve<IOrganizationGroupUseCase>(IOrganizationGroupUseCase);\nconst user = ref(viewModel.user!);\nconst selectedOrganization = ref(viewModel.user!.selectedOrganization);\nconst email = ref("");\nconst description = ref("");\n\nconst organizationNames = ref<Array<string>>([]);\nconst isSelectedOrgOwned = selectedOrganization.value?.ownerUserIds ? selectedOrganization.value?.ownerUserIds.includes(user.value.userId) : selectedOrganization.value?.creatorUserId == user.value.userId;\nconst requestedOrg = ref<string | undefined>("");\nconst isMailValid = computed(() => !email.value ? false : !/^(?=.{1,64}@)[a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+(\\.[a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*(\\.[a-zA-Z]{2,})$/.test(email.value)); //RFC 5322-compliant ðŸ¤”\n\nonBeforeMount(() => {\n    getOrganizationNames();\n})\n\nfunction close() {\n    emit("close");\n}\n\nfunction selectOrgGroup(orgGroupName: string) {\n    requestedOrg.value = orgGroupName;\n}\n\nfunction getOrganizationNames() {\n    organizationNames.value = user.value.organizations.filter(org => (org.ownerUserIds ? org.ownerUserIds?.includes(user.value.userId) : org.creatorUserId == user.value.userId) && !org.organizationGroupId).map(org => org.name);\n    requestedOrg.value = organizationNames.value[0]\n}\nfunction joinOrganizationGroup() {\n    const request: IStudioRequestRequest = {targetUserEmail: email.value, organizationName: requestedOrg.value, description: description.value, type: "joinOrganizationGroup"};\n    executor.execute(async () => {\n        await organizationGroupUseCase.sendJoinOrganizationGroupRequest(request);\n    },{loading: true});\n    close();\n}\nfunction setOwnerEmail(value: string) {\n    email.value = value\n}\nfunction setDescription(value: string) {\n    description.value = value\n}\n<\/script>\n<style scoped>\n* {\n    font-family: \'Roboto\';\n}\n\n.container {\n    padding: 32px 20px 20px;\n}\n\n.organization-name-div {\n    margin-bottom: 52px\n}\n\n.name-label {\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 18px;\n    color: #151233;\n    margin-bottom: 4px;\n}\n\n.organizaton-name {\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 8px 8px 8px 12px;\n    width: 100%;\n    font-size: 15px;\n    color: #212121;\n    outline: none;\n}\n\n.organizaton-name::placeholder {\n    color: #BCBCBC\n}\n\n.buttons-div {\n    display: flex;\n    justify-content: end;\n\n}\n\n.cancel-button {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #757575;\n    display: flex;\n    align-items: center;\n    padding: 8px 16px;\n    border-radius: 4px;\n    margin-right: 4px;\n    border: none;\n    background: transparent;\n}\n\n.create-button {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #FFFFFF;\n    background: #151233;\n    display: flex;\n    align-items: center;\n    padding: 8px 16px;\n    border-radius: 4px;\n    border: none;\n}\n\n.create-button:disabled {\n    color: #757575\n}\n\n.button-tooltip {\n    visibility: hidden;\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    font-family: \'Roboto\';\n    text-align: center;\n    border-radius: 4px;\n    letter-spacing: 0.2px;\n    padding: 6px 8px 6px 8px;\n    top: 56px;\n    left: 63px;\n    opacity: 0;\n}\n\n.create-button:disabled:hover+.button-tooltip {\n    visibility: visible;\n    transition: opacity 0.3s ease-out 0.5s;\n    opacity: 1;\n}\n\n.organization-group-info {\n    padding: 5px 12px;\n    color: #757575;\n    font-size: 14px;\n    background: #F5F5FA;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    margin-left: auto;\n    width: 100%;\n    margin-top: 20px;\n}\n\n.organization-group-info i {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 8px;\n}\n\n.organizations {\n    width: 100%;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    padding: 0px 12px;\n}\n\n</style>'],sourceRoot:""}]);const l=r},30647:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoHelper=void 0;var o=function(){function n(){}return n.GetRandomWord=function(n,e){return Math.random().toString(n).substring(2,e+2)},n.CreateGuid=function(){var e=this;return[8,4,4,4,6].map((function(n){return e.GetRandomWord(36,n)})).join("-")+(++n.guidCounter%215e7).toString(36)},n.guidCounter=0,n}();e.CryptoHelper=o},38695:(n,e,o)=>{o.d(e,{T:()=>t});const t=Symbol.for("IFormValidator")},95506:(n,e,o)=>{o.r(e),o.d(e,{default:()=>_});var t=o(71093),a=o(73843),i=o(5627),r=o(83487),l=o(88613),s=o(97235),A=o(92641),d=o(74249);const u=n=>((0,t.dD)("data-v-1782181e"),n=n(),(0,t.Cn)(),n),c={class:"container"},p={class:"organization-name-div"},g=u((()=>(0,t._)("label",{class:"name-label"},"Organization",-1))),m=u((()=>(0,t._)("label",{class:"name-label mt-4"},"E Mail",-1))),B=u((()=>(0,t._)("label",{class:"name-label mt-4"},"Description",-1))),C=u((()=>(0,t._)("div",{class:"organization-group-info"},[(0,t._)("i",{class:"mdi mdi-information"}),(0,t._)("span",null,"If you donâ€™t know which e mail address to send request, contact your Group Admin.")],-1))),I={class:"buttons-div"},v=["disabled"],x=(0,t.aZ)({__name:"joinOrganizationGroupDialog",emits:["close"],setup(n,{emit:e}){var o,u,x;const f=i.nC.resolve(l.J),b=i.nC.resolve(r.y),z=i.nC.resolve(d.I),h=(0,a.iH)(f.user),y=(0,a.iH)(f.user.selectedOrganization),w=(0,a.iH)(""),k=(0,a.iH)(""),E=(0,a.iH)([]),F=((null===(o=y.value)||void 0===o?void 0:o.ownerUserIds)?null===(u=y.value)||void 0===u||u.ownerUserIds.includes(h.value.userId):(null===(x=y.value)||void 0===x||x.creatorUserId,h.value.userId),(0,a.iH)("")),O=(0,t.Fl)((()=>!!w.value&&!/^(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,})$/.test(w.value)));function U(){e("close")}function G(n){F.value=n}function q(n){w.value=n}function Z(n){k.value=n}return(0,t.wF)((()=>{E.value=h.value.organizations.filter((n=>{var e;return(n.ownerUserIds?null===(e=n.ownerUserIds)||void 0===e?void 0:e.includes(h.value.userId):n.creatorUserId==h.value.userId)&&!n.organizationGroupId})).map((n=>n.name)),F.value=E.value[0]})),(n,e)=>((0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("div",p,[g,(0,t.Wm)(A.Z,{options:E.value,class:"organizations",default:F.value,placeholder:"Select",onInput:G},null,8,["options","default"]),m,(0,t.Wm)(s.Z,{onGetValue:q,type:"mail",value:w.value,"info-text":"",placeholder:"Group adminâ€™s e mail"},null,8,["value"]),B,(0,t.Wm)(s.Z,{onGetValue:Z,type:"textarea",value:k.value,"info-text":"",placeholder:"Describe your object details"},null,8,["value"]),C]),(0,t._)("div",I,[(0,t._)("button",{class:"cancel-button",onClick:e[0]||(e[0]=n=>U())},"Cancel"),(0,t._)("button",{class:"create-button",disabled:(0,a.SU)(O),onClick:e[1]||(e[1]=n=>function(){const n={targetUserEmail:w.value,organizationName:F.value,description:k.value,type:"joinOrganizationGroup"};b.execute((async()=>{await z.sendJoinOrganizationGroupRequest(n)}),{loading:!0}),U()}())},"SEND REQUEST",8,v)])]))}});var f=o(17450),b=o.n(f),z=o(29530),h=o.n(z),y=o(16199),w=o.n(y),k=o(40458),E=o.n(k),F=o(62916),O=o.n(F),U=o(92165),G=o.n(U),q=o(92184),Z={};Z.styleTagTransform=G(),Z.setAttributes=E(),Z.insert=w().bind(null,"head"),Z.domAPI=h(),Z.insertStyleElement=O(),b()(q.Z,Z),q.Z&&q.Z.locals&&q.Z.locals;const _=(0,o(32525).Z)(x,[["__scopeId","data-v-1782181e"]])}}]);
//# sourceMappingURL=4993.js.map?ver=0.0.298_1707389651640