{"version":3,"file":"9524.js?ver=0.0.314_1714647955860","mappings":"0LAIIA,EAA0B,IAA4B,KAC1DA,EAAwBC,EAAE,KAE1BD,EAAwBE,KAAK,CAACC,EAAOC,GAAI,oNAAqN,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,mFAAmF,MAAQ,GAAG,SAAW,8FAA8F,eAAiB,CAAC,k/HAAyiI,WAAa,MAExiJ,S,gBCLAC,EAAQ,EAAU,CAACC,EAAKC,KACpB,MAAMC,EAASF,EAAIG,WAAaH,EAChC,IAAK,MAAOI,EAAKC,KAAQJ,EACrBC,EAAOE,GAAOC,EAElB,OAAOH,CAAM,C,qJCNjB,MACMI,EAAa,CAAEC,MAAO,uBACtBC,EAAa,CACjBJ,IAAK,EACLG,MAAO,aACPE,MAAO,CAAC,MAAQ,UAAU,OAAS,YAE/BC,EAAa,CAAC,WAgBpB,GAA4B,QAAiB,CAC3CC,OAAQ,kBACRV,MAAO,CACLJ,OAAQ,KACRe,UAAW,MAEbC,MAAMC,GAER,MAAMb,EAAQa,EAKRC,EAAW,aAAoCC,EAAA,GAC/CC,EAAuB,aAAyCC,EAAA,GAChEC,EAAY,aAA8BC,EAAA,GAC1CC,EAAS,aAA2BC,EAAA,GAIpCC,EAAe,aAAiCC,EAAA,GAChDC,GAAW,QAA2B,IACtCC,GAAe,QAAI,CAAC,UAAW,cAAe,YAAa,aAAc,UACzEC,GAAe,QAAI,CACrBC,YAAY,EACZC,QAAS,EACTC,cAAe,GACfC,SAAU,CACNC,QAAST,EAAaU,IAAI,WAC1BC,YAAaX,EAAaU,IAAI,eAC9BE,UAAWZ,EAAaU,IAAI,aAC5BG,WAAYb,EAAaU,IAAI,cAC7BI,MAAO,IAEXC,kBAAkB,EAClBC,KAAM,kBACNC,MAAO,CACHC,MAAO,GACPC,UAAW,yBAIbC,EAAmB,CAAEC,MAAO,UAAWC,IAAK,UAAWC,KAAM,UAAWC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,WAS1H,SAASC,EAAoBC,GACzBpC,EAASqC,SAAQC,UACb,MAAMC,EAAgBnC,EAAUE,OAAOkC,YACjClC,EAAOmC,4BAA4BvD,EAAMJ,OAAQyD,GAAe,EAAMrD,EAAMJ,OAAO4D,eAAgBxD,EAAMW,WAC/GX,EAAMJ,OAAO6D,oBAAsBzD,EAAMJ,OAAO6D,oBAAoBC,QAAOhE,GAAKA,EAAE2D,eAAiBA,UAE7FjC,EAAOuC,0BAA0B3D,EAAMJ,OAAQyD,GAAe,EAAMH,EAAcnB,QAAS/B,EAAMW,WACvGX,EAAMJ,OAAO6D,oBAAoB9D,KAAK,CAAE0D,gBAAeO,gBAAiBV,EAAcnB,UACtFmB,EAAcO,oBAAqB9D,KAAK,CAAE0D,gBAAeO,gBAAiBV,EAAcnB,UACxF/B,EAAMJ,OAAO4D,eAAiBN,EAAcnB,OAAO,GACpD,CAAE8B,SAAS,GAElB,CACA,SAASC,IACL,OAAO9D,EAAMJ,OAAO4D,cACxB,CAEA,OAzBA,SAAc,KAIV1C,EAASqC,SAAQC,UACb5B,EAASuC,YAAc/C,EAAqBgD,mBAAmBhE,EAAMJ,OAAOqE,GAAIjE,EAAMW,UAAU,GACjG,CAAEkD,SAAS,GALD,IAwBV,CAACK,EAAUC,KAChB,MAAMC,GAA4B,QAAkB,kBAEpD,OAAQ,WAAc,QAAoB,MAAO/D,EAAY,EAC3D,QAAa+D,EAA2B,CACtCC,IAAK,QACLC,KAAM9C,EAASuC,MACfQ,QAAS9C,EAAasC,MACtBS,QAAS9C,EAAaqC,OACrB,CACD5B,YAAY,SAAUnC,GAAU,EAC9B,IAAAyE,GAAoB,OAAQ,MAAM,qBAAiB,IAAIC,KAAKC,eAAe,QAASjC,GAAakC,OAAO,IAAIC,KAAK7E,EAAM8E,IAAI3C,cAAe,MAE5IC,OAAO,SAAUpC,GAAU,CACxBA,EAAM8E,IAAI/C,SAAW+B,MACjB,WAAc,QAAoB,SAAUvD,EAAY,YACxD,WAAc,QAAoB,SAAU,CAC3CJ,IAAK,EACLG,MAAO,aACPyE,QAAUC,GAAiB/B,EAAoBjD,EAAM8E,MACpD,mBAAoB,EAAerE,OAE5CgE,EAAG,GACF,EAAe,CAAC,OAAQ,UAAW,aACrC,CAEL,I,sIC7GID,EAAU,CAAC,EAEfA,EAAQS,kBAAoB,IAC5BT,EAAQU,cAAgB,IAElBV,EAAQW,OAAS,SAAc,KAAM,QAE3CX,EAAQY,OAAS,IACjBZ,EAAQa,mBAAqB,IAEhB,IAAI,IAASb,GAKJ,KAAW,YAAiB,WCpBlD,MAEA,GAFiC,E,SAAA,GAAgB,EAAQ,CAAC,CAAC,YAAY,oB","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/module/versionSettings.vue?df90","webpack://qcloud_shell/../node_modules/vue-loader/dist/exportHelper.js","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/module/versionSettings.vue?b386","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/module/versionSettings.vue?2943","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/module/versionSettings.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../styles/IDE3.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.container[data-v-8264f5fa] {\\n    padding: 32px 20px 20px;\\n}\\n.import-btn[data-v-8264f5fa] {\\n    background: none;\\n    border: none;\\n    font-size: 14px;\\n    font-weight: 500;\\n    color: #2C5A86;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/module/versionSettings.vue\"],\"names\":[],\"mappings\":\";AAuFA;IACI,uBAAuB;AAC3B;AAEA;IACI,gBAAgB;IAChB,YAAY;IACZ,eAAe;IACf,gBAAgB;IAChB,cAAc;AAClB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { onBeforeMount, ref } from \\\"vue\\\";\\nimport { container } from \\\"../../../../../domain/core/diContainer\\\";\\nimport { ILocalization } from \\\"../../../../../domain/infrastructure/ILocalization\\\";\\nimport { IModule, IModuleVersion } from \\\"../../../../../domain/model/models\\\";\\nimport { IModuleVersionUseCase } from \\\"../../../../../domain/useCase/IModuleVersionUseCase\\\";\\nimport { IStudio } from \\\"../../../../../domain/useCase/IStudio\\\";\\nimport { IUseCaseExecutor } from \\\"../../../../../domain/useCase/IUseCaseExecutor\\\";\\nimport { IViewModel } from \\\"../../../../../domain/viewModel/IViewModel\\\";\\n\\ninterface IModuleItem {\\n    module: IModule;\\n    mainOrgId?: string\\n}\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst moduleVersionUseCase = container.resolve<IModuleVersionUseCase>(IModuleVersionUseCase);\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst studio = container.resolve<IStudio>(IStudio);\\n\\n\\nconst props = defineProps<IModuleItem>();\\nconst localization = container.resolve<ILocalization>(ILocalization);\\nconst versions = ref<Array<IModuleVersion>>([]);\\nconst tableColumns = ref([\\\"version\\\", \\\"description\\\", \\\"createdBy\\\", \\\"createDate\\\", \\\"state\\\"]);\\nconst tableOptions = ref({\\n    filterable: false,\\n    perPage: 5,\\n    perPageValues: [],\\n    headings: {\\n        version: localization.get(\\\"version\\\"),\\n        description: localization.get(\\\"description\\\"),\\n        createdBy: localization.get(\\\"createdBy\\\"),\\n        createDate: localization.get(\\\"createDate\\\"),\\n        state: \\\"\\\",\\n    },\\n    resizableColumns: false,\\n    skin: 'module-versions',\\n    texts: {\\n        count: \\\"\\\",\\n        noResults: \\\"No matching records\\\",\\n\\n    },\\n});\\nconst dateOptions: any = { month: '2-digit', day: '2-digit', year: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric' };\\nonBeforeMount(() => {\\n    getVersions();\\n})\\nfunction getVersions() {\\n    executor.execute(async () => {\\n        versions.value = await moduleVersionUseCase.listModuleVersions(props.module.ID, props.mainOrgId);\\n    }, { loading: true })\\n}\\nfunction importModuleVersion(moduleVersion: IModuleVersion) {\\n    executor.execute(async () => {\\n        const applicationID = viewModel.studio.appId;\\n        await studio.detachModuleFromApplication(props.module, applicationID, true, props.module.currentVersion, props.mainOrgId);\\n        props.module.relatedApplications = props.module.relatedApplications.filter(i => i.applicationID != applicationID);\\n\\n        await studio.attachModuletoApplication(props.module, applicationID, true, moduleVersion.version, props.mainOrgId);\\n        props.module.relatedApplications.push({ applicationID, importedVersion: moduleVersion.version });\\n        moduleVersion.relatedApplications!.push({ applicationID, importedVersion: moduleVersion.version });\\n        props.module.currentVersion = moduleVersion.version;\\n    }, { loading: true })\\n\\n}\\nfunction computeImportedVersion() {\\n    return props.module.currentVersion;\\n}\\n</script>\\n<template>\\n    <div class=\\\"container vue-table\\\">\\n        <v-client-table ref=\\\"table\\\" :data=\\\"versions\\\" :columns=\\\"tableColumns\\\" :options=\\\"tableOptions\\\">\\n            <template #createDate=\\\"props\\\">\\n                <span>{{ new Intl.DateTimeFormat(\\\"tr-TR\\\", dateOptions).format(new Date(props.row.createDate)) }}</span>\\n            </template>\\n            <template #state=\\\"props\\\">\\n                <button v-if=\\\"props.row.version == computeImportedVersion()\\\" class=\\\"import-btn\\\"\\n                    style=\\\"color: #D5D5D5; cursor: default;\\\">Using</button>\\n                <button v-else class=\\\"import-btn\\\" @click=\\\"importModuleVersion(props.row)\\\">Use This Version</button>\\n            </template>\\n        </v-client-table>\\n    </div>\\n\\n</template>\\n<style scoped>\\n@import url(\\\"../../../../../../src/styles/IDE3.css\\\");\\n\\n.container {\\n    padding: 32px 20px 20px;\\n}\\n\\n.import-btn {\\n    background: none;\\n    border: none;\\n    font-size: 14px;\\n    font-weight: 500;\\n    color: #2C5A86;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8264f5fa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container vue-table\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"import-btn\",\n  style: {\"color\":\"#D5D5D5\",\"cursor\":\"default\"}\n}\nconst _hoisted_3 = [\"onClick\"]\n\nimport { onBeforeMount, ref } from \"vue\";\nimport { container } from \"../../../../../domain/core/diContainer\";\nimport { ILocalization } from \"../../../../../domain/infrastructure/ILocalization\";\nimport { IModule, IModuleVersion } from \"../../../../../domain/model/models\";\nimport { IModuleVersionUseCase } from \"../../../../../domain/useCase/IModuleVersionUseCase\";\nimport { IStudio } from \"../../../../../domain/useCase/IStudio\";\nimport { IUseCaseExecutor } from \"../../../../../domain/useCase/IUseCaseExecutor\";\nimport { IViewModel } from \"../../../../../domain/viewModel/IViewModel\";\n\ninterface IModuleItem {\n    module: IModule;\n    mainOrgId?: string\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'versionSettings',\n  props: {\n    module: null,\n    mainOrgId: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n    module: IModule;\n    mainOrgId?: string\n};\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst moduleVersionUseCase = container.resolve<IModuleVersionUseCase>(IModuleVersionUseCase);\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst studio = container.resolve<IStudio>(IStudio);\n\n\n\nconst localization = container.resolve<ILocalization>(ILocalization);\nconst versions = ref<Array<IModuleVersion>>([]);\nconst tableColumns = ref([\"version\", \"description\", \"createdBy\", \"createDate\", \"state\"]);\nconst tableOptions = ref({\n    filterable: false,\n    perPage: 5,\n    perPageValues: [],\n    headings: {\n        version: localization.get(\"version\"),\n        description: localization.get(\"description\"),\n        createdBy: localization.get(\"createdBy\"),\n        createDate: localization.get(\"createDate\"),\n        state: \"\",\n    },\n    resizableColumns: false,\n    skin: 'module-versions',\n    texts: {\n        count: \"\",\n        noResults: \"No matching records\",\n\n    },\n});\nconst dateOptions: any = { month: '2-digit', day: '2-digit', year: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric' };\nonBeforeMount(() => {\n    getVersions();\n})\nfunction getVersions() {\n    executor.execute(async () => {\n        versions.value = await moduleVersionUseCase.listModuleVersions(props.module.ID, props.mainOrgId);\n    }, { loading: true })\n}\nfunction importModuleVersion(moduleVersion: IModuleVersion) {\n    executor.execute(async () => {\n        const applicationID = viewModel.studio.appId;\n        await studio.detachModuleFromApplication(props.module, applicationID, true, props.module.currentVersion, props.mainOrgId);\n        props.module.relatedApplications = props.module.relatedApplications.filter(i => i.applicationID != applicationID);\n\n        await studio.attachModuletoApplication(props.module, applicationID, true, moduleVersion.version, props.mainOrgId);\n        props.module.relatedApplications.push({ applicationID, importedVersion: moduleVersion.version });\n        moduleVersion.relatedApplications!.push({ applicationID, importedVersion: moduleVersion.version });\n        props.module.currentVersion = moduleVersion.version;\n    }, { loading: true })\n\n}\nfunction computeImportedVersion() {\n    return props.module.currentVersion;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_client_table = _resolveComponent(\"v-client-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_v_client_table, {\n      ref: \"table\",\n      data: versions.value,\n      columns: tableColumns.value,\n      options: tableOptions.value\n    }, {\n      createDate: _withCtx((props) => [\n        _createElementVNode(\"span\", null, _toDisplayString(new Intl.DateTimeFormat(\"tr-TR\", dateOptions).format(new Date(props.row.createDate))), 1 /* TEXT */)\n      ]),\n      state: _withCtx((props) => [\n        (props.row.version == computeImportedVersion())\n          ? (_openBlock(), _createElementBlock(\"button\", _hoisted_2, \"Using\"))\n          : (_openBlock(), _createElementBlock(\"button\", {\n              key: 1,\n              class: \"import-btn\",\n              onClick: ($event: any) => (importModuleVersion(props.row))\n            }, \"Use This Version\", 8 /* PROPS */, _hoisted_3))\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\", \"columns\", \"options\"])\n  ]))\n}\n}\n\n})","\n      import API from \"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./versionSettings.vue?vue&type=style&index=0&id=8264f5fa&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./versionSettings.vue?vue&type=style&index=0&id=8264f5fa&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./versionSettings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./versionSettings.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./versionSettings.vue?vue&type=style&index=0&id=8264f5fa&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/studio/studio/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8264f5fa\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","i","push","module","id","exports","sfc","props","target","__vccOpts","key","val","_hoisted_1","class","_hoisted_2","style","_hoisted_3","__name","mainOrgId","setup","__props","executor","IUseCaseExecutor","moduleVersionUseCase","IModuleVersionUseCase","viewModel","IViewModel","studio","IStudio","localization","ILocalization","versions","tableColumns","tableOptions","filterable","perPage","perPageValues","headings","version","get","description","createdBy","createDate","state","resizableColumns","skin","texts","count","noResults","dateOptions","month","day","year","hour","minute","second","importModuleVersion","moduleVersion","execute","async","applicationID","appId","detachModuleFromApplication","currentVersion","relatedApplications","filter","attachModuletoApplication","importedVersion","loading","computeImportedVersion","value","listModuleVersions","ID","_ctx","_cache","_component_v_client_table","ref","data","columns","options","_","Intl","DateTimeFormat","format","Date","row","onClick","$event","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}