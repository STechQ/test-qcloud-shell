{"version":3,"file":"3293.js","mappings":"iKAGIA,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,4CAA6C,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,6DAA6D,MAAQ,GAAG,SAAW,eAAe,eAAiB,CAAC,y8DAAs9D,WAAa,MAExsE,W,wECIA,SAA4B,QAAiB,CAC3CC,OAAQ,cACRC,MAAO,CACLC,UAAW,KACXC,UAAW,MAEbC,MAAMC,GAER,MAAMJ,EAAQI,EAMRC,GAAQ,UAsCd,OApCAL,EAAMC,UAAUK,SAAWC,UAChB,CAAEC,MAAOH,EAAMI,MAAMC,IAAKC,MAAO,KAE5CX,EAAMC,UAAUW,SAAWL,MAAOC,EAAOG,KAErCN,EAAMI,MAAMC,IAAMF,GA+Bf,CAACK,EAAUC,MACR,WAAc,QAAoB,MAAO,CAC/CC,QAAS,QACTC,IAAKX,GACJ,KAAM,S,qICxDPY,EAAU,GAEdA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,WCpBlD,MAEA,GAFiC,E,SAAA,GAAgB,EAAQ,CAAC,CAAC,YAAY","sources":["webpack://qcloud_shell/./src/presentation/vue3/editors/imageEditor.vue?321a","webpack://qcloud_shell/./src/presentation/vue3/editors/imageEditor.vue?9807","webpack://qcloud_shell/./src/presentation/vue3/editors/imageEditor.vue?5854","webpack://qcloud_shell/./src/presentation/vue3/editors/imageEditor.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n/* textarea{\\n    resize: both;\\n} */\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/editors/imageEditor.vue\"],\"names\":[],\"mappings\":\";AAoDA;;GAEG\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { onBeforeUnmount, onMounted, onUnmounted, Ref, ref } from 'vue';\\nimport { IImageEditorProps } from '../../../domain/objects/editors/IImageEditor';\\n\\ninterface IProps {\\n    functions: IImageEditorProps[\\\"functions\\\"];\\n    callbacks: IImageEditorProps[\\\"callbacks\\\"];\\n}\\nconst props = defineProps<IProps>();\\nconst image = ref<HTMLImageElement>() as Ref<HTMLImageElement>;\\n\\nprops.functions.getModel = async () => {\\n    return { model: image.value.src, state: {  } };\\n};\\nprops.functions.setModel = async (model, state) => {\\n    //model\\n    image.value.src = model;\\n\\n    //state\\n    // TO-DO\\n}\\nconst modified: Record<string, EventListenerOrEventListenerObject> = {\\n    // select: () => { console.log(\\\"select\\\"); props.callbacks.modified({ state: true }) },\\n    // scroll: () => { console.log(\\\"scroll\\\"); props.callbacks.modified({ state: true }) },\\n    // change: () => { console.log(\\\"change\\\"); props.callbacks.modified({ model: true }) },\\n    // keydown: (e: Event) => {\\n    //     const event = e as KeyboardEvent;\\n    //     const code = event.code.toLowerCase();\\n    //     if (event.shiftKey || event.ctrlKey || code.startsWith(\\\"arrow\\\")){return;}\\n    //     console.log(\\\"keydown\\\"); props.callbacks.modified({ model: true });\\n    // },\\n    // resize: () => { console.log(\\\"resize\\\"); props.callbacks.modified({ state: true }) },\\n    // input:() =>{console.log('model change'); props.callbacks.modified({model:true})}\\n};\\n\\n// const watchTextArea = (attach: boolean) => {\\n//     const target = attach ? textarea.value.addEventListener : textarea.value.removeEventListener;\\n//     Object.keys(modified).forEach(key => target.call(textarea.value, key, modified[key]));\\n// }\\n\\n// onMounted(() => {\\n//     watchTextArea(true);\\n// });\\n// onBeforeUnmount(() => {\\n//     watchTextArea(false);\\n// });\\n</script>\\n\\n<template>\\n    <img ref=\\\"image\\\"/>\\n</template>\\n<style scoped>\\n/* textarea{\\n    resize: both;\\n} */\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { onBeforeUnmount, onMounted, onUnmounted, Ref, ref } from 'vue';\nimport { IImageEditorProps } from '../../../domain/objects/editors/IImageEditor';\n\ninterface IProps {\n    functions: IImageEditorProps[\"functions\"];\n    callbacks: IImageEditorProps[\"callbacks\"];\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'imageEditor',\n  props: {\n    functions: null,\n    callbacks: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n    functions: IImageEditorProps[\"functions\"];\n    callbacks: IImageEditorProps[\"callbacks\"];\n}\n\n\nconst image = ref<HTMLImageElement>() as Ref<HTMLImageElement>;\n\nprops.functions.getModel = async () => {\n    return { model: image.value.src, state: {  } };\n};\nprops.functions.setModel = async (model, state) => {\n    //model\n    image.value.src = model;\n\n    //state\n    // TO-DO\n}\nconst modified: Record<string, EventListenerOrEventListenerObject> = {\n    // select: () => { console.log(\"select\"); props.callbacks.modified({ state: true }) },\n    // scroll: () => { console.log(\"scroll\"); props.callbacks.modified({ state: true }) },\n    // change: () => { console.log(\"change\"); props.callbacks.modified({ model: true }) },\n    // keydown: (e: Event) => {\n    //     const event = e as KeyboardEvent;\n    //     const code = event.code.toLowerCase();\n    //     if (event.shiftKey || event.ctrlKey || code.startsWith(\"arrow\")){return;}\n    //     console.log(\"keydown\"); props.callbacks.modified({ model: true });\n    // },\n    // resize: () => { console.log(\"resize\"); props.callbacks.modified({ state: true }) },\n    // input:() =>{console.log('model change'); props.callbacks.modified({model:true})}\n};\n\n// const watchTextArea = (attach: boolean) => {\n//     const target = attach ? textarea.value.addEventListener : textarea.value.removeEventListener;\n//     Object.keys(modified).forEach(key => target.call(textarea.value, key, modified[key]));\n// }\n\n// onMounted(() => {\n//     watchTextArea(true);\n// });\n// onBeforeUnmount(() => {\n//     watchTextArea(false);\n// });\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"img\", {\n    ref_key: \"image\",\n    ref: image\n  }, null, 512 /* NEED_PATCH */))\n}\n}\n\n})","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./imageEditor.vue?vue&type=style&index=0&id=75851bfc&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./imageEditor.vue?vue&type=style&index=0&id=75851bfc&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./imageEditor.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./imageEditor.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./imageEditor.vue?vue&type=style&index=0&id=75851bfc&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/QCloud-Shell/QCloud-Shell/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-75851bfc\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","__name","props","functions","callbacks","setup","__props","image","getModel","async","model","value","src","state","setModel","_ctx","_cache","ref_key","ref","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}