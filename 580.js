"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[580],{44640:(e,n,o)=>{o.d(n,{Z:()=>a});var t=o(8375),i=o.n(t),l=o(7638),d=o.n(l)()(i());d.push([e.id,"\n.row-container[data-v-fad282d4] {\n\twidth: 100%;\n\theight: 36px;\n\tposition: relative;\n\tbackground: #ffffff 0% 0% no-repeat padding-box;\n\tborder: 1px solid #e0e0e0;\n}\n.app-tier-model-icon[data-v-fad282d4] {\n\tposition: absolute;\n\twidth: 16px;\n\theight: 16px;\n\ttop: 6px;\n}\n.app-tier-model-name[data-v-fad282d4] {\n\tposition: absolute;\n\ttop: 9px;\n\tfont: normal normal normal 14px/19px Roboto;\n\tcolor: #212121;\n}\n.app-tier-model-name.disabled[data-v-fad282d4] {\n\tcolor: #D5D5D5;\n}\n.version-text[data-v-fad282d4] {\n\tmargin: 10px 7px 10px auto;\n\tdisplay: table;\n\tfont: normal normal normal 12px/16px Roboto;\n\tcolor: #757575;\n\tcursor: pointer;\n\tuser-select: none;\n}\n.version-text.disabled[data-v-fad282d4] {\n\tpointer-events: none;\n\tcursor: pointer;\n}\n.chevron[data-v-fad282d4] {\n\tposition: absolute;\n\tcolor: #757575;\n\tfont-size: 24px;\n}\n.button-tooltip[data-v-fad282d4] {\n\tvisibility: hidden;\n\tposition: absolute;\n\tbackground: #757575;\n\tcolor: #FFFFFF;\n\tfont-size: 11px;\n\tfont-family: 'Roboto';\n\ttext-align: center;\n\tborder-radius: 4px;\n\tletter-spacing: 0.2px;\n\tpadding: 6px 8px 6px 8px;\n\ttop: 56px;\n\tleft: 63px;\n\topacity: 0;\n}\n.button-disable .save-button:hover+.button-tooltip[data-v-fad282d4],\n.start-screen:hover .button-tooltip[data-v-fad282d4],\n.row-container:hover .button-tooltip[data-v-fad282d4],\n.publish-info:hover .button-tooltip[data-v-fad282d4] {\n\tvisibility: visible;\n\ttransition: opacity 0.3s ease-out 1s;\n\topacity: 1;\n}\n.bpmn-color[data-v-fad282d4] {\n\tcolor: #007c77;\n}\n.process-color[data-v-fad282d4] {\n\tcolor: #007c77;\n}\n.entity-designer-color[data-v-fad282d4] {\n\tcolor: #e9724c;\n}\n.qjson-color[data-v-fad282d4] {\n\tcolor: #449dd1;\n}\n.yaml-color[data-v-fad282d4] {\n\tcolor: #449dd1;\n}\n.namedcomp-color[data-v-fad282d4] {\n\tcolor: #212121;\n}\n.app-settings-color[data-v-fad282d4] {\n\tcolor: #151233;\n}\n.js-color[data-v-fad282d4] {\n\tcolor: #449dd1;\n}\n.css-color[data-v-fad282d4] {\n\tcolor: #151233;\n}\n",""]);const a=d},63005:(e,n,o)=>{o.d(n,{Z:()=>a});var t=o(8375),i=o.n(t),l=o(7638),d=o.n(l)()(i());d.push([e.id,"\n.container[data-v-06c0da68] {\n    padding: 32px 20px 20px;\n}\n.settings-container[data-v-06c0da68] {\n    position: relative;\n    top: 0px;\n    left: 0px;\n}\n.custom-text[data-v-06c0da68] {\n    /* position: absolute; */\n    font-family: 'Roboto';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 18px;\n    /* left: 24px; */\n    color: #212121;\n}\n\n/* .custom-text.title{\n    top: 92px;\n}\n\n.custom-text.environment{\n    top: 174px;\n} */\n.radio-button[data-v-06c0da68] {\n    position: absolute;\n    top: 60px;\n    left: 20px;\n    cursor: pointer;\n}\n.radio-text[data-v-06c0da68] {\n    position: absolute;\n    top: 59px;\n    font: normal normal normal 14px/19px Roboto;\n    color: #212121;\n    user-select: none;\n    cursor: pointer;\n}\n.existing-app-url[data-v-06c0da68] {\n    position: absolute;\n    width: 760px;\n    height: 40px;\n    top: 114px;\n    left: 20px;\n    background: #ffffff 0% 0% no-repeat padding-box;\n    border: 1px solid #bcbcbc;\n    border-radius: 4px;\n    font: normal normal normal 14px/19px Roboto;\n    letter-spacing: 0px;\n    padding: 10px 0px 10px 10px;\n}\n.url-error[data-v-06c0da68] {\n    border: 1px solid red;\n}\n.url-disable[data-v-06c0da68] {\n    opacity: 0.5;\n}\n.existing-app-url[data-v-06c0da68]::placeholder {\n    color: #bcbcbc;\n    user-select: none;\n}\n.modules-selected-checkbox[data-v-06c0da68] {\n    cursor: pointer;\n}\n.modules-selected-text[data-v-06c0da68] {\n    font: normal normal normal 14px/19px Roboto;\n    color: #757575;\n    margin: 0 0 13px 30px;\n}\n\n/* .modules-selected-text.deploy {\n    top: 257px;\n} */\n.text-number[data-v-06c0da68] {\n    font: normal normal bold 14px/19px Roboto;\n    color: #212121;\n}\n.modules-datatable[data-v-06c0da68] {\n    width: 760px;\n    height: 288px;\n    border: 1px solid #bcbcbc;\n    overflow-x: hidden;\n    overflow-y: auto;\n    margin-bottom: 20px;\n}\n\n/* .modules-datatable.deploy {\n    top: 286px;\n} */\n.modules-datatable[data-v-06c0da68]::-webkit-scrollbar {\n    width: 4px;\n}\n.modules-datatable[data-v-06c0da68]::-webkit-scrollbar-thumb {\n    background: #bcbcbc 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n}\n.modules-datatable[data-v-06c0da68]::-webkit-scrollbar-thumb:hover {\n    background: #555;\n}\n.row-container[data-v-06c0da68] {\n    width: 100%;\n    height: 36px;\n    position: relative;\n    background: #ffffff 0% 0% no-repeat padding-box;\n    border: 1px solid #e0e0e0;\n}\n.chevron[data-v-06c0da68] {\n    position: absolute;\n    left: 4px;\n    color: #757575;\n    font-size: 24px;\n}\n.chevron.disabled[data-v-06c0da68] {\n    pointer-events: none;\n    color: #D5D5D5;\n}\n.module-checkbox[data-v-06c0da68] {\n    position: absolute;\n    top: 10px;\n    left: 43px;\n    cursor: pointer;\n}\n.module-name[data-v-06c0da68] {\n    position: absolute;\n    top: 9px;\n    left: 69px;\n    font: normal normal normal 14px/19px Roboto;\n    color: #212121;\n}\n.module-name.imported[data-v-06c0da68] {\n    top: 10px;\n    left: 87px;\n}\n.module-name.disabled[data-v-06c0da68] {\n    color: #D5D5D5;\n}\n.model-checkbox[data-v-06c0da68] {\n    position: absolute;\n    top: 10px;\n    left: 59px;\n    cursor: pointer;\n}\n.model-icon[data-v-06c0da68] {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    top: 6px;\n    left: 85px;\n}\n.app-tier-model-icon[data-v-06c0da68] {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    top: 6px;\n    left: 69px\n}\n.app-tier-model-name[data-v-06c0da68] {\n    position: absolute;\n    top: 10px;\n    left: 87px;\n    font: normal normal normal 14px/19px Roboto;\n    color: #212121;\n}\n.app-tier-model-name.disabled[data-v-06c0da68] {\n    color: #D5D5D5;\n}\n.model-name[data-v-06c0da68] {\n    position: absolute;\n    top: 9px;\n    left: 103px;\n    font: normal normal normal 14px/19px Roboto;\n    color: #212121;\n}\n.model-name.disabled[data-v-06c0da68] {\n    color: #D5D5D5;\n}\n.version-text[data-v-06c0da68] {\n    margin: 10px 7px 10px auto;\n    display: table;\n    font: normal normal normal 12px/16px Roboto;\n    color: #757575;\n    cursor: pointer;\n    user-select: none;\n}\n.version-text.disabled[data-v-06c0da68] {\n    pointer-events: none;\n    cursor: pointer;\n}\n.version-icon[data-v-06c0da68] {\n    font: normal normal normal 16px/19px Material Design Icons;\n    color: #D5D5D5;\n}\n.version-icon.disabled[data-v-06c0da68] {\n    font: normal normal normal 16px/19px Material Design Icons;\n    color: #EEEEEE;\n    pointer-events: none;\n    cursor: pointer;\n}\n.footer[data-v-06c0da68] {\n    position: relative;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: end;\n}\n.footer.deploy[data-v-06c0da68] {\n    position: relative;\n    width: 100%;\n}\n.footer.export[data-v-06c0da68] {\n    margin-top: 102px;\n}\n.cancel-button[data-v-06c0da68] {\n    border-radius: 4px;\n    user-select: none;\n    font-style: normal;\n    font-weight: 500;\n    font-family: \"ROBOTO\";\n    font-size: 15px;\n    color: #757575;\n    padding: 10px 16px;\n    cursor: pointer;\n}\n.save-button[data-v-06c0da68] {\n    background: #151233 0% 0% no-repeat padding-box;\n    border-radius: 4px;\n    user-select: none;\n    font-weight: 500;\n    font-size: 15px;\n    color: #ffffff;\n    padding: 10px 16px;\n    cursor: pointer;\n}\n.mobile-publish-text[data-v-06c0da68],\n.web-publish-text[data-v-06c0da68] {\n    padding: 5px 12px;\n    margin-bottom: 52px;\n    width: 100%;\n    color: #757575;\n    font-size: 14px;\n    background: #F5F5FA;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n}\n.mobile-publish-text i[data-v-06c0da68],\n.web-publish-text i[data-v-06c0da68] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 4px;\n}\n.save-button.deploy[data-v-06c0da68] {\n    padding: 10px 16px;\n}\n.button-disable .save-button[data-v-06c0da68] {\n    color: #757575;\n    cursor: default;\n}\n.button-disable .save-button:hover+.button-tooltip[data-v-06c0da68],\n.start-screen:hover .button-tooltip[data-v-06c0da68],\n.row-container:hover .button-tooltip[data-v-06c0da68],\n.publish-info:hover .button-tooltip[data-v-06c0da68] {\n    visibility: visible;\n    transition: opacity 0.3s ease-out 1s;\n    opacity: 1;\n}\n.button-tooltip[data-v-06c0da68] {\n    visibility: hidden;\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    font-family: 'Roboto';\n    text-align: center;\n    border-radius: 4px;\n    letter-spacing: 0.2px;\n    padding: 6px 8px 6px 8px;\n    top: 56px;\n    left: 63px;\n    opacity: 0;\n}\n.publish-info[data-v-06c0da68] {\n    color: #757575;\n    font-size: 20px;\n    margin-left: 10px;\n}\n.select-environment[data-v-06c0da68] {\n    width: 100%;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    margin-top: 4px\n}\n",""]);const a=d},16582:(e,n,o)=>{o.d(n,{Z:()=>a});var t=o(8375),i=o.n(t),l=o(7638),d=o.n(l)()(i());d.push([e.id,"\n.selected-environment {\n    background-color: transparent;\n    border-radius: 4px;\n    border: 1px solid #BCBCBC;\n    color: #212121;\n    padding-left: 12px;\n}\n.custom-placeholder:empty:before {\n    color: #BCBCBC !important;\n    font-weight: 400;\n}\n.custom-select .items .option {\n    font-size: 14px;\n    padding-left: 12px;\n    line-height: 32px;\n}\n.custom-select .items .option:hover {\n    background-color: #EEEEEE;\n    color: #212121;\n}\n.custom-select .items .option.disabled:hover {\n    background-color: #FFFFFF;\n    color: #212121;\n}\n.custom-select.select-environment .items {\n    margin-top: 4px;\n    color: #212121;\n    border-radius: 4px;\n    border: 1px solid #E3E3E3;\n    overflow: hidden;\n    background-color: #FFFFFF;\n    box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);\n    position: static !important;\n}\n",""]);const a=d},24747:(e,n,o)=>{o.d(n,{X:()=>i});var t=o(28518);class i{constructor(){}createOverriderMap(e){return e.reduce(((e,n)=>n.overriddenModel?(e.set(n.overriddenModel.ID,n.ID),e):e),new Map)}changeModelRef(e,n,o){const i="object"==typeof e;let l=i?JSON.stringify(e):e;return l=l.replace(/<<([a-zA-Z0-9_]+):([a-zA-Z0-9_\-]+)>>/g,((e,i,l)=>{const d=n.get(l)||l;return t.x.embedIdTypeWithAppId(o,d,i)})),i?JSON.parse(l):l}}},95150:(e,n,o)=>{let t;o.d(n,{he:()=>i,vf:()=>l});const i=t={getUser:{name:"getUser",type:"flow"},notify:{name:"notify",type:"flow"},userTaskActivity:{name:"userTaskActivity",type:"flow"},preForm:{name:"TaskPreview",type:"qjson"}},l=t={iPaasEndPoint:{name:"IPaaS_Endpoint",type:"constant"}}},55287:(e,n,o)=>{o.d(n,{P:()=>t});const t=Symbol.for("ICreateWorkflowExportJob")},29307:(e,n,o)=>{o.d(n,{w:()=>t});const t=Symbol.for("IFileDisplayerUseCase")},62376:(e,n,o)=>{o.d(n,{q:()=>t});const t=Symbol.for("IListMultiModelVersions")},17379:(e,n,o)=>{o.d(n,{y:()=>t});const t=Symbol.for("IListMultiModuleVersions")},66354:(e,n,o)=>{o.d(n,{Z:()=>B});var t=o(71093),i=o(66190),l=o(73843),d=o(67457),a=o(66059),r=o(54848),s=o(5627);const c=e=>((0,t.dD)("data-v-fad282d4"),e=e(),(0,t.Cn)(),e),p=["id"],u={key:0,class:"start-screen"},v=[c((()=>(0,t._)("i",{class:"mdi mdi-home-outline"},null,-1))),c((()=>(0,t._)("span",{class:"button-tooltip",style:{top:"-30px",left:"2px","z-index":"1",width:"80px"}},"Start Screen",-1)))],m=c((()=>(0,t._)("div",null,null,-1))),f=c((()=>(0,t._)("div",null,null,-1))),h={key:0},x={key:1,class:(0,i.normalizeClass)(["mdi mdi-pencil-outline version-icon"])},b=c((()=>(0,t._)("i",{class:(0,i.normalizeClass)(["mdi mdi-pencil-outline version-icon"])},null,-1))),y={key:2,class:"button-tooltip",style:{"z-index":"1",width:"300px"}},g=c((()=>(0,t._)("b",null,"Stop Working",-1))),k=c((()=>(0,t._)("b",null,"Ready to Publish",-1))),w=(0,t.aZ)({__name:"exportDialogItem",props:{handleItemCheckEvent:{type:Function},startScreen:null,versionDialog:{type:Function},handleCollapse:{type:Function},item:null,moduleVersionDialog:{type:Function},hideVersionInfo:{type:Boolean}},setup(e,{expose:n}){const o=e,c=s.nC.resolve(r.B),w=(0,l.iH)("mdi mdi-menu-down chevron"),D=(0,l.iH)(o.item.checked);function C(){o.handleCollapse(o.item,!0),w.value=`mdi mdi-menu${o.item.collapsed?"-right":"-down"} chevron`}function I(){return o.handleItemCheckEvent(o.item),D.value=o.item.checked,D.value}function E(){o.item.imported?o.moduleVersionDialog(o.item):o.versionDialog(o.item)}function S(e){const n=c.findModel(e.id);return"appSettings"===(null==n?void 0:n.usageType)}n({handleModuleCountCheckboxEvent:function(){return D.value=o.item.checked,D.value}});const F=(0,t.Fl)((()=>25*(o.item.level||0)));return(0,t.Fl)((()=>25*(o.item.level||0))),(n,r)=>{var s,c,M,T;return(0,t.wg)(),(0,t.iD)("div",{class:"row-container",id:e.item.id},[e.item.children&&(null===(s=e.item.children)||void 0===s?void 0:s.length)>0?((0,t.wg)(),(0,t.iD)("i",{key:0,class:(0,i.normalizeClass)(w.value),onClick:C,style:(0,i.normalizeStyle)({cursor:"pointer",left:(e.item.level?(0,l.SU)(F)-20:4)+"px"})},null,6)):(0,t.kq)("v-if",!0),(0,t.kq)(" <i v-if=\"item.type == 'folder'\"\n\t\t\t:style=\"{ top: '4px', fontSize: 'larger', cursor: 'pointer', left: iconLeft + (!item.level ? 43 : 20) + 'px', position: 'absolute' }\"\n\t\t\t@click=\"calculateClass\" class=\"mdi mdi-folder app-settings-color app-tier-model-icon\"></i> "),(0,t.Wm)(d.Z,{style:(0,i.normalizeStyle)({top:"8px",cursor:"pointer",left:(0,l.SU)(F)+(e.item.level?20:43)+"px",position:"absolute"}),check:D.value||e.item.allChildChecked,minus:!e.item.allChildChecked&&e.item.anyChildChecked,disabled:e.item.disabled,onClick:I},null,8,["style","check","minus","disabled"]),(0,t._)("i",{class:(0,i.normalizeClass)("app-tier-model-icon "+(0,l.SU)(a.o).getModelVisualInfo(e.item.type,void 0).icon),style:(0,i.normalizeStyle)({color:(0,l.SU)(a.o).getModelVisualInfo(e.item.type,void 0).color,left:(0,l.SU)(F)+(e.item.level?45:69)+"px"})},null,6),(0,t._)("span",{style:(0,i.normalizeStyle)({left:(0,l.SU)(F)+(e.item.level?71:91)+"px"}),class:(0,i.normalizeClass)(["app-tier-model-name",e.item.disabled?"disabled":""])},[(0,t.Uk)((0,i.toDisplayString)(null===(c=e.item)||void 0===c?void 0:c.name)+" ",1),(null===(M=e.startScreen)||void 0===M?void 0:M.ID)==e.item.id?((0,t.wg)(),(0,t.iD)("span",u,v)):(0,t.kq)("v-if",!0)],6),"folder"==e.item.type||o.hideVersionInfo?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[m,"module"!=e.item.type?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,i.normalizeClass)(["version-text",!e.item.disabled&&!(null===(T=e.item.parent)||void 0===T?void 0:T.imported)||S(e.item)?"":"disabled"]),onClick:E},[f,(0,t.Uk)(" "+(0,i.toDisplayString)(e.item.version?e.item.version:"latest")+" ",1),e.item.nextVersionPreview?((0,t.wg)(),(0,t.iD)("span",h," → "+(0,i.toDisplayString)(e.item.nextVersionPreview),1)):(0,t.kq)("v-if",!0),e.item.usageType?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("i",x))],2)):e.item.imported&&"module"==e.item.type?((0,t.wg)(),(0,t.iD)("div",{key:1,class:"version-text",onClick:r[0]||(r[0]=n=>e.moduleVersionDialog(e.item))},[(0,t.Uk)((0,i.toDisplayString)(e.item.version?e.item.version:"latest")+" ",1),b])):(0,t.kq)("v-if",!0),e.item.disabled&&!e.item.version?((0,t.wg)(),(0,t.iD)("span",y,[(0,t.Uk)("No version available for publishing. "),g,(0,t.Uk)(" on this item and choose the "),k,(0,t.Uk)(" option. ")])):(0,t.kq)("v-if",!0)],64))],8,p)}}});var D=o(17450),C=o.n(D),I=o(29530),E=o.n(I),S=o(16199),F=o.n(S),M=o(40458),T=o.n(M),z=o(62916),U=o.n(z),A=o(92165),_=o.n(A),Z=o(44640),P={};P.styleTagTransform=_(),P.setAttributes=T(),P.insert=F().bind(null,"head"),P.domAPI=E(),P.insertStyleElement=U(),C()(Z.Z,P),Z.Z&&Z.Z.locals&&Z.Z.locals;const B=(0,o(32525).Z)(w,[["__scopeId","data-v-fad282d4"]])},80580:(e,n,o)=>{o.r(n),o.d(n,{default:()=>ee});var t=o(71093),i=o(66190),l=o(73843),d=o(46233),a=o(5627),r=o(91056),s=o(55287),c=o(29307),p=o(3329),u=o(62376),v=o(17379),m=o(29633),f=o(83487),h=o(88613),x=o(67457),b=o(66354),y=o(24747),g=o(84874),k=o(95150),w=o(40918),D=o(64740),C=o(28518),I=o(50419);const E=e=>((0,t.dD)("data-v-06c0da68"),e=e(),(0,t.Cn)(),e),S={class:"container"},F={class:(0,i.normalizeClass)(["modules-selected-text"])},M={class:"text-number"},T={class:"text-number"},z=E((()=>(0,t._)("div",{class:(0,i.normalizeClass)(["modules-datatable"]),id:"module-container-div"},null,-1))),U={class:(0,i.normalizeClass)(["footer","export"])},A=E((()=>(0,t._)("span",{class:"save-button"},"DOWNLOAD",-1))),_={key:0,class:"button-tooltip",style:{top:"-80px",left:"626px","z-index":"1",width:"145px"}},Z={key:1,class:"button-tooltip",style:{top:"-80px",left:"626px","z-index":"1",width:"145px"}},P={key:2,class:"button-tooltip",style:{top:"-95px",left:"644px","z-index":"1",width:"135px"}},B=(0,t.aZ)({__name:"workflowExportDialog",emits:["close"],setup(e,{emit:n}){const E=a.nC.resolve(h.J),B=a.nC.resolve(r.u),R=a.nC.resolve(f.y),V=a.nC.resolve(c.w),q=a.nC.resolve(m._),H=a.nC.resolve(g.B),j=a.nC.resolve(D.t),O=a.nC.resolve(I.L),L=(0,l.iH)([]),W=(0,l.iH)(),$=(0,l.iH)(),N=(0,l.iH)(),J=(0,l.iH)(),X=(0,l.iH)(""),Y=H.flattenAllModels(),G=(new y.X).createOverriderMap(Y);(0,t.bv)((async()=>{await R.execute((async()=>{await Promise.all([R.executeUseCase(u.q,{excludedTypes:["bpmn","process","entityDesigner","process"]}).then((e=>W.value=e)),R.executeUseCase(v.y,{}).then((e=>$.value=e))]),function(){const e=new Map,n=new Map;H.flattenAllModels().forEach((e=>{var o,t,i,l;let d;if("module"==e.owner.objectType&&q.isModuleImported(e.owner)){const n=null===(o=$.value)||void 0===o?void 0:o.get(e.owner.ID),i=null===(t=e.owner.relatedApplications.find((e=>e.applicationID==E.studio.appId)))||void 0===t?void 0:t.importedVersion,l=null==n?void 0:n.filter((e=>e.version==i)).flatMap((e=>e.relatedModelHistories)).find((n=>n.modelID==e.ID));d=null==l?void 0:l.version}else{const o=re(e);if(!o)return n.set(e.ID,e.dependentModels?e.dependentModels.map((e=>e.modelId)):Array());d=o}const a=null===(l=null===(i=W.value)||void 0===i?void 0:i.get(e.ID))||void 0===l?void 0:l.find((e=>e.version==d)),r=(null==a?void 0:a.dependentModels)?null==a?void 0:a.dependentModels.map((e=>e.modelId)).map((e=>G.get(e)||e)):Array();n.set(e.ID,r)})),n.forEach(((o,t)=>{const i=Array();n.forEach(((e,n)=>{e.some((e=>e==t))&&i.push(n)})),e.set(t,{dependedBy:i,dependedTo:o})})),J.value=e}(),function(){const e=E.studio.items.find((e=>"App Settings"==e.name)),n=re(e),o=e&&{id:e.ID,name:e.name,checked:!0,disabled:!1,type:e.modelType,version:n||"latest"};e&&o&&de({newItem:o});const t=V.cloneFileExplorerTreeView({displayFilterer:(e,n)=>{if(e.ID===p.oA.uiAssetListID)return!1;switch(e.objectType){case"application":return!1;case"module":case"model":return!0;case"folder":return n}}}),i=(e,n)=>{var o,t,l,d,a,r,s,c,p;const u=e.externalData;if("application"==u.objectType)throw new Error("unexpected item type");let v,m=q.getFullPath(u,"self").split("/").length-1;switch(u.objectType){case"folder":v={id:u.ID,name:u.name,type:"folder",collapsed:!0,level:m,children:null===(o=e.children)||void 0===o?void 0:o.map((e=>i(e,{ownerModule:n.ownerModule})))},null===(t=v.children)||void 0===t||t.forEach((e=>e.parent=v)),me(v,!1);break;case"model":if(n.ownerModule)if(v={id:u.ID,name:u.name,type:u.modelType,level:m,overridden:u.overridden},!n.ownerModule.isImportedModule||u.isUnmodifiableTotal){const e=re(u);v={...v,checked:!!(e&&"appSettings"!=u.usageType||ae(u))||u.isUnmodifiableTotal,disabled:!(e&&"appSettings"!=u.usageType||"appSettings"!=u.usageType||u.isUnmodifiableTotal),version:e||"latest"}}else{const e=null===(l=n.ownerModule.relatedModelHistories)||void 0===l?void 0:l.find((e=>e.modelID==u.ID));v={...v,checked:!0,disabled:!1,version:null==e?void 0:e.version,overridden:u.overridden}}else{const e=re(u);v={id:u.ID,name:u.name,checked:!!(e&&"appSettings"!=u.usageType||ae(u))||u.isUnmodifiableTotal,disabled:!(e&&"appSettings"!=u.usageType||"appSettings"!=u.usageType||u.isUnmodifiableTotal),type:u.modelType,version:e||"latest",level:m,overridden:u.overridden}}break;case"module":const f=q.isModuleImported(u),h=null===(d=u.relatedApplications.find((e=>e.applicationID==E.studio.appId)))||void 0===d?void 0:d.importedVersion,x=f?null===(s=null===(r=null===(a=$.value)||void 0===a?void 0:a.get(u.ID))||void 0===r?void 0:r.find((e=>e.version==h)))||void 0===s?void 0:s.relatedModelHistories:void 0;v={id:u.ID,collapsed:!0,name:u.name,type:"module",imported:f,version:h,children:null===(c=e.children)||void 0===c?void 0:c.map((e=>i(e,{ownerModule:{isImportedModule:f,moduleVersion:h,relatedModelHistories:x}})))},null===(p=v.children)||void 0===p||p.forEach((e=>e.parent=v)),me(v,!1)}return v},l=t.map((e=>i(e,{}))),d=e=>{var n;de({newItem:e}),null===(n=e.children)||void 0===n||n.forEach(d)};l.forEach(d)}()}),{loading:!0})}));const K=(0,t.Fl)((()=>ee(L.value))),Q=(0,t.Fl)((()=>ee(L.value,!0))),ee=(e,n=!1)=>e.reduce(((e,o)=>{if(n&&(0==(null==o?void 0:o.anyChildChecked)||0==(null==o?void 0:o.checked)))return e;let t=1;return(null==o?void 0:o.children)&&(t+=ee(o.children,n)),e+t}),0),ne=((0,t.Fl)((function(){return!L.value.some((e=>e.checked||e.anyChildChecked))||!ie()||!se()})),(0,t.Fl)((()=>function(){let e=!1;return L.value.forEach((n=>{var o;"module"==n.type?null===(o=n.children)||void 0===o||o.forEach((n=>{n.version&&(e=!0)})):n.version&&(e=!0)})),e}()))),oe=(0,t.Fl)((()=>se())),te=(0,t.Fl)(ie);function ie(){var e,n;const o=new Map;L.value.forEach((e=>{"module"==e.type&&e.children&&e.children.length>0?e.children.forEach((e=>o.set(e.id,1==e.checked))):o.set(e.id,1==e.checked)}));const t=new Map;null===(e=J.value)||void 0===e||e.forEach(((e,n)=>{o.get(n)&&e.dependedTo.forEach((e=>{if(!o.get(e))if(t.has(n)){const o=t.get(n);o.push(e),t.set(n,o)}else t.set(n,[e])}))}));const[i]=t.keys();if(i){const e=t.get(i),o=e?e.map(le).map((e=>null==e?void 0:e.name)).join(", "):"";X.value=`Select ${o} first. ${null===(n=le(i))||void 0===n?void 0:n.name} depends on ${o}.`}return 0==t.size}function le(e){for(const n of L.value){if("module"!=n.type&&n.id==e)return n;if("module"==n.type&&n.children&&n.children.length>0){const o=n.children.find((n=>n.id==e));if(o)return o}}}function de({newItem:e}){e.overridden||(function(e){const n=(0,d.createApp)(b.Z,{handleItemCheckEvent:ve,startScreen:N,versionDialog:he,handleCollapse:pe,item:e,moduleVersionDialog:xe}),o=document.createElement("div");n.mount(o);const t=document.getElementById("module-container-div");null==t||t.appendChild(o)}(e),L.value.push(e))}function ae(e){if("css"===e.modelType)return!0;const n=E.studio.items.filter((e=>"model"==e.objectType&&"appSettings"==e.modelType))[0].modelBody;return!!(n?n[0].model:"").includes(e.ID)}function re(e){var n;if(!(null===(n=W.value)||void 0===n?void 0:n.has(e.ID)))return;const o=W.value.get(e.ID);return o?(e=>{const n=e.map((e=>{const n=e.split(".");return 10*parseInt(n[0])+1*parseInt(n[1])}));n.sort(((e,n)=>n-e));const o=n[0];return`${Math.floor(o/10)}.${o%10}`})(o.map((e=>e.version))):void 0}function se(){let e=!1,n=!1,o=!1,t=!1;const i=(e,n,o)=>e.checked&&e.type==o&&e.name.toLowerCase()===n.toLowerCase();for(const l of L.value)if("module"==l.type&&l.children?(e||(e=l.children.some((e=>i(e,"getUser","flow")))),n||(n=l.children.some((e=>i(e,"notify","flow")))),o||(o=l.children.some((e=>i(e,k.he.preForm.name,k.he.preForm.type)))),t||(t=l.children.some((e=>i(e,k.vf.iPaasEndPoint.name,k.vf.iPaasEndPoint.type))))):(e||(e=!!i(l,"getUser","flow")),n||(n=!!i(l,"notify","flow")),o||(o=!!i(l,k.he.preForm.name,k.he.preForm.type)),t||(t=!!i(l,k.vf.iPaasEndPoint.name,k.vf.iPaasEndPoint.type))),e&&n&&o&&t)break;return e&&n&&o&&t}function ce(){const e=K.value==Q.value;L.value.filter((e=>!(null==e?void 0:e.disabled))).forEach((n=>{n.checked=!e,null!=n.allChildChecked&&n.children&&n.children.length>0&&!n.children.some((e=>e.disabled))&&(n.allChildChecked=!e),null!=n.anyChildChecked&&(n.anyChildChecked=!e),n.children&&n.children.filter((e=>!e.disabled)).forEach((n=>n.checked=!e))}))}function pe(e,n,o){var t;e.collapsed=void 0!==o?o:!e.collapsed,n&&(null===(t=e.children)||void 0===t||t.forEach((o=>{document.getElementById(o.id).style.display=e.collapsed?"none":"block",pe(o,n,e.collapsed)})))}function ue(e,n){var o,t;if(e.disabled||e.checked)return;e.checked=!0,e.parent&&me(e.parent,n);const i=null===(t=null===(o=J.value)||void 0===o?void 0:o.get(e.id))||void 0===t?void 0:t.dependedTo;i&&i.forEach((e=>{L.value.forEach((o=>{var t;if("module"==o.type&&!o.allChildChecked){const i=null===(t=o.children)||void 0===t?void 0:t.find((n=>!n.checked&&n.id==e));return i&&ue(i,n),void me(o,n)}o.checked||o.id!=e||(ue(o,n),o.parent&&me(o.parent,n))}))}))}function ve(e){e.disabled||function(e){var n,o;const t=null===(o=null===(n=J.value)||void 0===n?void 0:n.get(e.id))||void 0===o?void 0:o.dependedBy;return!!t&&t.some((e=>L.value.some((n=>{var o;return"module"==n.type&&n.anyChildChecked?null===(o=n.children)||void 0===o?void 0:o.some((n=>n.checked&&n.id==e)):n.id==e&&n.checked}))))}(e)||"App Settings"==e.name||("module"!=e.type&&"folder"!=e.type?e.checked?(e.checked=!1,e.parent&&me(e.parent,!0)):ue(e,!0):e.children&&e.children.filter((e=>!e.disabled)).length>0?e.anyChildChecked?(e.children.filter((e=>!e.disabled)).forEach((e=>e.checked=!1)),e.checked=!1,me(e,!0)):(e.children.forEach((e=>ue(e,!0))),e.checked=!0):(e.checked=!e.checked,e.allChildChecked=!1))}function me(e,n){var o,t;e.disabled=e.children&&(0==e.children.length||!(null===(o=e.children)||void 0===o?void 0:o.some((e=>!e.disabled)))),e.allChildChecked=e.children&&e.children.length>0&&!e.children.some((e=>!e.checked||e.disabled)),e.anyChildChecked=null===(t=e.children)||void 0===t?void 0:t.some((e=>e.checked&&!e.disabled)),n&&e.parent&&me(e.parent,!0)}function fe(e,n){var o,t,i,l,d,a;const r=null===(o=J.value)||void 0===o?void 0:o.get(n.id);null===(t=J.value)||void 0===t||t.set(n.id,{dependedBy:(null==r?void 0:r.dependedBy)||Array(),dependedTo:(null===(a=null===(d=null===(l=null===(i=W.value)||void 0===i?void 0:i.get(n.id))||void 0===l?void 0:l.find((n=>n.version==e)))||void 0===d?void 0:d.dependentModels)||void 0===a?void 0:a.map((e=>e.modelId)))||Array()})}function he(e){var n,i;const l={clickedNode:{id:e.id,state:{checked:e.checked},text:e.name,type:e.type,version:e.version},cb:n=>{e.version=n,fe(n,e)}};(null===(n=W.value)||void 0===n?void 0:n.has(e.id))&&(l.versions=null===(i=W.value)||void 0===i?void 0:i.get(e.id)),B.showDialog((0,t.RC)((()=>o.e(7045).then(o.bind(o,10531)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},l)}function xe(e){var n;B.showDialog((0,t.RC)((()=>o.e(5872).then(o.bind(o,45872)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},{module:{ID:e.id},versions:null===(n=$.value)||void 0===n?void 0:n.get(e.id),cb:n=>{var o;e.version=n.version,null===(o=e.children)||void 0===o||o.forEach((e=>{const o=n.relatedModelHistories.find((n=>n.modelID==e.id));e.version=null==o?void 0:o.version,fe(null==o?void 0:o.version,e)}))}})}function be(){const e=n=>{var o;if(!n.version||!n.checked)return;if("module"!=n.type&&"folder"!=n.type)return[{ID:n.id,version:n.version}];if(!n.anyChildChecked)return;const t=Array();return null===(o=n.children)||void 0===o||o.forEach((n=>{const o=e(n);o&&o.length>0&&Array.prototype.push.apply(t,o)})),t},n=Array();return L.value.forEach((o=>{const t=e(o);t&&t.length>0&&(H.traverseAllItems((e=>("model"!=e.objectType||"workflow"!=e.modelType||t.some((n=>n.ID!=e.ID))||w.$.parseWorkflowModelBodyWFE(function(e){const n=j.extractRuntimeModel(e);return{appId:E.studio.appId,organizationId:E.user.selectedOrganization.id,modelID:C.x.embedIdType(e.ID,e.modelType),name:e.name,type:e.modelType,modelBody:n,updateDate:e.updateDate&&new Date(e.updateDate).valueOf(),version:e.version}}(e),"notification",(e=>{O.showNotification({text:e,type:"error"})})),"continue"))),Array.prototype.push.apply(n,t))})),n}return(e,o)=>((0,t.wg)(),(0,t.iD)("div",S,[(0,t._)("div",null,[(0,t.Wm)(x.Z,{class:(0,i.normalizeClass)(["modules-selected-checkbox"]),minus:(0,l.SU)(Q)!=(0,l.SU)(K),check:(0,l.SU)(Q)==(0,l.SU)(K),onClick:ce},null,8,["minus","check"]),(0,t._)("div",F,[(0,t._)("span",M,(0,i.toDisplayString)((0,l.SU)(Q)),1),(0,t.Uk)(" of "),(0,t._)("span",T,(0,i.toDisplayString)((0,l.SU)(K)),1),(0,t.Uk)(" items selected ")])]),z,(0,t._)("div",U,[(0,t._)("div",{class:(0,i.normalizeClass)(["cancel-button"]),onClick:o[0]||(o[0]=e=>n("close"))},"Cancel"),(0,t._)("div",{onClick:o[1]||(o[1]=e=>async function(){R.execute((async()=>{const e=be();await R.executeUseCase(s.P,{items:e}),n("close")}),{loading:!0})}())},[A,(0,l.SU)(oe)?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("span",_,"'getUser' & 'notify' & 'preForm(taskPreview)' & 'IPaaS_Endpoint' models not found. ")),(0,l.SU)(ne)?(0,l.SU)(te)?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("span",P,(0,i.toDisplayString)(X.value),1)):((0,t.wg)(),(0,t.iD)("span",Z,"There are no items ready to publish. At least one of your items must be ready to publish."))])])]))}});var R=o(17450),V=o.n(R),q=o(29530),H=o.n(q),j=o(16199),O=o.n(j),L=o(40458),W=o.n(L),$=o(62916),N=o.n($),J=o(92165),X=o.n(J),Y=o(63005),G={};G.styleTagTransform=X(),G.setAttributes=W(),G.insert=O().bind(null,"head"),G.domAPI=H(),G.insertStyleElement=N(),V()(Y.Z,G),Y.Z&&Y.Z.locals&&Y.Z.locals;var K=o(16582),Q={};Q.styleTagTransform=X(),Q.setAttributes=W(),Q.insert=O().bind(null,"head"),Q.domAPI=H(),Q.insertStyleElement=N(),V()(K.Z,Q),K.Z&&K.Z.locals&&K.Z.locals;const ee=(0,o(32525).Z)(B,[["__scopeId","data-v-06c0da68"]])}}]);