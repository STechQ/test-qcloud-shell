"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[5986],{4380:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(8375),a=t.n(o),l=t(7638),i=t.n(l)()(a());i.push([e.id,'\n.container[data-v-0be52274] {\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    padding: 32px 20px 20px;\n    display: flex;\n    flex-direction: column;\n}\n.content-wrapper[data-v-0be52274] {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: auto;\n}\n.bottom-section[data-v-0be52274] {\n    margin-top: auto;\n}\n.footer[data-v-0be52274] {\n    position: relative;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: end;\n    margin-top: 20px;\n}\n.cancel-button[data-v-0be52274] {\n    border-radius: 4px;\n    user-select: none;\n    font-style: normal;\n    font-weight: 500;\n    font-family: "ROBOTO";\n    font-size: 15px;\n    color: #757575;\n    padding: 10px 16px;\n    cursor: pointer;\n    margin-right: 4px;\n    border: none;\n    background: transparent;\n}\n.save-button[data-v-0be52274] {\n    background: #151233;\n    border-radius: 4px;\n    user-select: none;\n    font-weight: 500;\n    font-size: 15px;\n    color: #ffffff;\n    padding: 10px 16px;\n    cursor: pointer;\n    border: none;\n}\n.save-button[data-v-0be52274]:disabled {\n    color: #757575;\n    cursor: not-allowed;\n}\n.publish-info[data-v-0be52274] {\n    color: #757575;\n    font-size: 20px;\n    margin-left: 10px;\n}\n.select-environment[data-v-0be52274] {\n    width: 100%;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    margin-top: 4px;\n}\n',""]);const s=i},55287:(e,n,t)=>{t.d(n,{P:()=>o});const o=Symbol.for("ICreateWorkflowExportJob")},29307:(e,n,t)=>{t.d(n,{w:()=>o});const o=Symbol.for("IFileDisplayerUseCase")},62376:(e,n,t)=>{t.d(n,{q:()=>o});const o=Symbol.for("IListMultiModelVersions")},17379:(e,n,t)=>{t.d(n,{y:()=>o});const o=Symbol.for("IListMultiModuleVersions")},15772:(e,n,t)=>{t.d(n,{M:()=>o});const o=Symbol.for("IModelSelectionValidator")},9341:(e,n,t)=>{t.r(n),t.d(n,{default:()=>j});var o=t(71093),a=t(66190),l=t(73843),i=t(5627),s=t(55287),r=t(83487),c=t(88613),d=t(84874),u=t(56452),p=t(64740),v=t(28518),f=t(50419),m=t(74381),y=t(15772),x=t(86388),h=t(13348);const b={class:"container"},g={class:"content-wrapper"},w={class:"bottom-section"},k={key:0,class:"info"},I={class:(0,a.normalizeClass)(["footer","export"])},S=["disabled"],C=(0,o.aZ)({__name:"workflowExportDialog",emits:["close"],setup(e,{emit:n}){const t=i.nC.resolve(c.J),a=i.nC.resolve(r.y),C=i.nC.resolve(d.B),F=i.nC.resolve(p.t),O=i.nC.resolve(f.L),D=i.nC.resolve(y.M),E=(0,l.iH)([]),T=(0,l.iH)([]),U=(0,l.iH)(""),_=(0,l.iH)({backgroundColor:"#F5F5FA",color:"#373737",fontSize:"20px",iconColor:"#F3CA40",marginTop:"20px"}),P=(0,o.Fl)((()=>!(A&&W.value&&z.value&&Z.value&&K.value&&!j.value&&A.value))),A=(0,o.Fl)((()=>E.value.some((e=>e.checked||e.anyChildChecked)))),K=(0,o.Fl)((()=>D.checkVersionOfItems(E.value))),Z=(0,o.Fl)((()=>D.validateRootQjsonForWF(T.value))),M=(0,o.Fl)((()=>function(){const e=D.checkWorkflowExecutionItems(T.value),n=e.wfExportValid;return{...e,allItemsOK:!n.wfExists||n.getUserOK&&n.notifyOK&&n.preFormOK&&n.iPaasEndPointOK}}())),z=(0,o.Fl)((()=>M.value.allItemsOK)),W=(0,l.iH)(!1),j=(0,o.Fl)((()=>D.checkSettingsFilesSelected())),q=(0,o.Fl)((()=>A.value?K.value?Z.value?z.value?W.value?void 0:U.value:`${function(){let e="Please include the following items in your export selection: ";const n=M.value.wfExportValid,t=[];return n.getUserOK||t.push('"getUser"'),n.notifyOK||t.push('"notify"'),n.preFormOK||t.push('"TaskPreview"'),n.iPaasEndPointOK||t.push('"IPaaS_Endpoint"'),e+=t.join(", "),e}()}`:"Please make sure that the 'root' UI page is selected for export.":"There are no items ready to publish. At least one of your items must be ready to publish.":"Please select at least one item to export."));function V(){a.execute((async()=>{const e=await D.validateDependencies(E.value,"Export");U.value=e.dependencyErrorStr,W.value=e.validation}),{loading:!1})}function H(e,n){const t=E.value.findIndex((n=>n.id===e.id));-1!==t?E.value[t]={...e}:E.value.push({...e});const o=T.value.findIndex((n=>n.id===e.id));e.checked?-1!==o?T.value[o]=e:T.value.push(e):-1!==o&&T.value.splice(o,1),n&&V()}function B(){n("close")}return(0,o.bv)((async()=>{V()})),(e,n)=>((0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("div",g,[(0,o.Wm)(x.Z,{screenType:"Export",onGetItem:H,searchable:!0})]),(0,o._)("div",w,[(0,l.SU)(P)?((0,o.wg)(),(0,o.iD)("div",k,[(0,l.SU)(j)?((0,o.wg)(),(0,o.j4)(m.Z,{key:0,customIconClass:"mdi mdi-alert",customStyle:_.value,isSlot:!0},{default:(0,o.w5)((()=>[(0,o.Uk)(" Some settings files in your application are currently unassigned. To continue, please navigate to the "),(0,o._)("span",{onClick:n[0]||(n[0]=e=>function(){B();const e=i.nC.resolve(h.y);a.execute((async()=>{await e.openAppSettingsUI()}),{loading:!0})}()),style:{"font-weight":"bold","text-decoration":"underline",cursor:"pointer"}}," Settings page "),(0,o.Uk)(" and assign all necessary files ")])),_:1},8,["customStyle"])):(0,o.kq)("v-if",!0),(0,l.SU)(P)&&(0,l.SU)(q)?((0,o.wg)(),(0,o.j4)(m.Z,{key:1,customIconClass:"mdi mdi-alert",infoText:(0,l.SU)(q),customStyle:_.value},null,8,["infoText","customStyle"])):(0,o.kq)("v-if",!0)])):(0,o.kq)("v-if",!0),(0,o._)("div",I,[(0,o._)("button",{class:"cancel-button",onClick:n[1]||(n[1]=e=>B())},"Cancel"),(0,o._)("button",{class:"save-button",disabled:(0,l.SU)(P),onClick:n[2]||(n[2]=e=>async function(){a.execute((async()=>{const e=function(){const e=Array();return T.value.forEach((n=>{const o=[{ID:(a=n).id,version:a.version||"latest"}];var a;o&&o.length>0&&(C.traverseAllItems((e=>("model"!=e.objectType||"workflow"!=e.modelType||o.some((n=>n.ID!=e.ID))||u.$.parseWorkflowModelBodyWFE(function(e){const n=F.extractRuntimeModel(e);return{appId:t.studio.appId,organizationId:t.user.selectedOrganization.id,modelID:v.x.embedIdType(e.ID,e.modelType),name:e.name,type:e.modelType,modelBody:n,updateDate:e.updateDate&&new Date(e.updateDate).valueOf(),version:e.version}}(e),"notification",(e=>{O.showNotification({text:e,type:"error"})})),"continue"))),Array.prototype.push.apply(e,o))})),e}();await a.executeUseCase(s.P,{items:e}),B()}),{loading:!0})}())},"DOWNLOAD",8,S)])])]))}});var F=t(17450),O=t.n(F),D=t(29530),E=t.n(D),T=t(16199),U=t.n(T),_=t(40458),P=t.n(_),A=t(62916),K=t.n(A),Z=t(92165),M=t.n(Z),z=t(4380),W={};W.styleTagTransform=M(),W.setAttributes=P(),W.insert=U().bind(null,"head"),W.domAPI=E(),W.insertStyleElement=K(),O()(z.Z,W),z.Z&&z.Z.locals&&z.Z.locals;const j=(0,t(32525).Z)(C,[["__scopeId","data-v-0be52274"]])}}]);