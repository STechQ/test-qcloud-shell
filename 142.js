"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[142],{22025:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(51864),o=t.n(a),r=t(60352),i=t.n(r)()(o());i.push([e.id,'\n.createButtonDiv[data-v-5378fa42] {\n    height: 72px;\n    top: calc(100% - 72px);\n    width: 100%;\n    position: absolute\n}\n.createButton[data-v-5378fa42] {\n    background-color: #151233;\n    color: white;\n    border-radius: 4px;\n    border: none;\n    width: 97px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 15px;\n    font-family: "ROBOTO";\n    left: calc(100% - 117px);\n    top: 16px;\n    position: absolute;\n}\n.cancelButton[data-v-5378fa42] {\n    background-color: transparent;\n    color: #757575;\n    border-radius: 4px;\n    border: none;\n    width: 90px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 15px;\n    font-family: "ROBOTO";\n    left: calc(100% - 211px);\n    top: 16px;\n    position: absolute;\n}\n',"",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/create/createDialogFooter.vue/createDialogFooter.vue"],names:[],mappings:";AAwBA;IACI,YAAY;IACZ,sBAAsB;IACtB,WAAW;IACX;AACJ;AAEA;IACI,yBAAyB;IACzB,YAAY;IACZ,kBAAkB;IAClB,YAAY;IACZ,WAAW;IACX,YAAY;IACZ,gBAAgB;IAChB,eAAe;IACf,qBAAqB;IACrB,wBAAwB;IACxB,SAAS;IACT,kBAAkB;AACtB;AAEA;IACI,6BAA6B;IAC7B,cAAc;IACd,kBAAkB;IAClB,YAAY;IACZ,WAAW;IACX,YAAY;IACZ,gBAAgB;IAChB,eAAe;IACf,qBAAqB;IACrB,wBAAwB;IACxB,SAAS;IACT,kBAAkB;AACtB",sourcesContent:['<template>\n    <div class="createButtonDiv">\n        <button class="cancelButton" @click="props.cancelButtonCb">{{ cancelButtonText || "Cancel" }}</button>\n        <button :style="{ opacity: props.createButtonEnabled ? \'\' : \'0.5\' }" class="createButton"\n            @click="props.createButtonCb" :disabled="!props.createButtonEnabled">\n            {{ createButtonText || "CREATE" }}\n        </button>\n    </div>\n</template>\n\n<script setup lang="ts">\n\ninterface ICreateDialogFooter {\n    createButtonText?: string;\n    cancelButtonText?: string;\n    createButtonEnabled?: boolean;\n    createButtonCb: () => void;\n    cancelButtonCb: () => void;\n}\nconst props = defineProps<ICreateDialogFooter>();\n\n<\/script>\n\n<style scoped>\n.createButtonDiv {\n    height: 72px;\n    top: calc(100% - 72px);\n    width: 100%;\n    position: absolute\n}\n\n.createButton {\n    background-color: #151233;\n    color: white;\n    border-radius: 4px;\n    border: none;\n    width: 97px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 15px;\n    font-family: "ROBOTO";\n    left: calc(100% - 117px);\n    top: 16px;\n    position: absolute;\n}\n\n.cancelButton {\n    background-color: transparent;\n    color: #757575;\n    border-radius: 4px;\n    border: none;\n    width: 90px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 15px;\n    font-family: "ROBOTO";\n    left: calc(100% - 211px);\n    top: 16px;\n    position: absolute;\n}\n</style>\n'],sourceRoot:""}]);const l=i},88796:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(51864),o=t.n(a),r=t(60352),i=t.n(r)()(o());i.push([e.id,'\n*[data-v-c4632316] {\n    font-family: "Roboto";\n}\n.blank-page[data-v-c4632316]{\n    position: absolute;\n    left: calc((100% - 68px)/2);\n    top: calc((100% - 27px - 90px)/2);\n}\n.dialog-container[data-v-c4632316] {\n    padding: 28px 20px 16px 26px;\n}\n.template-container[data-v-c4632316] {\n    margin-left: 29px;\n    position: relative;\n    overflow: hidden auto;\n    height: 464px;\n}\n.template-card-container[data-v-c4632316] {\n    width: 179px;\n    height: 220px;\n    margin-right: 20px;\n    margin-bottom: 20px;\n    position: relative;\n    float: left;\n}\n.template-image[data-v-c4632316] {\n    width: 170px;\n    height: 187px;\n    border-radius: 3px;\n}\n.template-container[data-v-c4632316]::-webkit-scrollbar {\n    width: 4px;\n}\n.template-container[data-v-c4632316]::-webkit-scrollbar-thumb {\n    background: #bcbcbc 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n}\n.template-container[data-v-c4632316]::-webkit-scrollbar-thumb:hover {\n    background: #555;\n}\n.page-header-text[data-v-c4632316] {\n    color: #151233;\n    font-size: 14px;\n    font-weight: 500;\n}\n.name-bar[data-v-c4632316] {\n    width: 100%;\n    border: 1px solid #a1a1a1;\n    border-radius: 4px;\n    padding: 10px 10px 11px;\n    margin-left: -6px;\n}\n.border-center[data-v-c4632316] {\n    border-left: 1px solid #d5d5d5;\n    height: 464px;\n    margin-left: 20px;\n}\n.button-text-container[data-v-c4632316] {\n    margin-bottom: 16px;\n    color: #212121;\n    font-size: 16px;\n    font-weight: 400 bolder;\n    border: none;\n    background-color: white;\n    width: 138px;\n    height: 40px;\n    text-align: left;\n    border-radius: 4px;\n    padding-left: 10px;\n}\n.button-text-container[data-v-c4632316]:hover {\n    background-color: #e3e3e3;\n}\n.button-text-container.active[data-v-c4632316] {\n    background-color: #e3e3e3;\n}\n.bottom-side-container[data-v-c4632316] {\n    margin-top: 37px;\n}\n.cancel-button-container[data-v-c4632316] {\n    float: right;\n    padding: 10px 20px;\n    border-radius: 4px;\n    font-size: 15px;\n    font-weight: 500;\n    color: #757575;\n    background-color: white;\n    border: none;\n    margin: 16px 10px;\n}\n.create-button-contaner[data-v-c4632316] {\n    float: right;\n    padding: 10px 20px;\n    border-radius: 4px;\n    font-size: 15px;\n    font-weight: 500;\n    color: white;\n    background: #151233;\n    border: none;\n    margin: 16px 0px;\n}\n.page-button-container[data-v-c4632316] {\n    /* padding: 72px 30px; */\n    width: 177px;\n    height: 193px;\n    border-radius: 4px;\n    background-color: #eeeeee;\n    color: #d5d5d5;\n    border: 3px solid #eeeeee;\n}\n.page-button-container.active[data-v-c4632316] {\n    border: 3px solid #D0D1E9;\n}\n.template-small-header[data-v-c4632316] {\n    position: absolute;\n    top: 199px;\n    font: normal normal normal 16px/21px Roboto;\n    color: #616161;\n    width: 179px;\n    text-align: center;\n}\n',"",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/create/createNewScreen.vue"],names:[],mappings:";AAiMA;IACI,qBAAqB;AACzB;AAEA;IACI,kBAAkB;IAClB,2BAA2B;IAC3B,iCAAiC;AACrC;AAEA;IACI,4BAA4B;AAChC;AAEA;IACI,iBAAiB;IACjB,kBAAkB;IAClB,qBAAqB;IACrB,aAAa;AACjB;AAEA;IACI,YAAY;IACZ,aAAa;IACb,kBAAkB;IAClB,mBAAmB;IACnB,kBAAkB;IAClB,WAAW;AACf;AAEA;IACI,YAAY;IACZ,aAAa;IACb,kBAAkB;AACtB;AAEA;IACI,UAAU;AACd;AAEA;IACI,+CAA+C;IAC/C,mBAAmB;AACvB;AAEA;IACI,gBAAgB;AACpB;AAEA;IACI,cAAc;IACd,eAAe;IACf,gBAAgB;AACpB;AAEA;IACI,WAAW;IACX,yBAAyB;IACzB,kBAAkB;IAClB,uBAAuB;IACvB,iBAAiB;AACrB;AAEA;IACI,8BAA8B;IAC9B,aAAa;IACb,iBAAiB;AACrB;AAEA;IACI,mBAAmB;IACnB,cAAc;IACd,eAAe;IACf,uBAAuB;IACvB,YAAY;IACZ,uBAAuB;IACvB,YAAY;IACZ,YAAY;IACZ,gBAAgB;IAChB,kBAAkB;IAClB,kBAAkB;AACtB;AAEA;IACI,yBAAyB;AAC7B;AAEA;IACI,yBAAyB;AAC7B;AAEA;IACI,gBAAgB;AACpB;AAEA;IACI,YAAY;IACZ,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;IACf,gBAAgB;IAChB,cAAc;IACd,uBAAuB;IACvB,YAAY;IACZ,iBAAiB;AACrB;AAEA;IACI,YAAY;IACZ,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;IACf,gBAAgB;IAChB,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,gBAAgB;AACpB;AAEA;IACI,wBAAwB;IACxB,YAAY;IACZ,aAAa;IACb,kBAAkB;IAClB,yBAAyB;IACzB,cAAc;IACd,yBAAyB;AAC7B;AAEA;IACI,yBAAyB;AAC7B;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,2CAA2C;IAC3C,cAAc;IACd,YAAY;IACZ,kBAAkB;AACtB",sourcesContent:['<template>\n    <div class="dialog-container">\n        <div class="input-label">UI Page Name</div>\n        <IDEInput :isRequired="true" :disable-required-icon="true" @getValue="setNameValue"\n            @validateStatus="setNameValidationStatus" placeholder="" :type="\'text\'" info-text=""\n            :validations="validations.name" />\n        <hr style="margin: 32px 0px 32px 0px;" />\n        <div style="margin-top: 32px">\n            <div style="display: flex">\n                <div>\n                    <button v-if="items.length > 0"\n                        :class="{ \'button-text-container\': true, active: selectedTabName == \'BLANK_PAGE\' }"\n                        @click="changeMainTab(\'BLANK_PAGE\')">\n                        Blank Page\n                    </button>\n                    <div v-for="subCategory in webItems">\n                        <button :class="{ \'button-text-container\': true, active: subCategory.name == selectedTabName, }"\n                            @click="changeMainTab(subCategory.name)">\n                            {{ subCategory.name }}\n                        </button>\n                    </div>\n                </div>\n                <div v-if="items.length > 0" class="border-center"></div>\n                <div class="template-container">\n                    <div class="template-card-container" v-if="selectedTabName == \'BLANK_PAGE\' && items.length > 0">\n                        <div :class="{ \'page-button-container\': true, active: activeTemplateID == \'BLANK_PAGE\' }"\n                            @click="changeActiveTemplateID(\'BLANK_PAGE\')">\n                            <img src="./../../../../../images/blank_page.svg" class="blank-page" alt="Blank page"/>\n                        </div>\n                        <p class="template-small-header"> Blank Page </p>\n                    </div>\n                    <div class="template-card-container" v-for="(child, index) in flattener(selectedTabName)"\n                        :style="(index + 1) % 3 == 0 ? \'margin-right: 0px\' : \'\'">\n                        <div :class="{ \'page-button-container\': true, active: activeTemplateID == child.ID }"\n                            @click="changeActiveTemplateID(child.ID)">\n                            <img class="template-image" v-if="child.image" :src="child.image" :alt="child.name" />\n                        </div>\n                        <p class="template-small-header"> {{ child.name }} </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n    <CreateDialogFooter :cancel-button-cb="() => emits(\'close\')" :create-button-cb="create"\n        :create-button-enabled="isNameValid" />\n</template>\n<script setup lang="ts">\nimport { IPageItem, IPageTemplate, ITemplateCategoryItem } from "@stechquick/algae/lib/qCloudTemp/template";\nimport { onBeforeMount, ref } from "vue";\nimport { container } from "../../../../../domain/core/diContainer";\nimport { IModel } from "../../../../../domain/model/models";\nimport { ICreateModelParam, ICreateModel } from "../../../../../domain/useCase/ICreateModel";\nimport { IStudio } from "../../../../../domain/useCase/IStudio";\nimport { ITemplateUseCase } from "../../../../../domain/useCase/ITemplateUseCase";\nimport { IUseCaseExecutor } from "../../../../../domain/useCase/IUseCaseExecutor";\nimport IDEInput from "../../application/IDEInput.vue";\nimport { IIDEInputDefinitions } from "../../../../../domain/presentation/IIDEInputDefinitions";\nimport CreateDialogFooter from "./createDialogFooter.vue/createDialogFooter.vue";\n\ninterface ICreateNewScreenInline {\n    parentId: string;\n}\n\nconst props = defineProps<ICreateNewScreenInline>();\nconst emits = defineEmits(["close"]);\n\nconst studio = container.resolve<IStudio>(IStudio);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst templateUseCase = container.resolve<ITemplateUseCase>(ITemplateUseCase);\n\nconst templates = ref<Array<IPageTemplate>>([]);\nconst items = ref<Array<ITemplateCategoryItem>>([]);\nconst webItems = ref<Array<ITemplateCategoryItem | IPageItem>>([]);\n\nvar selectedTabName = ref("BLANK_PAGE");\nconst name = ref("");\nconst isNameValid = ref<boolean>(false);\nconst activeTemplateID = ref("BLANK_PAGE");\n\nconst validations = ref<Record<"name", IIDEInputDefinitions["validations"]>>({\n    name: { minAndMaxLength: { min: 3, max: 40 }, availableCharacters: true, nonSpaceCharacter: true }\n});\n\nonBeforeMount(async () => {\n    executor.execute(\n        async () => {\n            templates.value = await templateUseCase.listTemplateInfos("page") as Array<IPageTemplate>;\n            items.value = convert(templates.value);\n            webItems.value = items.value.find((i) => i.name == "Web")!.children;\n        },\n        { loading: true }\n    );\n});\n\nconst convert = (items: Array<IPageTemplate>) => {\n    const seperateToGroups = (targetItems: Array<IPageTemplate>, field: "category" | "subCategory"): Record<string, IPageTemplate[]> => {\n        const groups: Record<string, Array<IPageTemplate>> = targetItems.reduce((group, item) => {\n            const category = item[field];\n            const grp = group as any;\n            grp[category] = grp[category] ?? [];\n            grp[category].push(item);\n            return grp;\n        }, {});\n        return groups;\n    };\n    const retVal: Array<ITemplateCategoryItem> = [];\n    const categoryGroups = seperateToGroups(items, "category");\n    Object.keys(categoryGroups).forEach((groupName) => {\n        const subGroupItems = templates.value.filter((i) => i.category == groupName);\n        const subGroups = seperateToGroups(subGroupItems, "subCategory");\n        const children: Array<ITemplateCategoryItem> = Object.keys(subGroups).map((i) => {\n            const subGroup = subGroups[i];\n            const subCategoryName = subGroup[0].subCategory;\n            const pageItems = subGroupItems.filter((i) => i.subCategory == subCategoryName);\n            const subCategory: ITemplateCategoryItem = {\n                name: subCategoryName,\n                type: "category",\n                children: pageItems.map((page) => {\n                    return <IPageItem>{ ID: page.ID, name: page.name, type: "page", image: page.image };\n                }),\n            };\n            return subCategory;\n        });\n        retVal.push({ name: groupName, type: "category", children });\n    });\n\n    return retVal;\n};\n\nfunction create() {\n    if (!isNameValid.value) return;\n    executor.execute(\n        async () => {\n            if (activeTemplateID.value == "BLANK_PAGE") {\n                const createObject: ICreateModelParam = {\n                    name: name.value,\n                    parentObjectId: props.parentId,\n                    modelBody: [{ key: "qjson", model: "" }],\n                    modelType: "qjson",\n                    modelAdditionals: { qjsonType: "qjson" },\n                };\n                const createdModel = await executor.executeUseCase<ICreateModel>(ICreateModel, createObject);\n                await onAfterModelCreated(createdModel);\n            } else {\n                const createdModel = await templateUseCase.createModelFromTemplate({\n                    name: name.value,\n                    parentObjectId: props.parentId,\n                    modelInfoID: activeTemplateID.value,\n                    modelAdditionals: { qjsonType: "qjson" },\n                    modelType: "qjson"\n                });\n                await onAfterModelCreated(createdModel);\n            }\n            emits("close");\n        },\n        { loading: true }\n    );\n}\n\nfunction changeActiveTemplateID(id: string) {\n    activeTemplateID.value = id;\n}\n\nfunction changeMainTab(selectedTab: string) {\n    selectedTabName.value = selectedTab;\n}\n\nfunction flattener(categoryName: String): Array<IPageTemplate> {\n    var arrayFlattener: Array<any> = [];\n    webItems.value.forEach((x) => {\n        if (x.name == categoryName) {\n            arrayFlattener.push((<ITemplateCategoryItem>x).children);\n        }\n    });\n    return arrayFlattener.flatMap((num) => num);\n}\n\nasync function onAfterModelCreated(createdModel: IModel) {\n    await studio.checkout(createdModel);\n    studio.openItem(createdModel);\n}\n\nfunction setNameValue(value: string) {\n    name.value = value;\n}\n\nfunction setNameValidationStatus(isValid: boolean) {\n    isNameValid.value = isValid;\n}\n<\/script>\n\n<style scoped>\n* {\n    font-family: "Roboto";\n}\n\n.blank-page{\n    position: absolute;\n    left: calc((100% - 68px)/2);\n    top: calc((100% - 27px - 90px)/2);\n}\n\n.dialog-container {\n    padding: 28px 20px 16px 26px;\n}\n\n.template-container {\n    margin-left: 29px;\n    position: relative;\n    overflow: hidden auto;\n    height: 464px;\n}\n\n.template-card-container {\n    width: 179px;\n    height: 220px;\n    margin-right: 20px;\n    margin-bottom: 20px;\n    position: relative;\n    float: left;\n}\n\n.template-image {\n    width: 170px;\n    height: 187px;\n    border-radius: 3px;\n}\n\n.template-container::-webkit-scrollbar {\n    width: 4px;\n}\n\n.template-container::-webkit-scrollbar-thumb {\n    background: #bcbcbc 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n}\n\n.template-container::-webkit-scrollbar-thumb:hover {\n    background: #555;\n}\n\n.page-header-text {\n    color: #151233;\n    font-size: 14px;\n    font-weight: 500;\n}\n\n.name-bar {\n    width: 100%;\n    border: 1px solid #a1a1a1;\n    border-radius: 4px;\n    padding: 10px 10px 11px;\n    margin-left: -6px;\n}\n\n.border-center {\n    border-left: 1px solid #d5d5d5;\n    height: 464px;\n    margin-left: 20px;\n}\n\n.button-text-container {\n    margin-bottom: 16px;\n    color: #212121;\n    font-size: 16px;\n    font-weight: 400 bolder;\n    border: none;\n    background-color: white;\n    width: 138px;\n    height: 40px;\n    text-align: left;\n    border-radius: 4px;\n    padding-left: 10px;\n}\n\n.button-text-container:hover {\n    background-color: #e3e3e3;\n}\n\n.button-text-container.active {\n    background-color: #e3e3e3;\n}\n\n.bottom-side-container {\n    margin-top: 37px;\n}\n\n.cancel-button-container {\n    float: right;\n    padding: 10px 20px;\n    border-radius: 4px;\n    font-size: 15px;\n    font-weight: 500;\n    color: #757575;\n    background-color: white;\n    border: none;\n    margin: 16px 10px;\n}\n\n.create-button-contaner {\n    float: right;\n    padding: 10px 20px;\n    border-radius: 4px;\n    font-size: 15px;\n    font-weight: 500;\n    color: white;\n    background: #151233;\n    border: none;\n    margin: 16px 0px;\n}\n\n.page-button-container {\n    /* padding: 72px 30px; */\n    width: 177px;\n    height: 193px;\n    border-radius: 4px;\n    background-color: #eeeeee;\n    color: #d5d5d5;\n    border: 3px solid #eeeeee;\n}\n\n.page-button-container.active {\n    border: 3px solid #D0D1E9;\n}\n\n.template-small-header {\n    position: absolute;\n    top: 199px;\n    font: normal normal normal 16px/21px Roboto;\n    color: #616161;\n    width: 179px;\n    text-align: center;\n}\n</style>\n'],sourceRoot:""}]);const l=i},43467:(e,n,t)=>{t.d(n,{Z:()=>h});var a=t(62068),o=t(49045);const r={class:"createButtonDiv"},i=["disabled"],l=(0,a.aZ)({__name:"createDialogFooter",props:{createButtonText:null,cancelButtonText:null,createButtonEnabled:{type:Boolean},createButtonCb:null,cancelButtonCb:null},setup(e){const n=e;return(t,l)=>((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("button",{class:"cancelButton",onClick:l[0]||(l[0]=(...e)=>n.cancelButtonCb&&n.cancelButtonCb(...e))},(0,o.toDisplayString)(e.cancelButtonText||"Cancel"),1),(0,a._)("button",{style:(0,o.normalizeStyle)({opacity:n.createButtonEnabled?"":"0.5"}),class:"createButton",onClick:l[1]||(l[1]=(...e)=>n.createButtonCb&&n.createButtonCb(...e)),disabled:!n.createButtonEnabled},(0,o.toDisplayString)(e.createButtonText||"CREATE"),13,i)]))}});var c=t(75701),s=t.n(c),A=t(8236),p=t.n(A),d=t(6080),u=t.n(d),m=t(56850),g=t.n(m),b=t(87182),I=t.n(b),B=t(39213),C=t.n(B),x=t(22025),v={};v.styleTagTransform=C(),v.setAttributes=g(),v.insert=u().bind(null,"head"),v.domAPI=p(),v.insertStyleElement=I(),s()(x.Z,v),x.Z&&x.Z.locals&&x.Z.locals;const h=(0,t(51419).Z)(l,[["__scopeId","data-v-5378fa42"]])},96142:(e,n,t)=>{t.r(n),t.d(n,{default:()=>L});var a=t(62068),o=t(49045),r=t(81407);const i=t.p+"d852fab10554d5398c2f24b9d2204e11.svg";var l=t(3734),c=t(79388),s=t(33900),A=t(58741),p=t(80664),d=t(91846),u=t(43467);const m=e=>((0,a.dD)("data-v-c4632316"),e=e(),(0,a.Cn)(),e),g={class:"dialog-container"},b=m((()=>(0,a._)("div",{class:"input-label"},"UI Page Name",-1))),I=m((()=>(0,a._)("hr",{style:{margin:"32px 0px 32px 0px"}},null,-1))),B={style:{"margin-top":"32px"}},C={style:{display:"flex"}},x=["onClick"],v={key:0,class:"border-center"},h={class:"template-container"},f={key:0,class:"template-card-container"},y=[m((()=>(0,a._)("img",{src:i,class:"blank-page",alt:"Blank page"},null,-1)))],k=m((()=>(0,a._)("p",{class:"template-small-header"}," Blank Page ",-1))),w=["onClick"],T=["src","alt"],E={class:"template-small-header"},D=(0,a.aZ)({__name:"createNewScreen",props:{parentId:null},emits:["close"],setup(e,{emit:n}){const t=e,i=l.nC.resolve(s.c),m=l.nC.resolve(p.y),D=l.nC.resolve(A.b),N=(0,r.iH)([]),_=(0,r.iH)([]),P=(0,r.iH)([]);var Y=(0,r.iH)("BLANK_PAGE");const Z=(0,r.iH)(""),q=(0,r.iH)(!1),S=(0,r.iH)("BLANK_PAGE"),G=(0,r.iH)({name:{minAndMaxLength:{min:3,max:40},availableCharacters:!0,nonSpaceCharacter:!0}});(0,a.wF)((async()=>{m.execute((async()=>{N.value=await D.listTemplateInfos("page"),_.value=M(N.value),P.value=_.value.find((e=>"Web"==e.name)).children}),{loading:!0})}));const M=e=>{const n=(e,n)=>e.reduce(((e,t)=>{var a;const o=t[n],r=e;return r[o]=null!==(a=r[o])&&void 0!==a?a:[],r[o].push(t),r}),{}),t=[],a=n(e,"category");return Object.keys(a).forEach((e=>{const a=N.value.filter((n=>n.category==e)),o=n(a,"subCategory"),r=Object.keys(o).map((e=>{const n=o[e][0].subCategory,t=a.filter((e=>e.subCategory==n));return{name:n,type:"category",children:t.map((e=>({ID:e.ID,name:e.name,type:"page",image:e.image})))}}));t.push({name:e,type:"category",children:r})})),t};function j(){q.value&&m.execute((async()=>{if("BLANK_PAGE"==S.value){const e={name:Z.value,parentObjectId:t.parentId,modelBody:[{key:"qjson",model:""}],modelType:"qjson",modelAdditionals:{qjsonType:"qjson"}},n=await m.executeUseCase(c.E,e);await O(n)}else{const e=await D.createModelFromTemplate({name:Z.value,parentObjectId:t.parentId,modelInfoID:S.value,modelAdditionals:{qjsonType:"qjson"},modelType:"qjson"});await O(e)}n("close")}),{loading:!0})}function U(e){S.value=e}function z(e){Y.value=e}async function O(e){await i.checkout(e),i.openItem(e)}function K(e){Z.value=e}function L(e){q.value=e}return(e,t)=>{return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",g,[b,(0,a.Wm)(d.Z,{isRequired:!0,"disable-required-icon":!0,onGetValue:K,onValidateStatus:L,placeholder:"",type:"text","info-text":"",validations:G.value.name},null,8,["validations"]),I,(0,a._)("div",B,[(0,a._)("div",C,[(0,a._)("div",null,[_.value.length>0?((0,a.wg)(),(0,a.iD)("button",{key:0,class:(0,o.normalizeClass)({"button-text-container":!0,active:"BLANK_PAGE"==(0,r.SU)(Y)}),onClick:t[0]||(t[0]=e=>z("BLANK_PAGE"))}," Blank Page ",2)):(0,a.kq)("v-if",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(P.value,(e=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("button",{class:(0,o.normalizeClass)({"button-text-container":!0,active:e.name==(0,r.SU)(Y)}),onClick:n=>z(e.name)},(0,o.toDisplayString)(e.name),11,x)])))),256))]),_.value.length>0?((0,a.wg)(),(0,a.iD)("div",v)):(0,a.kq)("v-if",!0),(0,a._)("div",h,["BLANK_PAGE"==(0,r.SU)(Y)&&_.value.length>0?((0,a.wg)(),(0,a.iD)("div",f,[(0,a._)("div",{class:(0,o.normalizeClass)({"page-button-container":!0,active:"BLANK_PAGE"==S.value}),onClick:t[1]||(t[1]=e=>U("BLANK_PAGE"))},y,2),k])):(0,a.kq)("v-if",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((i=(0,r.SU)(Y),l=[],P.value.forEach((e=>{e.name==i&&l.push(e.children)})),l.flatMap((e=>e))),((e,n)=>((0,a.wg)(),(0,a.iD)("div",{class:"template-card-container",style:(0,o.normalizeStyle)((n+1)%3==0?"margin-right: 0px":"")},[(0,a._)("div",{class:(0,o.normalizeClass)({"page-button-container":!0,active:S.value==e.ID}),onClick:n=>U(e.ID)},[e.image?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"template-image",src:e.image,alt:e.name},null,8,T)):(0,a.kq)("v-if",!0)],10,w),(0,a._)("p",E,(0,o.toDisplayString)(e.name),1)],4)))),256))])])])]),(0,a.Wm)(u.Z,{"cancel-button-cb":()=>n("close"),"create-button-cb":j,"create-button-enabled":q.value},null,8,["cancel-button-cb","create-button-enabled"])],64);var i,l}}});var N=t(75701),_=t.n(N),P=t(8236),Y=t.n(P),Z=t(6080),q=t.n(Z),S=t(56850),G=t.n(S),M=t(87182),j=t.n(M),U=t(39213),z=t.n(U),O=t(88796),K={};K.styleTagTransform=z(),K.setAttributes=G(),K.insert=q().bind(null,"head"),K.domAPI=Y(),K.insertStyleElement=j(),_()(O.Z,K),O.Z&&O.Z.locals&&O.Z.locals;const L=(0,t(51419).Z)(D,[["__scopeId","data-v-c4632316"]])}}]);
//# sourceMappingURL=142.js.map