"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[211],{82814:(l,t,e)=>{e.d(t,{Z:()=>r});var a=e(8375),i=e.n(a),s=e(7638),o=e.n(s),n=e(69345),c=o()(i());c.i(n.Z),c.push([l.id,"\n",""]);const r=c},85848:(l,t,e)=>{e.d(t,{c:()=>a});const a=Symbol.for("IExporterApi")},91056:(l,t,e)=>{e.d(t,{u:()=>a});const a=Symbol.for("IDialog")},50419:(l,t,e)=>{e.d(t,{L:()=>a});const a=Symbol.for("INotification")},55044:(l,t,e)=>{e.d(t,{Z:()=>ll});var a=e(71093),i=e(66190),s=e(73843),o=e(46233),n=e(5627),c=e(91886),r=e(89001),u=e(85848),d=e(50419);const p=l=>((0,a.dD)("data-v-c83a00e0"),l=l(),(0,a.Cn)(),l),g={class:"page-title"},h={class:"filter-area"},m={class:"search-container"},D={class:"search-in-table"},y=p((()=>(0,a._)("i",{class:"mdi mdi-magnify"},null,-1))),S={class:"table-container"},_={class:"items-table",id:"applicationListTable"},v={key:0,class:"col-xl-1"},f=p((()=>(0,a._)("th",{class:"col-xl-1"},"UI Page Count",-1))),b=p((()=>(0,a._)("th",{class:"col-xl-1"},"UI Page Size",-1))),C=p((()=>(0,a._)("th",{class:"col-xl-1"},"UI Page Count-Including Shared Modules",-1))),x=p((()=>(0,a._)("th",{class:"col-xl-1"},"UI Page Size-Including Shared Modules",-1))),P=p((()=>(0,a._)("th",{class:"col-xl-1"},"Estimated Temp Uİ Page Count",-1))),U=p((()=>(0,a._)("th",{class:"col-xl-1"},"Estimated Temp Uİ Page Size",-1))),k=p((()=>(0,a._)("th",{class:"col-xl-1"},"Last calculation date",-1))),I=p((()=>(0,a._)("th",{class:"col-xl-2"},"Date Created",-1))),w=p((()=>(0,a._)("th",{class:"col-xl-1"},"Created By",-1))),M=p((()=>(0,a._)("th",{class:"col-xl-2"},"Date Updated",-1))),T=p((()=>(0,a._)("th",{class:"col-xl-2"},"Date Modified",-1))),z=p((()=>(0,a._)("th",{class:"col-xl-1"},"Mobile",-1))),O=p((()=>(0,a._)("th",{class:"col-xl-1"},"Date First Published",-1))),A=p((()=>(0,a._)("th",{class:"col-xl-1"},"Date Last Published",-1))),L=p((()=>(0,a._)("th",{class:"col-xl-1"},"Licensed",-1))),N={key:0},q={style:{padding:"18px 36px"}},Z={key:0,class:"mdi mdi-cellphone",style:{"font-size":"26px"}},H=(0,a.aZ)({__name:"applicationList",props:{allAppsOfOrgGroup:null,appList:null,displayOrgName:{type:Boolean},orgGroupId:null,orgId:null},setup(l){const t=l,e=n.nC.resolve(c.r),p=n.nC.resolve(u.c),H=n.nC.resolve(d.L),E=(0,s.iH)([]);let B=[];const K=t.allAppsOfOrgGroup,Y=K?K.map((l=>l.appInfo)):t.appList||[],G=(0,s.iH)(""),F=(0,s.iH)(["10","20","30","All"]),W=(0,s.iH)(["All","Mobile"]),j=(0,s.iH)("All");function R(){const l=Y.filter((l=>{var t,e;return(null===(t=l.name)||void 0===t?void 0:t.toUpperCase().includes(G.value.toUpperCase()))||(null===(e=l.createdBy)||void 0===e?void 0:e.toUpperCase().includes(G.value.toUpperCase()))}));return"All"==j.value?l:"Mobile"==j.value?l.filter((l=>l.mobileUsage)):l}function V(l){E.value=l}function J(l){switch(l){case"All":j.value="All";break;case"Mobile":j.value="Mobile"}}function Q(){window.location.reload()}async function X(){try{await p.trigger("organizations-cumulative-calculations",t.orgGroupId,t.orgId)}catch(l){H.showNotification({text:"Error occured while triggering exporter.",type:"error"})}finally{H.showNotification({text:"Calculation started, this should take a few minutes. Please refresh your page.",type:"success"})}}return(0,a.bv)((()=>{e.addSortingToColumns("applicationListTable"),B=[...new Set(E.value.flatMap((l=>l.tags||[])).map((l=>l.label)))]})),(l,n)=>{const c=(0,a.up)("CustomSelect");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",g,[(0,a._)("span",null,"Application List ("+(0,i.toDisplayString)((0,s.SU)(Y).length)+")",1)]),(0,a._)("div",h,[(0,a._)("div",m,[(0,a._)("div",D,[y,(0,a.wy)((0,a._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":n[0]||(n[0]=l=>G.value=l)},null,512),[[o.vModelText,G.value]])]),(0,a._)("div",{class:"button-container"},[(0,a._)("button",{onClick:Q,class:"button refresh-button"},"Refresh Page"),(0,a._)("button",{onClick:X,class:"button exporter-button"},"Trigger Exporter")])]),(0,a._)("div",null,[(0,a.Wm)(c,{options:W.value,default:W.value[0],onInput:J,class:"filters","selected-class":"selected-filter"},null,8,["options","default"])])]),(0,a._)("div",S,[(0,a._)("table",_,[(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:(0,i.normalizeClass)({"col-xl-2":!t.displayOrgName,"col-xl-1":t.displayOrgName})},"Name",2),t.displayOrgName?((0,a.wg)(),(0,a.iD)("th",v,"Organization")):(0,a.kq)("v-if",!0),f,b,C,x,P,U,k,(0,s.SU)(B)&&(0,s.SU)(B).length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)((0,s.SU)(B),((l,t)=>((0,a.wg)(),(0,a.iD)("th",{key:t,class:"col-xl-1"},(0,i.toDisplayString)(l),1)))),128)):(0,a.kq)("v-if",!0),I,w,M,T,z,O,A,L])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(E.value,(l=>{var o,n;return(0,a.wg)(),(0,a.iD)("tr",{key:l.ID},[(0,a.kq)(" <td>{{ app.ID }}</td> "),(0,a._)("td",null,(0,i.toDisplayString)(l.name),1),(0,a.kq)(" <td>{{ app.ownerUser }}</td> "),t.displayOrgName?((0,a.wg)(),(0,a.iD)("td",N,(0,i.toDisplayString)(l.organizationName),1)):(0,a.kq)("v-if",!0),(0,a.kq)(" <td>Fix the column data</td> "),(0,a._)("td",null,(0,i.toDisplayString)(l.uiPageCalc.count||0),1),(0,a._)("td",null,(0,i.toDisplayString)(Math.ceil(l.uiPageCalc.size/1024||0)+"KB"),1),(0,a._)("td",null,(0,i.toDisplayString)(l.uiPageCalc.noSharedModuleCount?l.uiPageCalc.noSharedModuleCount:l.uiPageCalc.count||0),1),(0,a._)("td",null,(0,i.toDisplayString)(Math.ceil((l.uiPageCalc.noSharedModuleSize?l.uiPageCalc.noSharedModuleSize:l.uiPageCalc.size||0)/1024)+"KB"),1),(0,a._)("td",null,(0,i.toDisplayString)(l.uiPageCalc.estimatedTempCount?l.uiPageCalc.estimatedTempCount:0),1),(0,a._)("td",null,(0,i.toDisplayString)(Math.ceil((l.uiPageCalc.estimatedTempSize?l.uiPageCalc.estimatedTempSize:0)/1024)+"KB"),1),(0,a._)("td",null,(0,i.toDisplayString)((null===(n=null===(o=(0,s.SU)(K))||void 0===o?void 0:o.find((t=>t.appInfo.ID==l.ID)))||void 0===n?void 0:n.jobInfo.runDate)||"1880-08-08T00:00:00.000Z"),1),l.tags&&l.tags.length>0&&(0,s.SU)(B).length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)((0,s.SU)(B),((t,e)=>{var s;return(0,a.wg)(),(0,a.iD)("td",{key:e,class:"col-xl-1"},(0,i.toDisplayString)(l.tags.find((l=>l.label==t))?null===(s=l.tags.find((l=>l.label==t)))||void 0===s?void 0:s.value:""),1)})),128)):(0,a.kq)("v-if",!0),(!l.tags||0==l.tags.length)&&(0,s.SU)(B).length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:2},(0,a.Ko)((0,s.SU)(B).length,(l=>((0,a.wg)(),(0,a.iD)("td",{key:l,class:"col-xl-1"},(0,i.toDisplayString)(""))))),128)):(0,a.kq)("v-if",!0),(0,a._)("td",null,(0,i.toDisplayString)((0,s.SU)(e).formatDate(l.createDate)),1),(0,a._)("td",null,(0,i.toDisplayString)(l.createdBy),1),(0,a._)("td",null,(0,i.toDisplayString)(l.updateDate?(0,s.SU)(e).formatDate(l.updateDate):"-"),1),(0,a._)("td",null,(0,i.toDisplayString)(l.modifyDate?(0,s.SU)(e).formatDate(l.modifyDate):"-"),1),(0,a._)("td",q,[l.mobileUsage&&(l.mobileUsage.isMobilePublished||l.mobileUsage.isMobileTemplateUsed)?((0,a.wg)(),(0,a.iD)("i",Z)):(0,a.kq)("v-if",!0)]),(0,a._)("td",null,(0,i.toDisplayString)(l.firstPublishDate?(0,s.SU)(e).formatDate(l.firstPublishDate):"-"),1),(0,a._)("td",null,(0,i.toDisplayString)(l.lastPublishDate?(0,s.SU)(e).formatDate(l.lastPublishDate):"-"),1),(0,a._)("td",null,(0,i.toDisplayString)(l.licensed?"LICENSED":"Free"),1)])})),128))]),(0,a.Wm)(r.Z,{itemsPerPageOptions:F.value,columnCount:t.displayOrgName?12:11,onPaginateData:V,searchInTable:G.value,getTableData:R},null,8,["itemsPerPageOptions","columnCount","searchInTable"])])])],64)}}});var E=e(17450),B=e.n(E),K=e(29530),Y=e.n(K),G=e(16199),F=e.n(G),W=e(40458),j=e.n(W),R=e(62916),V=e.n(R),J=e(92165),Q=e.n(J),X=e(82814),$={};$.styleTagTransform=Q(),$.setAttributes=j(),$.insert=F().bind(null,"head"),$.domAPI=Y(),$.insertStyleElement=V(),B()(X.Z,$),X.Z&&X.Z.locals&&X.Z.locals;const ll=(0,e(32525).Z)(H,[["__scopeId","data-v-c83a00e0"]])}}]);