"use strict";(self.webpackChunkqcloud_shell=self.webpackChunkqcloud_shell||[]).push([[577],{387:(e,n,o)=>{o.d(n,{Z:()=>i});var t=o(1864),r=o.n(t),l=o(352),s=o.n(l)()(r());s.push([e.id,"\n.explorerContainer[data-v-578512f6] {\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/sidebars/explorer.vue"],names:[],mappings:";AAyCA;AACA",sourcesContent:['<script setup lang="ts">\nimport { onMounted, ref, watch } from \'vue\';\nimport { container } from \'../../../../domain/core/diContainer\';\nimport { IFileExplorer } from \'../../../../domain/useCase/IFileExplorer\';\nimport { IUseCaseExecutor } from \'../../../../domain/useCase/IUseCaseExecutor\';\nimport { IViewModel } from \'../../../../domain/viewModel/IViewModel\';\n\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst rootDiv = ref<HTMLDivElement>();\n\nconst openApp = async () => {\n    executor.execute(async () => {\n        while (rootDiv.value!.firstElementChild) { rootDiv.value!.removeChild(rootDiv.value!.firstElementChild); }\n        const fileExplorer = await executor.resolveUseCase<IFileExplorer>(IFileExplorer);\n        await fileExplorer.loadFileExplorer(rootDiv.value!);\n    }, { loading: true });\n};\n\nlet curAppId = viewModel.studio.appId!;\nwatch(viewModel, (val, oldVal) => {\n    if (!val.studio.appId) { return; }\n    if (val.studio.appId == curAppId) { return; }\n\n    curAppId = val.studio.appId;\n    openApp();\n});\n\n/* IMPORTANT: This "watch" code below will always run after "UI Settings" implementation,\n    because it always manipulates "viewmodel studio items" to set the initial(default) models(modelbody) to UI settings models. \n    Therefore, if we open this onMounted code, function "openApp" runs double.\n*/\n// onMounted(async () => {\n//     openApp();\n// });\n\n<\/script>\n<template>\n    <div class="explorerContainer" ref="rootDiv"></div>\n</template>\n<style scoped>\n.explorerContainer {\n}\n</style>'],sourceRoot:""}]);const i=s},7577:(e,n,o)=>{o.r(n),o.d(n,{default:()=>M});var t=o(2068),r=o(1407),l=o(3734),s=o(5234),i=o(664),a=o(7422);const d=(0,t.aZ)({__name:"explorer",setup(e){const n=l.nC.resolve(a.J),o=l.nC.resolve(i.y),d=(0,r.iH)();let p=n.studio.appId;return(0,t.YP)(n,((e,n)=>{e.studio.appId&&e.studio.appId!=p&&(p=e.studio.appId,(async()=>{o.execute((async()=>{for(;d.value.firstElementChild;)d.value.removeChild(d.value.firstElementChild);const e=await o.resolveUseCase(s.g);await e.loadFileExplorer(d.value)}),{loading:!0})})())})),(e,n)=>((0,t.wg)(),(0,t.iD)("div",{class:"explorerContainer",ref_key:"rootDiv",ref:d},null,512))}});var p=o(5701),u=o.n(p),c=o(8236),v=o.n(c),m=o(6080),f=o.n(m),I=o(6850),w=o.n(I),C=o(7182),x=o.n(C),h=o(9213),E=o.n(h),A=o(387),y={};y.styleTagTransform=E(),y.setAttributes=w(),y.insert=f().bind(null,"head"),y.domAPI=v(),y.insertStyleElement=x(),u()(A.Z,y),A.Z&&A.Z.locals&&A.Z.locals;const M=(0,o(1419).Z)(d,[["__scopeId","data-v-578512f6"]])}}]);
//# sourceMappingURL=577.js.map