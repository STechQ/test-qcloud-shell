"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[4036],{12156:(n,e,t)=>{t.d(e,{Z:()=>d});var a=t(34663),i=t.n(a),o=t(7638),l=t.n(o),s=t(69345),r=l()(i());r.i(s.Z),r.push([n.id,"\n","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const d=r},2490:(n,e,t)=>{t.d(e,{Z:()=>s});var a=t(34663),i=t.n(a),o=t(7638),l=t.n(o)()(i());l.push([n.id,"\n.user-info-type[data-v-4c1f1d14] {\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    background: #FFFFFF;\n    margin-right: 37px;\n    padding: 24px 24px 18px;\n    display: flex;\n    flex-direction: column;\n}\n.user-info-type[data-v-4c1f1d14]:last-child {\n    margin-right: 0;\n}\n.user-info-type-name[data-v-4c1f1d14] {\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 23px;\n    color: #757575;\n    margin-bottom: 20px;\n    min-width: 100px;\n    flex: 1;\n}\n.user-info[data-v-4c1f1d14] {\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 33px;\n    color: #151233;\n}\n.div-title[data-v-4c1f1d14] {\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 23px;\n    color: #151233;\n    margin-bottom: 20px;\n}\n.user-org-table[data-v-4c1f1d14] {\n    background: #FFFFFF;\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    width: 100%;\n}\ntd[data-v-4c1f1d14]:hover {\n    background-color: none !important;\n}\ntable tr[data-v-4c1f1d14]:hover {\n    background-color: #EEEEEE;\n}\n.user-org-table th[data-v-4c1f1d14]\n    {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 18px 36px\n}\n.user-org-table td[data-v-4c1f1d14] {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 20px 36px;\n    color: #212121;\n    font-size: 14px;\n    line-height: 16px;\n}\n.user-org-table .thead[data-v-4c1f1d14] {\n    background: #F5F5F5;\n    color: #616161;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.view-btn[data-v-4c1f1d14] {\n    background: none;\n    border:none;\n    color: #2C5A86;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.manage-user-div[data-v-4c1f1d14] {\n    width: 85%; \n    display: flex; \n    justify-content: end;\n    position: absolute;\n    top: 80px;\n    right: 36px;\n}\n.manage-btn[data-v-4c1f1d14] {\n  border: 1px solid #151233;\n  border-radius: 4px;\n  padding: 1.5px 16px;\n  font-size: 15px;\n  color: #151233;\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n}\n.delete-user-btn[data-v-4c1f1d14] {\n        background: #CBCBCB;\n        border-radius: 4px;\n        color: #212121;\n        border: none;\n        margin-left: 12px;\n        display: flex;\n        align-items: center;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        font-weight: 500;\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/pages/backoffice/user.vue"],names:[],mappings:";AA2HA;IACI,yBAAyB;IACzB,8CAA8C;IAC9C,mBAAmB;IACnB,mBAAmB;IACnB,kBAAkB;IAClB,uBAAuB;IACvB,aAAa;IACb,sBAAsB;AAC1B;AACA;IACI,eAAe;AACnB;AACA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;IACd,mBAAmB;IACnB,gBAAgB;IAChB,OAAO;AACX;AACA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;AAClB;AACA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;IACd,mBAAmB;AACvB;AACA;IACI,mBAAmB;IACnB,yBAAyB;IACzB,8CAA8C;IAC9C,mBAAmB;IACnB,WAAW;AACf;AACA;IACI,iCAAiC;AACrC;AACA;IACI,yBAAyB;AAC7B;AACA;;IAEI,gCAAgC;IAChC;AACJ;AACA;IACI,gCAAgC;IAChC,kBAAkB;IAClB,cAAc;IACd,eAAe;IACf,iBAAiB;AACrB;AACA;IACI,mBAAmB;IACnB,cAAc;IACd,gBAAgB;IAChB,eAAe;IACf,iBAAiB;AACrB;AACA;IACI,gBAAgB;IAChB,WAAW;IACX,cAAc;IACd,gBAAgB;IAChB,eAAe;IACf,iBAAiB;AACrB;AACA;IACI,UAAU;IACV,aAAa;IACb,oBAAoB;IACpB,kBAAkB;IAClB,SAAS;IACT,WAAW;AACf;AACA;EACE,yBAAyB;EACzB,kBAAkB;EAClB,mBAAmB;EACnB,eAAe;EACf,cAAc;EACd,aAAa;EACb,mBAAmB;EACnB,gBAAgB;AAClB;AACA;QACQ,mBAAmB;QACnB,kBAAkB;QAClB,cAAc;QACd,YAAY;QACZ,iBAAiB;QACjB,aAAa;QACb,mBAAmB;QACnB,mBAAmB;QACnB,eAAe;QACf,gBAAgB;AACpB",sourcesContent:['<script setup lang="ts">\nimport { defineAsyncComponent, onBeforeMount, ref } from "vue";\nimport { IUser_SUSI } from "../../../../../../common/qCloudTemp/authentication";\nimport { IOrganization } from "../../../../../../common/qCloudTemp/membership";\nimport { container } from "../../../../domain/core/diContainer";\nimport { IDialog } from "../../../../domain/presentation/IDialog";\nimport { IRouter } from "../../../../domain/presentation/IRouter";\nimport { IBackofficeUseCase } from "../../../../domain/useCase/IBackofficeUseCase";\nimport { IUseCaseExecutor } from "../../../../domain/useCase/IUseCaseExecutor";\nimport { IOrganizationUseCase } from "../../../../domain/useCase/IOrganizationUseCase";\nimport OrganizationList from "../../components/backoffice/organization/organizationList.vue";\nimport { IViewModel } from "../../../../domain/viewModel/IViewModel";\n\n\nconst router = container.resolve<IRouter>(IRouter);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst backofficeUseCase = container.resolve<IBackofficeUseCase>(IBackofficeUseCase);\n\n\nconst routerParams = router.getRouteParams<{ userId: string }>();\nbackofficeUseCase.setBreadcrumb(["Users", "User Detail"]);\nconst user = ref<IUser_SUSI>();\nconst orgInfo = ref<Array<IOrganization>>([]);\nconst dialog = container.resolve<IDialog>(IDialog);\nconst organizationsDataIsReady = ref(false);\n\n\n\nonBeforeMount(() => {\n    getOrganizations();\n})\n\nfunction openManageUserDialog () {\n  dialog.showDialog(\n        defineAsyncComponent(() => import(`../../components/dialogs/backoffice/manageUser.vue`)),\n        { closable: true, title: "Manage User", width: "499px", maxHeight: "184px" }, {user: user.value}\n    );\n}\nfunction getOrganizations() {\n    executor.execute(async () => {\n        user.value = await backofficeUseCase.getUserInfo(routerParams.userId);\n        orgInfo.value = await backofficeUseCase.getOrganizationsByUserId(routerParams.userId);\n        organizationsDataIsReady.value = true;\n    }, { loading: true });\n}\n\nfunction openDeleteUserDialog() {\n    dialog.showDialog(\n            defineAsyncComponent(() => import(`../../components/dialogs/backoffice/deleteConfirmation.vue`)),\n            { closable: true, title: "Delete User", width: "577px", maxHeight: "206px" },\n            { \n                infoText: \'User Email\',  \n                placeholder:`Write user email \'${user.value?.email}\' to delete`, validText: user.value?.email, \n                deleteCb: async () => {\n                    await executor.execute(async () => {\n                        await backofficeUseCase.deleteUser(user.value?.id!, user.value?.email!);\n                        router.push("/backoffice/users");\n                    }, { loading: true });\n                }\n            });\n}\n<\/script>\n\n<template>\n    <div class="manage-user-div">\n        <button class="manage-btn" @click="openManageUserDialog()"><i class="mdi mdi-cog" style="font-size: 20px; margin-right: 4px"></i><span>MANAGE USER</span></button>\n        <button class="delete-user-btn" @click="openDeleteUserDialog()"><i class="mdi mdi-delete" style="font-size: 20px; margin-right: 4px"></i><span>DELETE</span></button>\n    </div>  \n    <div style="display:flex; margin-bottom: 32px;">\n        <div class="user-info-type">\n            <div class="user-info-type-name">Name</div>\n            <div class="user-info">{{ user?.name }}</div>\n        </div>\n        <div class="user-info-type">\n            <div class="user-info-type-name">Last Name</div>\n            <div class="user-info">{{ user?.lastName }}</div>\n        </div>\n        <div class="user-info-type">\n            <div class="user-info-type-name">E-mail</div>\n            <div class="user-info">{{ user?.email }}</div>\n        </div>\n        <div class="user-info-type" style="flex: 1">\n            <div class="user-info-type-name">ID</div>\n            <div class="user-info" style="font-size: 20px;">{{ user?.id }}</div>\n        </div>\n        <div class="user-info-type" style="flex: 1">\n            <div class="user-info-type-name">Object ID</div>\n            <div class="user-info" style="font-size: 20px;">{{ user?.objectId }}</div>\n        </div>\n    </div>\n    <div style="margin-bottom: 32px;">\n        <div v-if="organizationsDataIsReady">\n            <OrganizationList :organizations="orgInfo" :userID = "user?.id" @refreshTable="getOrganizations"></OrganizationList>\n        </div>\n    </div>\n    <div style="display: none">\n        <div class="div-title">Roles ({{ user?.organizationIds.length }})</div>\n        <div>\n            <table class="user-org-table"> \n                <tr class="thead">\n                    <th class="col-xl-3">ID</th>\n                    <th class="col-xl-3">Name</th>\n                    <th class="col-xl-3">Date Created</th>\n                    <th class="col-xl-2">Date Joined</th>\n                    <th class="col-xl-1"></th>\n                </tr>\n                <tr v-for="org in orgInfo" :key="org.id">\n                    <td>{{ org.id }}</td>\n                    <td>{{ org.name }}</td>\n                    <td> {{ org.createDate }}</td>\n                    <td>-</td>\n                    <td><div style="display: flex;">\n                        <button class="remove-btn">REMOVE</button>\n                        <button class="view-btn">VIEW</button>\n                    </div></td>\n                </tr>\n            </table>\n        </div>\n    </div>\n\n</template>\n\n<style scoped>\n.user-info-type {\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    background: #FFFFFF;\n    margin-right: 37px;\n    padding: 24px 24px 18px;\n    display: flex;\n    flex-direction: column;\n}\n.user-info-type:last-child {\n    margin-right: 0;\n}\n.user-info-type-name {\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 23px;\n    color: #757575;\n    margin-bottom: 20px;\n    min-width: 100px;\n    flex: 1;\n}\n.user-info {\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 33px;\n    color: #151233; \n}\n.div-title {\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 23px;\n    color: #151233;\n    margin-bottom: 20px;\n}\n.user-org-table {\n    background: #FFFFFF;\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    width: 100%;\n}\ntd:hover {\n    background-color: none !important;\n}\ntable tr:hover {\n    background-color: #EEEEEE;\n}   \n.user-org-table th\n    {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 18px 36px\n}\n.user-org-table td {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 20px 36px;\n    color: #212121;\n    font-size: 14px;\n    line-height: 16px;\n}\n.user-org-table .thead {\n    background: #F5F5F5;\n    color: #616161;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.view-btn {\n    background: none;\n    border:none;\n    color: #2C5A86;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.manage-user-div {\n    width: 85%; \n    display: flex; \n    justify-content: end;\n    position: absolute;\n    top: 80px;\n    right: 36px;\n}\n.manage-btn {\n  border: 1px solid #151233;\n  border-radius: 4px;\n  padding: 1.5px 16px;\n  font-size: 15px;\n  color: #151233;\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n}\n.delete-user-btn {\n        background: #CBCBCB;\n        border-radius: 4px;\n        color: #212121;\n        border: none;\n        margin-left: 12px;\n        display: flex;\n        align-items: center;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        font-weight: 500;   \n    }\n</style>'],sourceRoot:""}]);const s=l},91056:(n,e,t)=>{t.d(e,{u:()=>a});const a=Symbol.for("IDialog")},1937:(n,e,t)=>{t.d(e,{Ax:()=>i,v5:()=>a});const a=Symbol.for("IRouter");function i(n){}},64204:(n,e,t)=>{t.d(e,{Z:()=>M});var a=t(71093),i=t(66190),o=t(73843),l=t(46233),s=t(5627),r=t(20559),d=t(91886),c=t(83487),u=t(84039),A=t(89001);const p=n=>((0,a.dD)("data-v-2a12f7e8"),n=n(),(0,a.Cn)(),n),g={class:"page-title"},v={class:"filter-area"},f={class:"search-in-table"},m=p((()=>(0,a._)("i",{class:"mdi mdi-magnify"},null,-1))),C={class:"table-container"},x={class:"items-table",id:"organizationListTable"},b=p((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"col-xl-1"},"Name"),(0,a._)("th",{class:"col-xl-1"},"Licensing Group"),(0,a._)("th",{class:"col-xl-1"},"App Count"),(0,a._)("th",{class:"col-xl-1"},"User Count"),(0,a._)("th",{class:"col-xl-1"},"UI Page Count"),(0,a._)("th",{class:"col-xl-1"},"UI Page Size"),(0,a._)("th",{class:"col-xl-1"},"Date Created"),(0,a._)("th",{class:"col-xl-1"},"Created By"),(0,a._)("th",{class:"col-xl-1"},"Date Modified"),(0,a._)("th",{class:"col-xl-1"},"Cost"),(0,a._)("th",{class:"col-xl-1"},"Tags"),(0,a._)("th",{class:"col-xl-1"},"License"),(0,a.kq)(' <th class="col-xl-1">Activity</th> '),(0,a._)("th",{class:"col-xl-1"})])],-1))),I=p((()=>(0,a._)("td",null," - ",-1))),h={style:{display:"flex"}},B=["onClick"],y=["onClick"],D=["onClick"],_=(0,a.aZ)({__name:"organizationList",props:{organizations:null,userID:null,tagID:null},emits:["refreshTable"],setup(n,{emit:e}){const t=n,p=s.nC.resolve(c.y),_=s.nC.resolve(r.X),E=s.nC.resolve(d.r),k=(0,a.Fl)((()=>t.organizations)),w=(0,o.iH)(""),z=(0,o.iH)([]),U=(0,o.iH)(["10","20","30","All"]),S=(0,o.iH)(["All","LICENSED","Free","Demo Org"]),F=(0,o.iH)("All");function O(){e("refreshTable")}function T(){const n=k.value.filter((n=>{var e,t,a,i;return((null===(e=n.name)||void 0===e?void 0:e.toUpperCase().includes(w.value.toUpperCase()))||(null===(t=n.id)||void 0===t?void 0:t.toUpperCase().includes(w.value.toUpperCase()))||(null===(a=n.createdBy)||void 0===a?void 0:a.toUpperCase().includes(w.value.toUpperCase()))||(null===(i=n.organizationGroupName)||void 0===i?void 0:i.toUpperCase().includes(w.value.toUpperCase())))&&"deleting"!=n.status}));return"All"==F.value?n:"LICENSED"==F.value?n.filter((n=>"LICENSED"==N(n))):"Free"==F.value?n.filter((n=>"Free"==N(n))):"Demo Org"==F.value?n.filter((n=>"Demo Org"==N(n))):n}function R(n){switch(n){case"All":F.value="All";break;case"LICENSED":F.value="LICENSED";break;case"Free":F.value="Free";break;case"Demo Org":F.value="Demo Org"}}function L(n){z.value=n}function N(n){return n.accountType&&"premium"==n.accountType&&!r.q.includes(n.organizationGroupId?n.organizationGroupId:"")?"LICENSED":n.accountType&&"premium"==n.accountType&&r.q.includes(n.organizationGroupId?n.organizationGroupId:"")?"Demo Org":"Free"}return(0,a.bv)((()=>{E.addSortingToColumns("organizationListTable")})),(n,e)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",g,[(0,a._)("span",null,"Organization List ("+(0,i.toDisplayString)((0,o.SU)(k).length)+")",1)]),(0,a._)("div",v,[(0,a._)("div",f,[m,(0,a.wy)((0,a._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":e[0]||(e[0]=n=>w.value=n)},null,512),[[l.vModelText,w.value]])]),(0,a._)("div",null,[(0,a.Wm)(u.Z,{options:S.value,default:S.value[0],onInput:R,class:"bo-table-filters","selected-class":"selected-filter "},null,8,["options","default"])])]),(0,a._)("div",C,[(0,a._)("table",x,[b,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.value,(n=>{var e,l,s,r,d;return(0,a.wg)(),(0,a.iD)("tr",{key:n.id},[(0,a._)("td",null,(0,i.toDisplayString)(n.name),1),(0,a._)("td",null,(0,i.toDisplayString)(n.organizationGroupName),1),(0,a._)("td",null,(0,i.toDisplayString)(null===(e=n.calculatedInfo)||void 0===e?void 0:e.appCount),1),(0,a._)("td",null,(0,i.toDisplayString)(null===(l=n.calculatedInfo)||void 0===l?void 0:l.userCount),1),(0,a._)("td",null,(0,i.toDisplayString)(null===(s=n.calculatedInfo)||void 0===s?void 0:s.uiPageCount),1),(0,a._)("td",null,(0,i.toDisplayString)((null===(r=n.calculatedInfo)||void 0===r?void 0:r.uiPageSize)?Math.ceil((null===(d=n.calculatedInfo)||void 0===d?void 0:d.uiPageSize)/1024)+"KB":""),1),(0,a._)("td",null,(0,i.toDisplayString)((0,o.SU)(E).formatDate(n.createDate)),1),(0,a._)("td",null,(0,i.toDisplayString)(n.createdBy),1),(0,a._)("td",null,(0,i.toDisplayString)(n.modifyDate?(0,o.SU)(E).formatDate(n.modifyDate):"-"),1),I,(0,a._)("td",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tagNames,(n=>((0,a.wg)(),(0,a.iD)("span",{key:n,class:"tag-names"},(0,i.toDisplayString)(n),1)))),128))]),(0,a._)("td",null,(0,i.toDisplayString)(N(n)),1),(0,a.kq)(' <td>  <span style="background: #FF6B6B; border-radius: 50%;padding: 6px 10px;">0</span> </td> '),(0,a._)("td",null,[(0,a._)("div",h,[t.userID?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"remove-btn",onClick:e=>{return a=t.userID,i=n.id,void p.execute((async()=>{await _.removeUserFromOrganization({userId:a,organizationId:i}),O()}),{loading:!0});var a,i}},"REMOVE",8,B)):(0,a.kq)("v-if",!0),t.tagID?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"remove-btn",onClick:e=>{return a=t.tagID,i=n.id,void p.execute((async()=>{await _.removeTagFromOrganization({organizationId:i,tagId:a}),O()}),{loading:!0});var a,i}},"REMOVE",8,y)):(0,a.kq)("v-if",!0),(0,a._)("button",{class:"view-btn",onClick:e=>{return t=n.id,void window.open(`/backoffice/organization/${t}`,"_blank");var t}},"VIEW",8,D)])])])})),128))]),(0,a.Wm)(A.Z,{itemsPerPageOptions:U.value,columnCount:13,onPaginateData:L,searchInTable:w.value,selectedFilter:F.value,getTableData:T},null,8,["itemsPerPageOptions","searchInTable","selectedFilter"])])])],64))}});var E=t(17450),k=t.n(E),w=t(29530),z=t.n(w),U=t(16199),S=t.n(U),F=t(40458),O=t.n(F),T=t(62916),R=t.n(T),L=t(92165),N=t.n(L),Z=t(12156),H={};H.styleTagTransform=N(),H.setAttributes=O(),H.insert=S().bind(null,"head"),H.domAPI=z(),H.insertStyleElement=R(),k()(Z.Z,H),Z.Z&&Z.Z.locals&&Z.Z.locals;const M=(0,t(32525).Z)(_,[["__scopeId","data-v-2a12f7e8"]])},34036:(n,e,t)=>{t.r(e),t.d(e,{default:()=>en});var a=t(71093),i=t(66190),o=t(73843),l=t(5627),s=t(91056),r=t(1937),d=t(20559),c=t(83487),u=t(64204);const A=n=>((0,a.dD)("data-v-4c1f1d14"),n=n(),(0,a.Cn)(),n),p={class:"manage-user-div"},g=[A((()=>(0,a._)("i",{class:"mdi mdi-cog",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),A((()=>(0,a._)("span",null,"MANAGE USER",-1)))],v=[A((()=>(0,a._)("i",{class:"mdi mdi-delete",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),A((()=>(0,a._)("span",null,"DELETE",-1)))],f={style:{display:"flex","margin-bottom":"32px"}},m={class:"user-info-type"},C=A((()=>(0,a._)("div",{class:"user-info-type-name"},"Name",-1))),x={class:"user-info"},b={class:"user-info-type"},I=A((()=>(0,a._)("div",{class:"user-info-type-name"},"Last Name",-1))),h={class:"user-info"},B={class:"user-info-type"},y=A((()=>(0,a._)("div",{class:"user-info-type-name"},"E-mail",-1))),D={class:"user-info"},_={class:"user-info-type",style:{flex:"1"}},E=A((()=>(0,a._)("div",{class:"user-info-type-name"},"ID",-1))),k={class:"user-info",style:{"font-size":"20px"}},w={class:"user-info-type",style:{flex:"1"}},z=A((()=>(0,a._)("div",{class:"user-info-type-name"},"Object ID",-1))),U={class:"user-info",style:{"font-size":"20px"}},S={style:{"margin-bottom":"32px"}},F={key:0},O={style:{display:"none"}},T={class:"div-title"},R={class:"user-org-table"},L=A((()=>(0,a._)("tr",{class:"thead"},[(0,a._)("th",{class:"col-xl-3"},"ID"),(0,a._)("th",{class:"col-xl-3"},"Name"),(0,a._)("th",{class:"col-xl-3"},"Date Created"),(0,a._)("th",{class:"col-xl-2"},"Date Joined"),(0,a._)("th",{class:"col-xl-1"})],-1))),N=A((()=>(0,a._)("td",null,"-",-1))),Z=A((()=>(0,a._)("td",null,[(0,a._)("div",{style:{display:"flex"}},[(0,a._)("button",{class:"remove-btn"},"REMOVE"),(0,a._)("button",{class:"view-btn"},"VIEW")])],-1))),H=(0,a.aZ)({__name:"user",setup(n){const e=l.nC.resolve(r.v5),A=l.nC.resolve(c.y),H=l.nC.resolve(d.X),M=e.getRouteParams();H.setBreadcrumb(["Users","User Detail"]);const P=(0,o.iH)(),W=(0,o.iH)([]),q=l.nC.resolve(s.u),Q=(0,o.iH)(!1);function V(){A.execute((async()=>{P.value=await H.getUserInfo(M.userId),W.value=await H.getOrganizationsByUserId(M.userId),Q.value=!0}),{loading:!0})}return(0,a.wF)((()=>{V()})),(n,o)=>{var l,s,r,d,c,M,j;return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",p,[(0,a._)("button",{class:"manage-btn",onClick:o[0]||(o[0]=n=>{q.showDialog((0,a.RC)((()=>t.e(1637).then(t.bind(t,71637)))),{closable:!0,title:"Manage User",width:"499px",maxHeight:"184px"},{user:P.value})})},g),(0,a._)("button",{class:"delete-user-btn",onClick:o[1]||(o[1]=n=>function(){var n,i;q.showDialog((0,a.RC)((()=>Promise.all([t.e(9234),t.e(4199)]).then(t.bind(t,78570)))),{closable:!0,title:"Delete User",width:"577px",maxHeight:"206px"},{infoText:"User Email",placeholder:`Write user email '${null===(n=P.value)||void 0===n?void 0:n.email}' to delete`,validText:null===(i=P.value)||void 0===i?void 0:i.email,deleteCb:async()=>{await A.execute((async()=>{var n,t;await H.deleteUser(null===(n=P.value)||void 0===n?void 0:n.id,null===(t=P.value)||void 0===t?void 0:t.email),e.push("/backoffice/users")}),{loading:!0})}})}())},v)]),(0,a._)("div",f,[(0,a._)("div",m,[C,(0,a._)("div",x,(0,i.toDisplayString)(null===(l=P.value)||void 0===l?void 0:l.name),1)]),(0,a._)("div",b,[I,(0,a._)("div",h,(0,i.toDisplayString)(null===(s=P.value)||void 0===s?void 0:s.lastName),1)]),(0,a._)("div",B,[y,(0,a._)("div",D,(0,i.toDisplayString)(null===(r=P.value)||void 0===r?void 0:r.email),1)]),(0,a._)("div",_,[E,(0,a._)("div",k,(0,i.toDisplayString)(null===(d=P.value)||void 0===d?void 0:d.id),1)]),(0,a._)("div",w,[z,(0,a._)("div",U,(0,i.toDisplayString)(null===(c=P.value)||void 0===c?void 0:c.objectId),1)])]),(0,a._)("div",S,[Q.value?((0,a.wg)(),(0,a.iD)("div",F,[(0,a.Wm)(u.Z,{organizations:W.value,userID:null===(M=P.value)||void 0===M?void 0:M.id,onRefreshTable:V},null,8,["organizations","userID"])])):(0,a.kq)("v-if",!0)]),(0,a._)("div",O,[(0,a._)("div",T,"Roles ("+(0,i.toDisplayString)(null===(j=P.value)||void 0===j?void 0:j.organizationIds.length)+")",1),(0,a._)("div",null,[(0,a._)("table",R,[L,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(W.value,(n=>((0,a.wg)(),(0,a.iD)("tr",{key:n.id},[(0,a._)("td",null,(0,i.toDisplayString)(n.id),1),(0,a._)("td",null,(0,i.toDisplayString)(n.name),1),(0,a._)("td",null,(0,i.toDisplayString)(n.createDate),1),N,Z])))),128))])])])],64)}}});var M=t(17450),P=t.n(M),W=t(29530),q=t.n(W),Q=t(16199),V=t.n(Q),j=t(40458),G=t.n(j),Y=t(62916),K=t.n(Y),X=t(92165),J=t.n(X),$=t(2490),nn={};nn.styleTagTransform=J(),nn.setAttributes=G(),nn.insert=V().bind(null,"head"),nn.domAPI=q(),nn.insertStyleElement=K(),P()($.Z,nn),$.Z&&$.Z.locals&&$.Z.locals;const en=(0,t(32525).Z)(H,[["__scopeId","data-v-4c1f1d14"]])}}]);
//# sourceMappingURL=4036.js.map?ver=0.0.286_1702797533329