{"version":3,"file":"3465.js?ver=0.0.317_1714728273281","mappings":"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","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/importModelDialog.vue?db15","webpack://qcloud_shell/../node_modules/@stechquick/algae/src/helpers/binaryHelper.ts","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/importModelDialog.vue?f8a7","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/importModelDialog.vue?4174","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/importModelDialog.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../styles/IDE3.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n*[data-v-66ff9202] { \\n    font-family: 'Roboto';\\n}\\n.container[data-v-66ff9202] {\\n    padding: 20px;\\n}\\n.selectedItems[data-v-66ff9202] {\\n    margin-top: 10px;\\n    max-height: 230px;\\n    overflow: auto;\\n}\\n.importBtn[data-v-66ff9202] {\\n    border-radius: 4px;\\n    border: none;\\n    color: white;\\n    width: 97px;\\n    height: 40px;\\n    font-style: normal;\\n    font-size: 16px;\\n    font-weight: 500;\\n    letter-spacing: 0px;\\n}\\n.importBtnDiv[data-v-66ff9202] {\\n    text-align: end;\\n    margin-top: 30px;\\n}\\n.removeIcon[data-v-66ff9202] {\\n    cursor: pointer;\\n    padding-right: 10px;\\n    font-style: normal;\\n    font-size: 18px;\\n    letter-spacing: 0px;\\n}\\n.removeIconReposition[data-v-66ff9202] {\\n    cursor: pointer;\\n    padding-right: 10px;\\n    font-style: normal;\\n    font-size: 18px;\\n    margin-left: 23px;\\n}\\n.loading[data-v-66ff9202] {\\n    cursor: pointer;\\n    color: #212121;\\n    padding-right: 10px;\\n    font-style: normal;\\n    font-size: 18px;\\n    letter-spacing: 0px;\\n}\\n[data-v-66ff9202]::-webkit-file-upload-button {\\n    background: #2f3160;\\n    color: white;\\n    border-radius: 4px;\\n    width: 120px;\\n    height: 48px;\\n}\\n.fileUploadDiv[data-v-66ff9202] {\\n    cursor: pointer;\\n}\\n.filesValue[data-v-66ff9202] {\\n    margin-top: 10px;\\n    background-color: #f5f5f5;\\n    display: flex;\\n    align-items: center;\\n    border-radius: 4px;\\n    font-size: 16px;\\n    letter-spacing: 0px;\\n    width: 100%;\\n    text-align: start;\\n    padding: 4px;\\n}\\n.uploadFilesText[data-v-66ff9202] {\\n    color: #616161;\\n    font-style: normal;\\n    font-size: 18px;\\n    letter-spacing: 0px;\\n    margin-top: 10px;\\n}\\n.fileTypeQjson[data-v-66ff9202] {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n.fileTypeImage[data-v-66ff9202] {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n.fileTypeEntity[data-v-66ff9202] {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n.fileTypeBpmn[data-v-66ff9202] {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n.fileTypeProcess[data-v-66ff9202] {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n.unacceptableFileType[data-v-66ff9202] {\\n    color: red;\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n.uploadArea[data-v-66ff9202] {\\n    text-align: center;\\n    padding-top: 25px;\\n    border: 1px dashed #a1a1a1;\\n    height: 100px;\\n}\\n.cancelBtn[data-v-66ff9202] {\\n    background: none;\\n    border: none;\\n    font-style: normal;\\n    font-weight: 500;\\n    font-size: 16px;\\n    letter-spacing: 0px;\\n    margin-left: 50px;\\n    margin-right: 10px;\\n    color: #757575;\\n    letter-spacing: 0.02px;\\n}\\n.loader[data-v-66ff9202] {\\n    border: 3px solid #f3f3f3;\\n    border-radius: 70%;\\n    border-top: 3px solid #3498db;\\n    width: 12px;\\n    height: 12px;\\n    -webkit-animation: spin-66ff9202 1s linear infinite;\\n    animation: spin-66ff9202 1s linear infinite;\\n}\\n.ml-6[data-v-66ff9202] {\\n    margin-left: 6px;\\n}\\n\\n/* Safari */\\n@-webkit-keyframes spin-66ff9202 {\\n0% {\\n        -webkit-transform: rotate(0deg);\\n}\\n100% {\\n        -webkit-transform: rotate(360deg);\\n}\\n}\\n@keyframes spin-66ff9202 {\\n0% {\\n        transform: rotate(0deg);\\n}\\n100% {\\n        transform: rotate(360deg);\\n}\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/importModelDialog.vue\"],\"names\":[],\"mappings\":\";AAgiBA;IACI,qBAAqB;AACzB;AAEA;IACI,aAAa;AACjB;AAEA;IACI,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;AAClB;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,YAAY;IACZ,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,eAAe;IACf,gBAAgB;IAChB,mBAAmB;AACvB;AAEA;IACI,eAAe;IACf,gBAAgB;AAEpB;AAEA;IACI,eAAe;IACf,mBAAmB;IACnB,kBAAkB;IAClB,eAAe;IACf,mBAAmB;AACvB;AAEA;IACI,eAAe;IACf,mBAAmB;IACnB,kBAAkB;IAClB,eAAe;IACf,iBAAiB;AACrB;AAEA;IACI,eAAe;IACf,cAAc;IACd,mBAAmB;IACnB,kBAAkB;IAClB,eAAe;IACf,mBAAmB;AACvB;AAEA;IACI,mBAAmB;IACnB,YAAY;IACZ,kBAAkB;IAClB,YAAY;IACZ,YAAY;AAChB;AAEA;IACI,eAAe;AACnB;AAEA;IACI,gBAAgB;IAChB,yBAAyB;IACzB,aAAa;IACb,mBAAmB;IACnB,kBAAkB;IAClB,eAAe;IACf,mBAAmB;IACnB,WAAW;IACX,iBAAiB;IACjB,YAAY;AAChB;AAEA;IACI,cAAc;IACd,kBAAkB;IAClB,eAAe;IACf,mBAAmB;IACnB,gBAAgB;AACpB;AAEA;IACI,eAAe;IACf,iBAAiB;AACrB;AAEA;IACI,eAAe;IACf,iBAAiB;AACrB;AAEA;IACI,eAAe;IACf,iBAAiB;AACrB;AAEA;IACI,eAAe;IACf,iBAAiB;AACrB;AAEA;IACI,eAAe;IACf,iBAAiB;AACrB;AAEA;IACI,UAAU;IACV,eAAe;IACf,iBAAiB;AACrB;AAEA;IACI,kBAAkB;IAClB,iBAAiB;IACjB,0BAA0B;IAC1B,aAAa;AACjB;AAEA;IACI,gBAAgB;IAChB,YAAY;IACZ,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,cAAc;IACd,sBAAsB;AAC1B;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,6BAA6B;IAC7B,WAAW;IACX,YAAY;IACZ,mDAA0C;IAC1C,2CAAkC;AACtC;AAEA;IACI,gBAAgB;AACpB;;AAEA,WAAW;AACX;AACI;QACI,+BAA+B;AACnC;AAEA;QACI,iCAAiC;AACrC;AACJ;AAEA;AACI;QACI,uBAAuB;AAC3B;AAEA;QACI,yBAAyB;AAC7B;AACJ\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { IUseCaseExecutor } from \\\"../../../../domain/useCase/IUseCaseExecutor\\\";\\nimport { container } from \\\"../../../../domain/core/diContainer\\\";\\nimport { ICreateModel, ICreateModelParam } from \\\"../../../../domain/useCase/ICreateModel\\\";\\nimport { IApplication, IModel, IModule } from \\\"../../../../domain/model/models\\\";\\nimport { ref } from \\\"@vue/runtime-dom\\\";\\nimport { computed } from \\\"@vue/reactivity\\\";\\nimport { TooltipImpl } from \\\"../../impls/tooltipImpl\\\";\\nimport { IFormValidator, IFormValidatorOptions, IFormValidatorResponseItem } from \\\"../../../../domain/infrastructure/IFormValidator\\\";\\nimport { IViewModel } from \\\"../../../../domain/viewModel/IViewModel\\\";\\nimport { IQuickEditor } from \\\"../../../../domain/objects/editors/IQuickEditor\\\";\\nimport { BinaryHelper } from \\\"@stechquick/algae/lib/helpers/binaryHelper\\\";\\nimport { ILogger } from \\\"../../../../domain/infrastructure/ILogger\\\";\\nimport { INewItemPropsInline } from \\\"../IComponentProps\\\";\\nimport { IViewModelManager } from \\\"../../../../domain/viewModel/IViewModelManager\\\";\\nimport { IOrganizationSettingsUseCase } from \\\"../../../../domain/useCase/IOrganizationSettingsUseCase\\\";\\n\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst tooltip = container.resolve<TooltipImpl>(TooltipImpl);\\nconst formValidator = container.resolve<IFormValidator>(IFormValidator);\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst viewModelManager = container.resolve<IViewModelManager>(IViewModelManager);\\nconst logger = container.resolve<ILogger>(ILogger);\\nconst organizationSettingsUseCase = container.resolve<IOrganizationSettingsUseCase>(IOrganizationSettingsUseCase);\\n\\nconst nameValidations: IFormValidatorOptions = { minAndMaxLength: { min: 2, max: 60 }, nonSpaceCharacter: true, customRegex:{ regex: /^([a-zA-Z0-9-_.]+)$/, message: \\\"Available characters: A-Z, a-z, 1-9, '-', '_' and '.'\\\"} };\\n\\nconst applications = ref(viewModel.user!.selectedOrganization!.applications);\\n\\ninterface IImportFile {\\n    name: string;\\n    content: string;\\n    isDuplicate: boolean;\\n    isAcceptable: boolean;\\n    nameValidationExceptions: Array<IFormValidatorResponseItem>;\\n    type: \\\"entity\\\" | \\\"qjson\\\" | \\\"process\\\" | \\\"bpmn\\\" | \\\"flow\\\" | \\\"png\\\" | \\\"jpg\\\" | \\\"jpeg\\\" | \\\"svg\\\" | \\\"gif\\\" | \\\"json\\\" | \\\"woff\\\" | \\\"woff2\\\" | \\\"ttf\\\" | \\\"otf\\\" | \\\"css\\\";\\n}\\n\\n\\n\\nconst param = defineProps<{ param: INewItemPropsInline }>();\\nconst props = param.param;\\n\\nconst fileItems = ref<Array<IImportFile>>([]);\\nconst owner_temp = viewModelManager.findObject(props.ownerId);\\nif (owner_temp?.objectType != \\\"application\\\" && owner_temp?.objectType != \\\"module\\\") { throw new Error(\\\"unexpected owner type\\\"); }\\nconst owner = owner_temp;\\n\\nconst loadingIcon = ref(false);\\nconst emit = defineEmits([\\\"close\\\"]);\\nconst entityNumber = ref(0);\\nlet acceptableFileTypes: Array<IImportFile[\\\"type\\\"]> =\\n    owner.objectType == \\\"application\\\" || props.path != \\\"/\\\"\\n        ? [\\\"qjson\\\" ]\\n        : owner.objectType == \\\"module\\\"\\n        ? Object.entries(applications.value)\\n              .filter((application) => application[1])\\n              .map((application) => (application[0] == \\\"quick\\\" ? \\\"qjson\\\" : (application[0] as IImportFile[\\\"type\\\"])))\\n        : [];\\nif(checkUploadPermissions(\\\"image\\\")) {\\n    acceptableFileTypes = acceptableFileTypes.concat([\\\"gif\\\", \\\"png\\\", \\\"jpeg\\\", \\\"jpg\\\", \\\"svg\\\"]);\\n}\\nif(checkUploadPermissions(\\\"font\\\")) {\\n    acceptableFileTypes = acceptableFileTypes.concat([\\\"woff\\\", \\\"woff2\\\", \\\"ttf\\\", \\\"otf\\\"]);\\n}\\nif(checkUploadPermissions(\\\"lottie\\\")) {\\n    acceptableFileTypes = acceptableFileTypes.concat([\\\"json\\\"]);\\n}\\n\\nconst binaryFileTypes: Array<string> = [\\\"gif\\\", \\\"png\\\", \\\"jpeg\\\", \\\"jpg\\\", \\\"svg\\\"]; // dictionary yap.\\n\\nif(viewModel.user!.selectedOrganization!.features?.multipleCss) {\\n    acceptableFileTypes = acceptableFileTypes.concat([\\\"css\\\"]);\\n}\\n\\nconst hasEntity = ref(owner.objectType == \\\"application\\\" ? false : owner.children.some((i) => i.objectType == \\\"model\\\" && i.modelType == \\\"entityDesigner\\\") == true);\\n\\nfunction checkDuplicate(name: string, path: string, type: IImportFile[\\\"type\\\"]) {\\n    let extensionType = (type == \\\"json\\\") ? \\\"lottie\\\" : type;\\n\\n    const purify = (str:string) => str.includes('.') ? str.split(\\\".\\\").slice(0, -1).join(\\\".\\\") : str;\\n    const isDuplicate = (items: Array<IModel | IModule>) => items.filter((e): e is IModel => e.objectType == 'model')\\n        .some((i) => i.path == path && i.name == purify(name) && i.modelType == extensionType);\\n\\n    return isDuplicate(owner.objectType == 'module' ? owner.children : viewModel.studio.items);\\n}\\n\\nfunction getInputAccept() {\\n    let fileTypes = acceptableFileTypes;\\n    if (owner.objectType == \\\"application\\\"){\\n        fileTypes = fileTypes.filter(fileType => (applications as any)[fileType] != true);\\n    }\\n    const types = acceptableFileTypes.map(fileType => `.${fileType}`).join(\\\", \\\");\\n    logger.log({ level: \\\"debug\\\", message: \\\"accept types: \\\" + types });\\n    return types;\\n}\\n\\nfunction checkExtension(file: string) {\\n    const extension = file.substring(file.lastIndexOf(\\\".\\\") + 1, file.length);\\n    return extension as IImportFile[\\\"type\\\"];\\n}\\n\\nasync function selectedFiles() {\\n    var item = document.getElementById(\\\"fileInput\\\") as HTMLInputElement | null;\\n    for (var i = 0; i < item?.files?.length!; i++) {\\n        const file = item?.files?.item(i);\\n        const extensionOfFile = checkExtension(file!.name);\\n        // const fileNameWithoutExtension = file!.name.substring(0, file!.name.lastIndexOf(\\\".\\\"));\\n        \\n        // const isExist = fileItems.value.some((i) => i.name == file?.name) || fileItems.value.some((i) => i.name.substring(0, file!.name.lastIndexOf(\\\".\\\")) == fileNameWithoutExtension) ;\\n        const isExist = fileItems.value.some((i) => i.name == file?.name);\\n       \\n        if (isExist) { continue; }\\n        \\n            // const isDuplicate = checkDuplicate(file!.name, props.path, extensionOfFile) || checkDuplicate(fileNameWithoutExtension, props.path, extensionOfFile);\\n            const isDuplicate = checkDuplicate(file!.name, props.path, extensionOfFile);\\n\\n            // const nameValidationExceptions: Array<IFormValidatorResponseItem> = formValidator\\n            //     .validate(fileNameWithoutExtension, nameValidations)\\n            //     .filter((item) => !item.isValid);\\n            const nameValidationExceptions: Array<IFormValidatorResponseItem> = formValidator\\n                .validate(file!.name.split(\\\".\\\")[0], nameValidations)\\n                .filter((item) => !item.isValid);\\n            const isAcceptable = acceptableFileTypes.includes(extensionOfFile);\\n\\n        const isBinaryFile = BinaryHelper.checkBinaryFile(extensionOfFile);\\n\\n        if(isBinaryFile){\\n            const binaryFileContent = await getBinaryFileContent(file!);\\n            fileItems.value.push({\\n                name: file!.name,\\n                content: binaryFileContent,\\n                nameValidationExceptions,\\n                isDuplicate,\\n                isAcceptable,\\n                type: extensionOfFile,\\n            });\\n        }\\n        else{\\n            const text = await file!.text();\\n            fileItems.value.push({\\n                name: file!.name,\\n                content: text,\\n                nameValidationExceptions,\\n                isDuplicate,\\n                isAcceptable,\\n                type: extensionOfFile,\\n            });\\n        }\\n\\n            if (extensionOfFile == \\\"entity\\\") {\\n                entityNumber.value = entityNumber.value + 1;\\n            }\\n        }\\n    tooltip.startTooltip();\\n}\\n\\nasync function getBinaryFileContent(file: File): Promise<string> {\\n    const fileReader = new FileReader();\\n\\n    return new Promise((resolve, reject) => {\\n        fileReader.onload = () => {\\n            resolve(fileReader.result as string);\\n        };\\n        fileReader.readAsDataURL(file);\\n    });\\n}\\n\\nasync function importSelectedModels() {\\n    emit(\\\"close\\\");\\n    if (isButtonDisabled.value) return;\\n    loadingIcon.value = true;\\n    \\n    let images: { path: string; name: string; }[] = [];\\n    fileItems.value.forEach(async (item) => {\\n        if (item.isDuplicate || !item.isAcceptable || item.nameValidationExceptions.length != 0) {\\n            return;\\n        }\\n        const createObject: ICreateModelParam = {\\n            name: item.name.split(\\\".\\\").slice(0, -1).join(\\\".\\\"),\\n            ownerId: owner.ID,\\n            modelBody: [{ key: item.type, model: item!.content }],\\n            modelType: \\\"qjson\\\",\\n            modelAdditionals: { qjsonType: \\\"qjson\\\" },\\n            path: props.path,\\n        };\\n\\n        switch (item.type) {\\n            case \\\"qjson\\\":\\n                createObject.modelType = \\\"qjson\\\";\\n                createObject.modelAdditionals = { qjsonType: \\\"qjson\\\" };\\n                break;\\n            case \\\"entity\\\":\\n                if (isEntityRuleBlock(item)) {\\n                    return;\\n                }\\n                createObject.modelType = \\\"entityDesigner\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"bpmn\\\":\\n                createObject.modelType = \\\"bpmn\\\";\\n                createObject.modelAdditionals = { isAutoGenerated: false, isModifiedByUser: true };\\n                break;\\n\\n            case \\\"process\\\":\\n                createObject.modelType = \\\"process\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"png\\\":\\n                createObject.name += \\\".png\\\"\\n                createObject.modelType = \\\"png\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"jpg\\\":\\n                createObject.name += \\\".jpg\\\" \\n                createObject.modelType = \\\"jpg\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"jpeg\\\":\\n                createObject.name += \\\".jpeg\\\"\\n                createObject.modelType = \\\"jpeg\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"svg\\\":\\n                createObject.name += \\\".svg\\\"\\n                createObject.modelType = \\\"svg\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"gif\\\":\\n                createObject.name += \\\".gif\\\"\\n                createObject.modelType = \\\"gif\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"json\\\":\\n                createObject.modelType = \\\"lottie\\\";\\n                createObject.extension = \\\"json\\\";\\n                break;\\n            case \\\"css\\\":\\n                createObject.name += \\\".css\\\"\\n                createObject.modelType = \\\"css\\\";\\n                createObject.key = \\\"style\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"woff\\\":\\n                createObject.name += \\\".woff\\\";\\n                createObject.modelType = \\\"woff\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"woff2\\\":\\n                createObject.name += \\\".woff2\\\";\\n                createObject.modelType = \\\"woff2\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"ttf\\\":\\n                createObject.name += \\\".ttf\\\";\\n                createObject.modelType = \\\"ttf\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n            case \\\"otf\\\":\\n                createObject.name += \\\".otf\\\";\\n                createObject.modelType = \\\"otf\\\";\\n                createObject.modelAdditionals = {};\\n                break;\\n        }\\n\\n        try {\\n            let model = await executor.executeUseCase<ICreateModel>(ICreateModel, createObject);\\n            images.push({path: formatPath(model.ID), name: model.name});\\n\\n            if(model?.modelType === \\\"css\\\" && item!.content) {\\n                const targetEditor = container.resolve<IQuickEditor>(IQuickEditor);\\n                targetEditor.replaceStyle!(\\\"addStyle\\\", model.ID, item!.content);\\n            }\\n        }\\n        catch{\\n            console.log(\\\"error\\\")\\n        }\\n    \\n        loadingIcon.value = false;\\n    });\\n       \\n\\n      \\n}\\nfunction formatPath(id:string){\\n    return `<<img:${id}>>`;\\n}\\nfunction computedIcon(fileType: string, isAcceptable?: boolean) {\\n    switch (fileType) {\\n        case \\\"qjson\\\":\\n            if (!isAcceptable)\\n            return `mdi mdi-palette fileTypeQjson`;\\n        case \\\"entity\\\":\\n            if (!isAcceptable)\\n            return `mdi mdi-database fileTypeEntity`;\\n        case \\\"bpmn\\\":\\n            if (!isAcceptable)\\n            return `mdi mdi-vector-polyline fileTypeBpmn`;\\n        case \\\"process\\\":\\n            if (!isAcceptable)\\n            return `mdi mdi-auto-fix fileTypeProcess`;\\n        case \\\"png\\\":\\n        case \\\"jpg\\\":\\n        case \\\"jpeg\\\":\\n        case \\\"svg\\\":\\n        case \\\"gif\\\":\\n        case \\\"json\\\":\\n            if (!isAcceptable)                       \\n            return `mdi mdi-image-outline fileTypeImage`;\\n        case \\\"woff\\\":\\n        case \\\"woff2\\\":\\n        case \\\"ttf\\\":\\n        case \\\"otf\\\":\\n            if (!isAcceptable)                       \\n            return `mdi mdi-format-font fileTypeImage`;\\n        case \\\"css\\\":\\n            return \\\"mdi mdi-music-accidental-sharp ml-6\\\";\\n        // case \\\"woff\\\":\\n        //     return \\\"mdi mdi-format-font fileTypeImage\\\";\\n        default:\\n    }\\n}\\nfunction computeIconColor(fileType: string) {\\n    let color = \\\"#212121\\\"\\n    switch (fileType) {\\n        case \\\"qjson\\\":\\n            color = \\\"#449dd1\\\"\\n            return color;\\n        case \\\"entity\\\":\\n                color = \\\"rgb(233, 114, 76)\\\"\\n            return  color;\\n        case \\\"bpmn\\\":\\n                color = \\\"rgb(0, 124, 119)\\\"\\n            return  color;\\n        case \\\"process\\\":\\n                color = \\\"rgb(0, 124, 119)\\\"\\n            return  color;\\n        case \\\"png\\\":\\n        case \\\"jpg\\\":\\n        case \\\"jpeg\\\":\\n        case \\\"svg\\\":\\n        case \\\"gif\\\":\\n        case \\\"json\\\":\\n        case \\\"css\\\":\\n            return  color;\\n        default:\\n    }\\n\\n}\\nfunction removeItem(file: IImportFile, selectedFiles: Array<any>) {\\n    if (file.type == \\\"entity\\\") {\\n        entityNumber.value = entityNumber.value - 1;\\n    }\\n    const index = selectedFiles.indexOf(file);\\n    selectedFiles.splice(index, 1);\\n    tooltip.startTooltip();\\n}\\n\\nfunction isEntityRuleBlock(item: IImportFile) {\\n    if (item.type != \\\"entity\\\") {\\n        return false;\\n    }\\n\\n    const isEntityRuleBlock = hasEntity.value || entityNumber.value > 1;\\n    return isEntityRuleBlock;\\n}\\n\\nfunction anyNotDuplicateItem() {\\n    const retVal = fileItems.value.some((i) => i.type != \\\"entity\\\" && !i.isDuplicate && i.isAcceptable);\\n    return retVal;\\n}\\n\\nfunction anyAcceptableItem() {\\n    const retVal = fileItems.value.some((i) => i.isAcceptable && i.nameValidationExceptions.length == 0);\\n    return retVal;\\n}\\n\\nconst isButtonDisabled = computed(() => {\\n    if (fileItems.value.length == 0) {\\n        return true;\\n    }\\n\\n    if (!anyAcceptableItem()) {\\n        return true;\\n    }\\n\\n    if (loadingIcon.value) {\\n        return true;\\n    }\\n\\n    if (fileItems.value.length > entityNumber.value && anyNotDuplicateItem()) {\\n        return false;\\n    }\\n\\n    if (fileItems.value.some((i) => i.type != \\\"entity\\\")) {\\n        return true;\\n    }\\n\\n    const isEntityRuleBlock = entityNumber.value > 1 || (hasEntity.value && entityNumber.value > 0);\\n    return isEntityRuleBlock;\\n});\\nfunction checkUploadPermissions(type: \\\"image\\\" | \\\"font\\\" | \\\"lottie\\\") {\\n    let response: boolean = false;\\n    const org = viewModel.user?.selectedOrganization;\\n    const orgGroup = viewModel.user?.selectedOrganizationGroup?.organizationGroup;\\n    switch(type) {\\n        case \\\"image\\\": response = organizationSettingsUseCase.isUploadImageAllowed(org!, orgGroup!); break;\\n        case \\\"font\\\": response = organizationSettingsUseCase.isUploadFontAllowed(org!, orgGroup!); break;\\n        case \\\"lottie\\\": response = organizationSettingsUseCase.isUploadLottieAllowed(org!, orgGroup!); break;\\n    }\\n    // if(org?.applications[type] == true || org?.applications[type] == false) {\\n    //     uploadPermissions[type] = org.applications[type]!\\n    // }\\n    // else {\\n    //     if(orgGroup && orgGroup.applications?.[type]) {\\n    //         uploadPermissions[type] = orgGroup.applications?.[type]!;\\n    //     }\\n    //     else {\\n    //         return false;\\n    //     }\\n    // }\\n    return response;\\n}\\n</script>\\n\\n<template>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"fileInputDiv\\\">\\n            <div class=\\\"fileUploadDiv col-12\\\" onclick=\\\"document.getElementById('fileInput').click()\\\">\\n                <div class=\\\"col-12 uploadArea\\\" style=\\\"display: flex; padding-left: 150px; padding-top: 35px\\\">\\n                    <div\\n                        class=\\\"mdi mdi-cloud-upload-outline\\\"\\n                        style=\\\"text-align: center; font-size: 25px; color: #a1a1a1; padding-right: 10px; margin-top: -7px\\\"\\n                    ></div>\\n                    <span style=\\\"font-weight: bold\\\">Click</span><span style=\\\"padding-left: 10px\\\">here to upload your files.</span>\\n                </div>\\n            </div>\\n            <input\\n                style=\\\"display: none\\\"\\n                type=\\\"file\\\"\\n                id=\\\"fileInput\\\"\\n                multiple\\n                @change=\\\"selectedFiles()\\\"\\n                :accept=\\\"getInputAccept()\\\"\\n            />\\n        </div>\\n        <div class=\\\"uploadFilesText\\\">\\n                    Selected Files <span> ({{ fileItems.length }})</span>\\n                </div>\\n        <div id=\\\"selectedFiles\\\" class=\\\"selectedItems\\\">\\n            <div v-if=\\\"fileItems.length > 0\\\">\\n\\n                <div v-for=\\\"fileValues in fileItems\\\" :key=\\\"fileValues.name\\\">\\n                    <div\\n                        v-if=\\\"\\n                            !fileValues.isDuplicate &&\\n                            !isEntityRuleBlock(fileValues) &&\\n                            fileValues.isAcceptable &&\\n                            fileValues.nameValidationExceptions.length == 0\\n                        \\\"\\n                        class=\\\"filesValue\\\"\\n                        style=\\\"color: #000000\\\"\\n                    >\\n                        <div><i :class=\\\"computedIcon(fileValues.type)\\\" :style=\\\"{color: computeIconColor(fileValues.type)}\\\"></i></div>\\n                        <div class=\\\"col-10\\\" style=\\\"margin-left: 10px; text-overflow: ellipsis; overflow: hidden\\\">\\n                            {{ fileValues.type == \\\"qjson\\\" ? fileValues.name.split(\\\".\\\").slice(0, -1).join(\\\".\\\") : fileValues.name }}\\n                        </div>\\n\\n                        <div class=\\\"col-1\\\" style=\\\"text-align: end; padding-left: 30px\\\">\\n                            <i\\n                                v-if=\\\"fileValues && !loadingIcon\\\"\\n                                class=\\\"mdi mdi-close removeIcon color: #212121 \\\"\\n                                :style=\\\"computedIcon(fileValues.type) ? '' : 'margin-left: 23px;'\\\"\\n                                @click=\\\"removeItem(fileValues, fileItems)\\\"\\n                            ></i>\\n\\n                            <div v-if=\\\"loadingIcon\\\" style=\\\"padding-top: 7px\\\" class=\\\"loader\\\"></div>\\n                        </div>\\n                    </div>\\n\\n                    <div\\n                        v-if=\\\"\\n                            fileValues.isDuplicate ||\\n                            isEntityRuleBlock(fileValues) ||\\n                            !fileValues.isAcceptable ||\\n                            fileValues.nameValidationExceptions.length != 0\\n                        \\\"\\n                        class=\\\"filesValue\\\"\\n                        style=\\\"color: red ; border: 1px solid red\\\"\\n                    >\\n                        <div><i :class=\\\"computedIcon(fileValues.type, (fileValues.isDuplicate || isEntityRuleBlock(fileValues) || !fileValues.isAcceptable ||fileValues.nameValidationExceptions.length != 0))\\\"></i></div>\\n                        <div\\n                            class=\\\"col-10\\\"\\n                            data-toggle=\\\"tooltip\\\"\\n                            :title=\\\"\\n                                isEntityRuleBlock(fileValues)\\n                                    ? 'Only one entity file is allowed'\\n                                    : !fileValues.isAcceptable\\n                                    ? `File type is not supported.`\\n                                    : fileValues.nameValidationExceptions.length != 0  \\n                                    ? fileValues.nameValidationExceptions.at(0)?.message \\n                                    : 'This file is already imported'\\n                            \\\"\\n                            placement=\\\"bottom\\\"\\n                            style=\\\"margin-left: 10px; text-overflow: ellipsis; overflow: hidden\\\"\\n                        >\\n                            {{ fileValues.type == \\\"qjson\\\" ? fileValues.name.split(\\\".\\\").slice(0, -1).join(\\\".\\\") : fileValues.name }}\\n                        </div>\\n\\n                        <div class=\\\"col-1\\\" style=\\\"text-align: end; padding-left: 30px\\\">\\n                            <i\\n                                v-if=\\\"fileValues && !loadingIcon\\\"\\n                                :class=\\\"'mdi mdi-close removeIcon' + (computedIcon(fileValues.type) ? '' : ' removeIconReposition')\\\"\\n                                @click=\\\"removeItem(fileValues, fileItems)\\\"\\n                            ></i>\\n\\n                            <div\\n                                v-if=\\\"!fileValues.isDuplicate && !isEntityRuleBlock(fileValues) && loadingIcon\\\"\\n                                style=\\\"padding-top: 7px\\\"\\n                                class=\\\"loader\\\"\\n                            ></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"importBtnDiv\\\">\\n            <button class=\\\"cancelBtn\\\" @click=\\\"emit('close')\\\">Cancel</button>\\n            <button\\n                class=\\\"importBtn\\\"\\n                :disabled=\\\"isButtonDisabled\\\"\\n                :style=\\\"{ backgroundColor: isButtonDisabled ? '#37373733' : '#151233' }\\\"\\n                @click=\\\"importSelectedModels()\\\"\\n            >\\n                UPLOAD\\n            </button>\\n        </div>\\n    </div>\\n\\n</template>\\n\\n<style scoped>\\n@import url(\\\"../../../../styles/IDE3.css\\\");\\n\\n* { \\n    font-family: 'Roboto';\\n}\\n\\n.container {\\n    padding: 20px;\\n}\\n\\n.selectedItems {\\n    margin-top: 10px;\\n    max-height: 230px;\\n    overflow: auto;\\n}\\n\\n.importBtn {\\n    border-radius: 4px;\\n    border: none;\\n    color: white;\\n    width: 97px;\\n    height: 40px;\\n    font-style: normal;\\n    font-size: 16px;\\n    font-weight: 500;\\n    letter-spacing: 0px;\\n}\\n\\n.importBtnDiv {\\n    text-align: end;\\n    margin-top: 30px;\\n    \\n}\\n\\n.removeIcon {\\n    cursor: pointer;\\n    padding-right: 10px;\\n    font-style: normal;\\n    font-size: 18px;\\n    letter-spacing: 0px;\\n}\\n\\n.removeIconReposition {\\n    cursor: pointer;\\n    padding-right: 10px;\\n    font-style: normal;\\n    font-size: 18px;\\n    margin-left: 23px;\\n}\\n\\n.loading {\\n    cursor: pointer;\\n    color: #212121;\\n    padding-right: 10px;\\n    font-style: normal;\\n    font-size: 18px;\\n    letter-spacing: 0px;\\n}\\n\\n::-webkit-file-upload-button {\\n    background: #2f3160;\\n    color: white;\\n    border-radius: 4px;\\n    width: 120px;\\n    height: 48px;\\n}\\n\\n.fileUploadDiv {\\n    cursor: pointer;\\n}\\n\\n.filesValue {\\n    margin-top: 10px;\\n    background-color: #f5f5f5;\\n    display: flex;\\n    align-items: center;\\n    border-radius: 4px;\\n    font-size: 16px;\\n    letter-spacing: 0px;\\n    width: 100%;\\n    text-align: start;\\n    padding: 4px;\\n}\\n\\n.uploadFilesText {\\n    color: #616161;\\n    font-style: normal;\\n    font-size: 18px;\\n    letter-spacing: 0px;\\n    margin-top: 10px;\\n}\\n\\n.fileTypeQjson {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n\\n.fileTypeImage {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n\\n.fileTypeEntity {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n\\n.fileTypeBpmn {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n\\n.fileTypeProcess {\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n\\n.unacceptableFileType {\\n    color: red;\\n    font-size: 18px;\\n    padding-left: 5px;\\n}\\n\\n.uploadArea {\\n    text-align: center;\\n    padding-top: 25px;\\n    border: 1px dashed #a1a1a1;\\n    height: 100px;\\n}\\n\\n.cancelBtn {\\n    background: none;\\n    border: none;\\n    font-style: normal;\\n    font-weight: 500;\\n    font-size: 16px;\\n    letter-spacing: 0px;\\n    margin-left: 50px;\\n    margin-right: 10px;\\n    color: #757575;\\n    letter-spacing: 0.02px;\\n}\\n\\n.loader {\\n    border: 3px solid #f3f3f3;\\n    border-radius: 70%;\\n    border-top: 3px solid #3498db;\\n    width: 12px;\\n    height: 12px;\\n    -webkit-animation: spin 1s linear infinite;\\n    animation: spin 1s linear infinite;\\n}\\n\\n.ml-6 {\\n    margin-left: 6px;\\n}\\n\\n/* Safari */\\n@-webkit-keyframes spin {\\n    0% {\\n        -webkit-transform: rotate(0deg);\\n    }\\n\\n    100% {\\n        -webkit-transform: rotate(360deg);\\n    }\\n}\\n\\n@keyframes spin {\\n    0% {\\n        transform: rotate(0deg);\\n    }\\n\\n    100% {\\n        transform: rotate(360deg);\\n    }\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export class BinaryHelper {\n\n    public static checkBinaryFile(extensionOfFile: string) {\n        const binaryFileTypesDict: Record<string,boolean> = {\"entity\": false, \"qjson\":false, \"process\":false,\"bpmn\":false, \"flow\":false, \"gif\": true, \"png\": true, \"jpeg\": true, \"jpg\": true, \"svg\": true, \"woff\": true, \"woff2\": true, \"ttf\": true, \"otf\": true};\n        return binaryFileTypesDict[extensionOfFile];\n      }\n\n    public static getBase64FileContent(fileContent: string){\n        const indexOfComma = fileContent.indexOf(',');\n        return fileContent.substring(indexOfComma+1);\n    }\n\n    public static getBinResource(base64FileContent: string){\n        return Buffer.from(base64FileContent, 'base64');\n    }\n\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-66ff9202\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = { class: \"fileInputDiv\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"fileUploadDiv col-12\",\n  onclick: \"document.getElementById('fileInput').click()\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"col-12 uploadArea\",\n    style: {\"display\":\"flex\",\"padding-left\":\"150px\",\"padding-top\":\"35px\"}\n  }, [\n    /*#__PURE__*/_createElementVNode(\"div\", {\n      class: \"mdi mdi-cloud-upload-outline\",\n      style: {\"text-align\":\"center\",\"font-size\":\"25px\",\"color\":\"#a1a1a1\",\"padding-right\":\"10px\",\"margin-top\":\"-7px\"}\n    }),\n    /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-weight\":\"bold\"} }, \"Click\"),\n    /*#__PURE__*/_createElementVNode(\"span\", { style: {\"padding-left\":\"10px\"} }, \"here to upload your files.\")\n  ])\n], -1 /* HOISTED */))\nconst _hoisted_4 = [\"accept\"]\nconst _hoisted_5 = { class: \"uploadFilesText\" }\nconst _hoisted_6 = {\n  id: \"selectedFiles\",\n  class: \"selectedItems\"\n}\nconst _hoisted_7 = { key: 0 }\nconst _hoisted_8 = {\n  key: 0,\n  class: \"filesValue\",\n  style: {\"color\":\"#000000\"}\n}\nconst _hoisted_9 = {\n  class: \"col-10\",\n  style: {\"margin-left\":\"10px\",\"text-overflow\":\"ellipsis\",\"overflow\":\"hidden\"}\n}\nconst _hoisted_10 = {\n  class: \"col-1\",\n  style: {\"text-align\":\"end\",\"padding-left\":\"30px\"}\n}\nconst _hoisted_11 = [\"onClick\"]\nconst _hoisted_12 = {\n  key: 1,\n  style: {\"padding-top\":\"7px\"},\n  class: \"loader\"\n}\nconst _hoisted_13 = {\n  key: 1,\n  class: \"filesValue\",\n  style: {\"color\":\"red\",\"border\":\"1px solid red\"}\n}\nconst _hoisted_14 = [\"title\"]\nconst _hoisted_15 = {\n  class: \"col-1\",\n  style: {\"text-align\":\"end\",\"padding-left\":\"30px\"}\n}\nconst _hoisted_16 = [\"onClick\"]\nconst _hoisted_17 = {\n  key: 1,\n  style: {\"padding-top\":\"7px\"},\n  class: \"loader\"\n}\nconst _hoisted_18 = { class: \"importBtnDiv\" }\nconst _hoisted_19 = [\"disabled\"]\n\nimport { IUseCaseExecutor } from \"../../../../domain/useCase/IUseCaseExecutor\";\nimport { container } from \"../../../../domain/core/diContainer\";\nimport { ICreateModel, ICreateModelParam } from \"../../../../domain/useCase/ICreateModel\";\nimport { IApplication, IModel, IModule } from \"../../../../domain/model/models\";\nimport { ref } from \"@vue/runtime-dom\";\nimport { computed } from \"@vue/reactivity\";\nimport { TooltipImpl } from \"../../impls/tooltipImpl\";\nimport { IFormValidator, IFormValidatorOptions, IFormValidatorResponseItem } from \"../../../../domain/infrastructure/IFormValidator\";\nimport { IViewModel } from \"../../../../domain/viewModel/IViewModel\";\nimport { IQuickEditor } from \"../../../../domain/objects/editors/IQuickEditor\";\nimport { BinaryHelper } from \"@stechquick/algae/lib/helpers/binaryHelper\";\nimport { ILogger } from \"../../../../domain/infrastructure/ILogger\";\nimport { INewItemPropsInline } from \"../IComponentProps\";\nimport { IViewModelManager } from \"../../../../domain/viewModel/IViewModelManager\";\nimport { IOrganizationSettingsUseCase } from \"../../../../domain/useCase/IOrganizationSettingsUseCase\";\n\ninterface IImportFile {\n    name: string;\n    content: string;\n    isDuplicate: boolean;\n    isAcceptable: boolean;\n    nameValidationExceptions: Array<IFormValidatorResponseItem>;\n    type: \"entity\" | \"qjson\" | \"process\" | \"bpmn\" | \"flow\" | \"png\" | \"jpg\" | \"jpeg\" | \"svg\" | \"gif\" | \"json\" | \"woff\" | \"woff2\" | \"ttf\" | \"otf\" | \"css\";\n}\n\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'importModelDialog',\n  props: {\n    param: null\n  },\n  emits: [\"close\"],\n  setup(__props: any, { emit }) {\n\nconst param = __props as { param: INewItemPropsInline };\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst tooltip = container.resolve<TooltipImpl>(TooltipImpl);\nconst formValidator = container.resolve<IFormValidator>(IFormValidator);\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst viewModelManager = container.resolve<IViewModelManager>(IViewModelManager);\nconst logger = container.resolve<ILogger>(ILogger);\nconst organizationSettingsUseCase = container.resolve<IOrganizationSettingsUseCase>(IOrganizationSettingsUseCase);\n\nconst nameValidations: IFormValidatorOptions = { minAndMaxLength: { min: 2, max: 60 }, nonSpaceCharacter: true, customRegex:{ regex: /^([a-zA-Z0-9-_.]+)$/, message: \"Available characters: A-Z, a-z, 1-9, '-', '_' and '.'\"} };\n\nconst applications = ref(viewModel.user!.selectedOrganization!.applications);\n\n\nconst props = param.param;\n\nconst fileItems = ref<Array<IImportFile>>([]);\nconst owner_temp = viewModelManager.findObject(props.ownerId);\nif (owner_temp?.objectType != \"application\" && owner_temp?.objectType != \"module\") { throw new Error(\"unexpected owner type\"); }\nconst owner = owner_temp;\n\nconst loadingIcon = ref(false);\n\nconst entityNumber = ref(0);\nlet acceptableFileTypes: Array<IImportFile[\"type\"]> =\n    owner.objectType == \"application\" || props.path != \"/\"\n        ? [\"qjson\" ]\n        : owner.objectType == \"module\"\n        ? Object.entries(applications.value)\n              .filter((application) => application[1])\n              .map((application) => (application[0] == \"quick\" ? \"qjson\" : (application[0] as IImportFile[\"type\"])))\n        : [];\nif(checkUploadPermissions(\"image\")) {\n    acceptableFileTypes = acceptableFileTypes.concat([\"gif\", \"png\", \"jpeg\", \"jpg\", \"svg\"]);\n}\nif(checkUploadPermissions(\"font\")) {\n    acceptableFileTypes = acceptableFileTypes.concat([\"woff\", \"woff2\", \"ttf\", \"otf\"]);\n}\nif(checkUploadPermissions(\"lottie\")) {\n    acceptableFileTypes = acceptableFileTypes.concat([\"json\"]);\n}\n\nconst binaryFileTypes: Array<string> = [\"gif\", \"png\", \"jpeg\", \"jpg\", \"svg\"]; // dictionary yap.\n\nif(viewModel.user!.selectedOrganization!.features?.multipleCss) {\n    acceptableFileTypes = acceptableFileTypes.concat([\"css\"]);\n}\n\nconst hasEntity = ref(owner.objectType == \"application\" ? false : owner.children.some((i) => i.objectType == \"model\" && i.modelType == \"entityDesigner\") == true);\n\nfunction checkDuplicate(name: string, path: string, type: IImportFile[\"type\"]) {\n    let extensionType = (type == \"json\") ? \"lottie\" : type;\n\n    const purify = (str:string) => str.includes('.') ? str.split(\".\").slice(0, -1).join(\".\") : str;\n    const isDuplicate = (items: Array<IModel | IModule>) => items.filter((e): e is IModel => e.objectType == 'model')\n        .some((i) => i.path == path && i.name == purify(name) && i.modelType == extensionType);\n\n    return isDuplicate(owner.objectType == 'module' ? owner.children : viewModel.studio.items);\n}\n\nfunction getInputAccept() {\n    let fileTypes = acceptableFileTypes;\n    if (owner.objectType == \"application\"){\n        fileTypes = fileTypes.filter(fileType => (applications as any)[fileType] != true);\n    }\n    const types = acceptableFileTypes.map(fileType => `.${fileType}`).join(\", \");\n    logger.log({ level: \"debug\", message: \"accept types: \" + types });\n    return types;\n}\n\nfunction checkExtension(file: string) {\n    const extension = file.substring(file.lastIndexOf(\".\") + 1, file.length);\n    return extension as IImportFile[\"type\"];\n}\n\nasync function selectedFiles() {\n    var item = document.getElementById(\"fileInput\") as HTMLInputElement | null;\n    for (var i = 0; i < item?.files?.length!; i++) {\n        const file = item?.files?.item(i);\n        const extensionOfFile = checkExtension(file!.name);\n        // const fileNameWithoutExtension = file!.name.substring(0, file!.name.lastIndexOf(\".\"));\n        \n        // const isExist = fileItems.value.some((i) => i.name == file?.name) || fileItems.value.some((i) => i.name.substring(0, file!.name.lastIndexOf(\".\")) == fileNameWithoutExtension) ;\n        const isExist = fileItems.value.some((i) => i.name == file?.name);\n       \n        if (isExist) { continue; }\n        \n            // const isDuplicate = checkDuplicate(file!.name, props.path, extensionOfFile) || checkDuplicate(fileNameWithoutExtension, props.path, extensionOfFile);\n            const isDuplicate = checkDuplicate(file!.name, props.path, extensionOfFile);\n\n            // const nameValidationExceptions: Array<IFormValidatorResponseItem> = formValidator\n            //     .validate(fileNameWithoutExtension, nameValidations)\n            //     .filter((item) => !item.isValid);\n            const nameValidationExceptions: Array<IFormValidatorResponseItem> = formValidator\n                .validate(file!.name.split(\".\")[0], nameValidations)\n                .filter((item) => !item.isValid);\n            const isAcceptable = acceptableFileTypes.includes(extensionOfFile);\n\n        const isBinaryFile = BinaryHelper.checkBinaryFile(extensionOfFile);\n\n        if(isBinaryFile){\n            const binaryFileContent = await getBinaryFileContent(file!);\n            fileItems.value.push({\n                name: file!.name,\n                content: binaryFileContent,\n                nameValidationExceptions,\n                isDuplicate,\n                isAcceptable,\n                type: extensionOfFile,\n            });\n        }\n        else{\n            const text = await file!.text();\n            fileItems.value.push({\n                name: file!.name,\n                content: text,\n                nameValidationExceptions,\n                isDuplicate,\n                isAcceptable,\n                type: extensionOfFile,\n            });\n        }\n\n            if (extensionOfFile == \"entity\") {\n                entityNumber.value = entityNumber.value + 1;\n            }\n        }\n    tooltip.startTooltip();\n}\n\nasync function getBinaryFileContent(file: File): Promise<string> {\n    const fileReader = new FileReader();\n\n    return new Promise((resolve, reject) => {\n        fileReader.onload = () => {\n            resolve(fileReader.result as string);\n        };\n        fileReader.readAsDataURL(file);\n    });\n}\n\nasync function importSelectedModels() {\n    emit(\"close\");\n    if (isButtonDisabled.value) return;\n    loadingIcon.value = true;\n    \n    let images: { path: string; name: string; }[] = [];\n    fileItems.value.forEach(async (item) => {\n        if (item.isDuplicate || !item.isAcceptable || item.nameValidationExceptions.length != 0) {\n            return;\n        }\n        const createObject: ICreateModelParam = {\n            name: item.name.split(\".\").slice(0, -1).join(\".\"),\n            ownerId: owner.ID,\n            modelBody: [{ key: item.type, model: item!.content }],\n            modelType: \"qjson\",\n            modelAdditionals: { qjsonType: \"qjson\" },\n            path: props.path,\n        };\n\n        switch (item.type) {\n            case \"qjson\":\n                createObject.modelType = \"qjson\";\n                createObject.modelAdditionals = { qjsonType: \"qjson\" };\n                break;\n            case \"entity\":\n                if (isEntityRuleBlock(item)) {\n                    return;\n                }\n                createObject.modelType = \"entityDesigner\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"bpmn\":\n                createObject.modelType = \"bpmn\";\n                createObject.modelAdditionals = { isAutoGenerated: false, isModifiedByUser: true };\n                break;\n\n            case \"process\":\n                createObject.modelType = \"process\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"png\":\n                createObject.name += \".png\"\n                createObject.modelType = \"png\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"jpg\":\n                createObject.name += \".jpg\" \n                createObject.modelType = \"jpg\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"jpeg\":\n                createObject.name += \".jpeg\"\n                createObject.modelType = \"jpeg\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"svg\":\n                createObject.name += \".svg\"\n                createObject.modelType = \"svg\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"gif\":\n                createObject.name += \".gif\"\n                createObject.modelType = \"gif\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"json\":\n                createObject.modelType = \"lottie\";\n                createObject.extension = \"json\";\n                break;\n            case \"css\":\n                createObject.name += \".css\"\n                createObject.modelType = \"css\";\n                createObject.key = \"style\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"woff\":\n                createObject.name += \".woff\";\n                createObject.modelType = \"woff\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"woff2\":\n                createObject.name += \".woff2\";\n                createObject.modelType = \"woff2\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"ttf\":\n                createObject.name += \".ttf\";\n                createObject.modelType = \"ttf\";\n                createObject.modelAdditionals = {};\n                break;\n            case \"otf\":\n                createObject.name += \".otf\";\n                createObject.modelType = \"otf\";\n                createObject.modelAdditionals = {};\n                break;\n        }\n\n        try {\n            let model = await executor.executeUseCase<ICreateModel>(ICreateModel, createObject);\n            images.push({path: formatPath(model.ID), name: model.name});\n\n            if(model?.modelType === \"css\" && item!.content) {\n                const targetEditor = container.resolve<IQuickEditor>(IQuickEditor);\n                targetEditor.replaceStyle!(\"addStyle\", model.ID, item!.content);\n            }\n        }\n        catch{\n            console.log(\"error\")\n        }\n    \n        loadingIcon.value = false;\n    });\n       \n\n      \n}\nfunction formatPath(id:string){\n    return `<<img:${id}>>`;\n}\nfunction computedIcon(fileType: string, isAcceptable?: boolean) {\n    switch (fileType) {\n        case \"qjson\":\n            if (!isAcceptable)\n            return `mdi mdi-palette fileTypeQjson`;\n        case \"entity\":\n            if (!isAcceptable)\n            return `mdi mdi-database fileTypeEntity`;\n        case \"bpmn\":\n            if (!isAcceptable)\n            return `mdi mdi-vector-polyline fileTypeBpmn`;\n        case \"process\":\n            if (!isAcceptable)\n            return `mdi mdi-auto-fix fileTypeProcess`;\n        case \"png\":\n        case \"jpg\":\n        case \"jpeg\":\n        case \"svg\":\n        case \"gif\":\n        case \"json\":\n            if (!isAcceptable)                       \n            return `mdi mdi-image-outline fileTypeImage`;\n        case \"woff\":\n        case \"woff2\":\n        case \"ttf\":\n        case \"otf\":\n            if (!isAcceptable)                       \n            return `mdi mdi-format-font fileTypeImage`;\n        case \"css\":\n            return \"mdi mdi-music-accidental-sharp ml-6\";\n        // case \"woff\":\n        //     return \"mdi mdi-format-font fileTypeImage\";\n        default:\n    }\n}\nfunction computeIconColor(fileType: string) {\n    let color = \"#212121\"\n    switch (fileType) {\n        case \"qjson\":\n            color = \"#449dd1\"\n            return color;\n        case \"entity\":\n                color = \"rgb(233, 114, 76)\"\n            return  color;\n        case \"bpmn\":\n                color = \"rgb(0, 124, 119)\"\n            return  color;\n        case \"process\":\n                color = \"rgb(0, 124, 119)\"\n            return  color;\n        case \"png\":\n        case \"jpg\":\n        case \"jpeg\":\n        case \"svg\":\n        case \"gif\":\n        case \"json\":\n        case \"css\":\n            return  color;\n        default:\n    }\n\n}\nfunction removeItem(file: IImportFile, selectedFiles: Array<any>) {\n    if (file.type == \"entity\") {\n        entityNumber.value = entityNumber.value - 1;\n    }\n    const index = selectedFiles.indexOf(file);\n    selectedFiles.splice(index, 1);\n    tooltip.startTooltip();\n}\n\nfunction isEntityRuleBlock(item: IImportFile) {\n    if (item.type != \"entity\") {\n        return false;\n    }\n\n    const isEntityRuleBlock = hasEntity.value || entityNumber.value > 1;\n    return isEntityRuleBlock;\n}\n\nfunction anyNotDuplicateItem() {\n    const retVal = fileItems.value.some((i) => i.type != \"entity\" && !i.isDuplicate && i.isAcceptable);\n    return retVal;\n}\n\nfunction anyAcceptableItem() {\n    const retVal = fileItems.value.some((i) => i.isAcceptable && i.nameValidationExceptions.length == 0);\n    return retVal;\n}\n\nconst isButtonDisabled = computed(() => {\n    if (fileItems.value.length == 0) {\n        return true;\n    }\n\n    if (!anyAcceptableItem()) {\n        return true;\n    }\n\n    if (loadingIcon.value) {\n        return true;\n    }\n\n    if (fileItems.value.length > entityNumber.value && anyNotDuplicateItem()) {\n        return false;\n    }\n\n    if (fileItems.value.some((i) => i.type != \"entity\")) {\n        return true;\n    }\n\n    const isEntityRuleBlock = entityNumber.value > 1 || (hasEntity.value && entityNumber.value > 0);\n    return isEntityRuleBlock;\n});\nfunction checkUploadPermissions(type: \"image\" | \"font\" | \"lottie\") {\n    let response: boolean = false;\n    const org = viewModel.user?.selectedOrganization;\n    const orgGroup = viewModel.user?.selectedOrganizationGroup?.organizationGroup;\n    switch(type) {\n        case \"image\": response = organizationSettingsUseCase.isUploadImageAllowed(org!, orgGroup!); break;\n        case \"font\": response = organizationSettingsUseCase.isUploadFontAllowed(org!, orgGroup!); break;\n        case \"lottie\": response = organizationSettingsUseCase.isUploadLottieAllowed(org!, orgGroup!); break;\n    }\n    // if(org?.applications[type] == true || org?.applications[type] == false) {\n    //     uploadPermissions[type] = org.applications[type]!\n    // }\n    // else {\n    //     if(orgGroup && orgGroup.applications?.[type]) {\n    //         uploadPermissions[type] = orgGroup.applications?.[type]!;\n    //     }\n    //     else {\n    //         return false;\n    //     }\n    // }\n    return response;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"input\", {\n        style: {\"display\":\"none\"},\n        type: \"file\",\n        id: \"fileInput\",\n        multiple: \"\",\n        onChange: _cache[0] || (_cache[0] = ($event: any) => (selectedFiles())),\n        accept: getInputAccept()\n      }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_4)\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createTextVNode(\" Selected Files \"),\n      _createElementVNode(\"span\", null, \" (\" + _toDisplayString(_unref(fileItems).length) + \")\", 1 /* TEXT */)\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      (_unref(fileItems).length > 0)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(fileItems), (fileValues) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: fileValues.name\n              }, [\n                (\n                            !fileValues.isDuplicate &&\n                            !isEntityRuleBlock(fileValues) &&\n                            fileValues.isAcceptable &&\n                            fileValues.nameValidationExceptions.length == 0\n                        )\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                      _createElementVNode(\"div\", null, [\n                        _createElementVNode(\"i\", {\n                          class: _normalizeClass(computedIcon(fileValues.type)),\n                          style: _normalizeStyle({color: computeIconColor(fileValues.type)})\n                        }, null, 6 /* CLASS, STYLE */)\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_9, _toDisplayString(fileValues.type == \"qjson\" ? fileValues.name.split(\".\").slice(0, -1).join(\".\") : fileValues.name), 1 /* TEXT */),\n                      _createElementVNode(\"div\", _hoisted_10, [\n                        (fileValues && !_unref(loadingIcon))\n                          ? (_openBlock(), _createElementBlock(\"i\", {\n                              key: 0,\n                              class: \"mdi mdi-close removeIcon color: #212121\",\n                              style: _normalizeStyle(computedIcon(fileValues.type) ? '' : 'margin-left: 23px;'),\n                              onClick: ($event: any) => (removeItem(fileValues, _unref(fileItems)))\n                            }, null, 12 /* STYLE, PROPS */, _hoisted_11))\n                          : _createCommentVNode(\"v-if\", true),\n                        (_unref(loadingIcon))\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12))\n                          : _createCommentVNode(\"v-if\", true)\n                      ])\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                (\n                            fileValues.isDuplicate ||\n                            isEntityRuleBlock(fileValues) ||\n                            !fileValues.isAcceptable ||\n                            fileValues.nameValidationExceptions.length != 0\n                        )\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                      _createElementVNode(\"div\", null, [\n                        _createElementVNode(\"i\", {\n                          class: _normalizeClass(computedIcon(fileValues.type, (fileValues.isDuplicate || isEntityRuleBlock(fileValues) || !fileValues.isAcceptable ||fileValues.nameValidationExceptions.length != 0)))\n                        }, null, 2 /* CLASS */)\n                      ]),\n                      _createElementVNode(\"div\", {\n                        class: \"col-10\",\n                        \"data-toggle\": \"tooltip\",\n                        title: \n                                isEntityRuleBlock(fileValues)\n                                    ? 'Only one entity file is allowed'\n                                    : !fileValues.isAcceptable\n                                    ? `File type is not supported.`\n                                    : fileValues.nameValidationExceptions.length != 0  \n                                    ? fileValues.nameValidationExceptions.at(0)?.message \n                                    : 'This file is already imported'\n                            ,\n                        placement: \"bottom\",\n                        style: {\"margin-left\":\"10px\",\"text-overflow\":\"ellipsis\",\"overflow\":\"hidden\"}\n                      }, _toDisplayString(fileValues.type == \"qjson\" ? fileValues.name.split(\".\").slice(0, -1).join(\".\") : fileValues.name), 9 /* TEXT, PROPS */, _hoisted_14),\n                      _createElementVNode(\"div\", _hoisted_15, [\n                        (fileValues && !_unref(loadingIcon))\n                          ? (_openBlock(), _createElementBlock(\"i\", {\n                              key: 0,\n                              class: _normalizeClass('mdi mdi-close removeIcon' + (computedIcon(fileValues.type) ? '' : ' removeIconReposition')),\n                              onClick: ($event: any) => (removeItem(fileValues, _unref(fileItems)))\n                            }, null, 10 /* CLASS, PROPS */, _hoisted_16))\n                          : _createCommentVNode(\"v-if\", true),\n                        (!fileValues.isDuplicate && !isEntityRuleBlock(fileValues) && _unref(loadingIcon))\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17))\n                          : _createCommentVNode(\"v-if\", true)\n                      ])\n                    ]))\n                  : _createCommentVNode(\"v-if\", true)\n              ]))\n            }), 128 /* KEYED_FRAGMENT */))\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ]),\n    _createElementVNode(\"div\", _hoisted_18, [\n      _createElementVNode(\"button\", {\n        class: \"cancelBtn\",\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (emit('close')))\n      }, \"Cancel\"),\n      _createElementVNode(\"button\", {\n        class: \"importBtn\",\n        disabled: _unref(isButtonDisabled),\n        style: _normalizeStyle({ backgroundColor: _unref(isButtonDisabled) ? '#37373733' : '#151233' }),\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (importSelectedModels()))\n      }, \" UPLOAD \", 12 /* STYLE, PROPS */, _hoisted_19)\n    ])\n  ]))\n}\n}\n\n})","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./importModelDialog.vue?vue&type=style&index=0&id=66ff9202&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./importModelDialog.vue?vue&type=style&index=0&id=66ff9202&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./importModelDialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./importModelDialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./importModelDialog.vue?vue&type=style&index=0&id=66ff9202&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/studio/studio/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-66ff9202\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","i","push","module","id","checkBinaryFile","extensionOfFile","getBase64FileContent","fileContent","indexOfComma","indexOf","substring","getBinResource","base64FileContent","Buffer","from","BinaryHelper","_hoisted_1","class","_hoisted_2","_hoisted_3","n","_withScopeId","_","onclick","style","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","key","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","__name","props","param","emits","setup","__props","emit","executor","IUseCaseExecutor","tooltip","formValidator","IFormValidator","viewModel","IViewModel","viewModelManager","IViewModelManager","logger","ILogger","organizationSettingsUseCase","IOrganizationSettingsUseCase","nameValidations","minAndMaxLength","min","max","nonSpaceCharacter","customRegex","regex","message","applications","user","selectedOrganization","fileItems","owner_temp","findObject","ownerId","objectType","Error","owner","loadingIcon","entityNumber","acceptableFileTypes","path","Object","entries","value","filter","application","map","checkUploadPermissions","concat","features","multipleCss","hasEntity","children","some","modelType","checkDuplicate","name","type","extensionType","studio","items","e","str","includes","split","slice","join","getInputAccept","fileTypes","fileType","types","log","level","checkExtension","file","lastIndexOf","length","async","getBinaryFileContent","fileReader","FileReader","Promise","resolve","reject","onload","result","readAsDataURL","computedIcon","isAcceptable","computeIconColor","color","removeItem","selectedFiles","index","splice","startTooltip","isEntityRuleBlock","item","isButtonDisabled","nameValidationExceptions","isDuplicate","response","org","orgGroup","selectedOrganizationGroup","organizationGroup","isUploadImageAllowed","isUploadFontAllowed","isUploadLottieAllowed","_ctx","_cache","multiple","onChange","$event","document","getElementById","files","isExist","validate","isValid","binaryFileContent","content","text","accept","fileValues","onClick","title","at","placement","disabled","backgroundColor","images","forEach","createObject","ID","modelBody","model","modelAdditionals","qjsonType","isAutoGenerated","isModifiedByUser","extension","executeUseCase","ICreateModel","IQuickEditor","replaceStyle","console","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}