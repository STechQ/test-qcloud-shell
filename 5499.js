"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[5499],{94756:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(34663),a=t.n(o),r=t(7638),i=t.n(r)()(a());i.push([e.id,'\n*[data-v-5752474b] {\n  font-family: "Roboto";\n}\nul[data-v-5752474b] {\n  list-style-type: none;\n}\n.move-to-target .mdi[data-v-5752474b] {\n  font-size: 24px;\n  margin-right: 10px;\n}\n',"",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/moveItem.vue"],names:[],mappings:";AA+EA;EACE,qBAAqB;AACvB;AAEA;EACE,qBAAqB;AACvB;AAEA;EACE,eAAe;EACf,kBAAkB;AACpB",sourcesContent:['<script setup lang="ts">\nimport { onUnmounted, ref, onMounted } from "vue";\nimport { container } from \'../../../../domain/core/diContainer\';\nimport { IMoveItemInline } from \'../../../../domain/presentation/dialogs/IMoveItemProps\';\nimport { ITreeItem, ITreeView } from "../../../../domain/presentation/ITreeView";\nimport { FileDisplayerExternalData, IFileDisplayerUseCase } from "../../../../domain/useCase/IFileDisplayerUseCase";\nimport { IMoveTargetRequired, IMoveUseCase } from \'../../../../domain/useCase/IMoveUseCase\';\nimport { IUseCaseExecutor } from \'../../../../domain/useCase/IUseCaseExecutor\';\nimport { IViewModel } from \'../../../../domain/viewModel/IViewModel\';\nimport { IViewModelManager } from "../../../../domain/viewModel/IViewModelManager";\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);\nconst param = defineProps<{ param: IMoveItemInline }>();\nconst props = param.param;\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst viewModelManager = container.resolve<IViewModelManager>(IViewModelManager);\nconst emit = defineEmits(["close"]);\nconst rootDiv = ref<HTMLDivElement>();\nconst fileDisplayer = container.resolve<IFileDisplayerUseCase>(IFileDisplayerUseCase);\n\nlet selected: ITreeItem<FileDisplayerExternalData> | undefined = undefined;\nlet treeView: ITreeView<FileDisplayerExternalData>;\nonMounted(() => {\n\n  const app = viewModelManager.getCurrentApplication()!;\n  treeView = fileDisplayer.displayItems(rootDiv.value!, viewModel.studio.items,\n  {\n    displayModels: false, cb: { select: item => selected = item },\n    additionalRoot: { externalData: app, id: app.ID, name: app.name },\n  });\n});\n\nonUnmounted(() => {\n  treeView.reset();\n});\n\nasync function move() {\n  await executor.execute(async () => {\n    if (!selected) { return; }\n    let target: Partial<IMoveTargetRequired>;\n    switch (selected.externalData.objectType) {\n      case "model": throw new Error("unexpected target");\n      case "folder":\n        const folder = selected.externalData;\n        target = {\n          address: { name: props.itemToBeMoved.name, path: folder.path + "/" + folder.name },\n          owner: folder.owner.ID != props.itemToBeMoved.owner.ID ? { id: folder.owner.ID, type: folder.owner.objectType } : undefined,\n        };\n        break;\n      case "module":\n        const module = selected.externalData;\n        target = { owner: { id: module.ID, type: "module" }, address: { path: "/", name: "" } };\n        break;\n      case "application":\n        const application = selected.externalData;\n        target = { owner: { id: application.ID, type: "application" }, address: { path: "/", name: "" } };\n        break;\n    }\n    await moveUseCase.moveItem(props.itemToBeMoved, target);\n    emit("close");\n  }, { loading: true });\n}\n\n\n\n<\/script> \n\n<template>\n  <div>\n    <div id="content-area" class="popover__content">\n      <div ref="rootDiv" style="height: 100%" class="errorDiv"></div>\n      <button @click="move()"></button>\n    </div>\n  </div>\n</template>\n\n\n<style scoped>\n* {\n  font-family: "Roboto";\n}\n\nul {\n  list-style-type: none;\n}\n\n.move-to-target .mdi {\n  font-size: 24px;\n  margin-right: 10px;\n}\n</style>\n\n\n \n\n<style scoped>\n.move-to-target {\n  margin: 0;\n  color: #151233;\n  font-weight: 400;\n  font-size: 14px;\n  letter-spacing: 0px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n\n.createLi {\n  cursor: pointer;\n}\n\n.move-to-item {\n  padding-top: 1px;\n  padding-right: 20px;\n}\n\n.move-to-item:not(.item-disabled):hover {\n  background: #D5D5D5;\n}\n\n.item-disabled {\n  opacity: 0.5;\n}\n</style>'],sourceRoot:""}]);const s=i},6883:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(34663),a=t.n(o),r=t(7638),i=t.n(r)()(a());i.push([e.id,"\n.move-to-target[data-v-5752474b] {\n  margin: 0;\n  color: #151233;\n  font-weight: 400;\n  font-size: 14px;\n  letter-spacing: 0px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n.createLi[data-v-5752474b] {\n  cursor: pointer;\n}\n.move-to-item[data-v-5752474b] {\n  padding-top: 1px;\n  padding-right: 20px;\n}\n.move-to-item[data-v-5752474b]:not(.item-disabled):hover {\n  background: #D5D5D5;\n}\n.item-disabled[data-v-5752474b] {\n  opacity: 0.5;\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/moveItem.vue"],names:[],mappings:";AAiGA;EACE,SAAS;EACT,cAAc;EACd,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,eAAe;EACf,aAAa;EACb,mBAAmB;AACrB;AAEA;EACE,eAAe;AACjB;AAEA;EACE,gBAAgB;EAChB,mBAAmB;AACrB;AAEA;EACE,mBAAmB;AACrB;AAEA;EACE,YAAY;AACd",sourcesContent:['<script setup lang="ts">\nimport { onUnmounted, ref, onMounted } from "vue";\nimport { container } from \'../../../../domain/core/diContainer\';\nimport { IMoveItemInline } from \'../../../../domain/presentation/dialogs/IMoveItemProps\';\nimport { ITreeItem, ITreeView } from "../../../../domain/presentation/ITreeView";\nimport { FileDisplayerExternalData, IFileDisplayerUseCase } from "../../../../domain/useCase/IFileDisplayerUseCase";\nimport { IMoveTargetRequired, IMoveUseCase } from \'../../../../domain/useCase/IMoveUseCase\';\nimport { IUseCaseExecutor } from \'../../../../domain/useCase/IUseCaseExecutor\';\nimport { IViewModel } from \'../../../../domain/viewModel/IViewModel\';\nimport { IViewModelManager } from "../../../../domain/viewModel/IViewModelManager";\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);\nconst param = defineProps<{ param: IMoveItemInline }>();\nconst props = param.param;\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst viewModelManager = container.resolve<IViewModelManager>(IViewModelManager);\nconst emit = defineEmits(["close"]);\nconst rootDiv = ref<HTMLDivElement>();\nconst fileDisplayer = container.resolve<IFileDisplayerUseCase>(IFileDisplayerUseCase);\n\nlet selected: ITreeItem<FileDisplayerExternalData> | undefined = undefined;\nlet treeView: ITreeView<FileDisplayerExternalData>;\nonMounted(() => {\n\n  const app = viewModelManager.getCurrentApplication()!;\n  treeView = fileDisplayer.displayItems(rootDiv.value!, viewModel.studio.items,\n  {\n    displayModels: false, cb: { select: item => selected = item },\n    additionalRoot: { externalData: app, id: app.ID, name: app.name },\n  });\n});\n\nonUnmounted(() => {\n  treeView.reset();\n});\n\nasync function move() {\n  await executor.execute(async () => {\n    if (!selected) { return; }\n    let target: Partial<IMoveTargetRequired>;\n    switch (selected.externalData.objectType) {\n      case "model": throw new Error("unexpected target");\n      case "folder":\n        const folder = selected.externalData;\n        target = {\n          address: { name: props.itemToBeMoved.name, path: folder.path + "/" + folder.name },\n          owner: folder.owner.ID != props.itemToBeMoved.owner.ID ? { id: folder.owner.ID, type: folder.owner.objectType } : undefined,\n        };\n        break;\n      case "module":\n        const module = selected.externalData;\n        target = { owner: { id: module.ID, type: "module" }, address: { path: "/", name: "" } };\n        break;\n      case "application":\n        const application = selected.externalData;\n        target = { owner: { id: application.ID, type: "application" }, address: { path: "/", name: "" } };\n        break;\n    }\n    await moveUseCase.moveItem(props.itemToBeMoved, target);\n    emit("close");\n  }, { loading: true });\n}\n\n\n\n<\/script> \n\n<template>\n  <div>\n    <div id="content-area" class="popover__content">\n      <div ref="rootDiv" style="height: 100%" class="errorDiv"></div>\n      <button @click="move()"></button>\n    </div>\n  </div>\n</template>\n\n\n<style scoped>\n* {\n  font-family: "Roboto";\n}\n\nul {\n  list-style-type: none;\n}\n\n.move-to-target .mdi {\n  font-size: 24px;\n  margin-right: 10px;\n}\n</style>\n\n\n \n\n<style scoped>\n.move-to-target {\n  margin: 0;\n  color: #151233;\n  font-weight: 400;\n  font-size: 14px;\n  letter-spacing: 0px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n\n.createLi {\n  cursor: pointer;\n}\n\n.move-to-item {\n  padding-top: 1px;\n  padding-right: 20px;\n}\n\n.move-to-item:not(.item-disabled):hover {\n  background: #D5D5D5;\n}\n\n.item-disabled {\n  opacity: 0.5;\n}\n</style>'],sourceRoot:""}]);const s=i},65499:(e,n,t)=>{t.r(n),t.d(n,{default:()=>T});var o=t(71093),a=t(73843),r=t(5627),i=t(29307),s=t(64288),l=t(83487),d=t(88613),p=t(54848);const m={id:"content-area",class:"popover__content"},c=(0,o.aZ)({__name:"moveItem",props:{param:null},emits:["close"],setup(e,{emit:n}){const t=e,c=r.nC.resolve(l.y),v=r.nC.resolve(s.E),u=t.param,I=r.nC.resolve(d.J),A=r.nC.resolve(p.B),g=(0,a.iH)(),f=r.nC.resolve(i.w);let w,D;return(0,o.bv)((()=>{const e=A.getCurrentApplication();D=f.displayItems(g.value,I.studio.items,{displayModels:!1,cb:{select:e=>w=e},additionalRoot:{externalData:e,id:e.ID,name:e.name}})})),(0,o.Ah)((()=>{D.reset()})),(e,t)=>((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",m,[(0,o._)("div",{ref_key:"rootDiv",ref:g,style:{height:"100%"},class:"errorDiv"},null,512),(0,o._)("button",{onClick:t[0]||(t[0]=e=>async function(){await c.execute((async()=>{if(!w)return;let e;switch(w.externalData.objectType){case"model":throw new Error("unexpected target");case"folder":const n=w.externalData;e={address:{name:u.itemToBeMoved.name,path:n.path+"/"+n.name},owner:n.owner.ID!=u.itemToBeMoved.owner.ID?{id:n.owner.ID,type:n.owner.objectType}:void 0};break;case"module":e={owner:{id:w.externalData.ID,type:"module"},address:{path:"/",name:""}};break;case"application":e={owner:{id:w.externalData.ID,type:"application"},address:{path:"/",name:""}}}await v.moveItem(u.itemToBeMoved,e),n("close")}),{loading:!0})}())})])]))}});var v=t(17450),u=t.n(v),I=t(29530),A=t.n(I),g=t(16199),f=t.n(g),w=t(40458),D=t.n(w),y=t(62916),M=t.n(y),C=t(92165),x=t.n(C),E=t(94756),b={};b.styleTagTransform=x(),b.setAttributes=D(),b.insert=f().bind(null,"head"),b.domAPI=A(),b.insertStyleElement=M(),u()(E.Z,b),E.Z&&E.Z.locals&&E.Z.locals;var h=t(6883),B={};B.styleTagTransform=x(),B.setAttributes=D(),B.insert=f().bind(null,"head"),B.domAPI=A(),B.insertStyleElement=M(),u()(h.Z,B),h.Z&&h.Z.locals&&h.Z.locals;const T=(0,t(32525).Z)(c,[["__scopeId","data-v-5752474b"]])}}]);
//# sourceMappingURL=5499.js.map?ver=0.0.285_1701942125939