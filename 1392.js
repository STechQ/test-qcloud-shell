"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[1392],{88234:(l,e,a)=>{a.d(e,{Z:()=>c});var t=a(8375),i=a.n(t),o=a(7638),s=a.n(o),n=a(69345),u=s()(i());u.i(n.Z),u.push([l.id,"\n",""]);const c=u},85848:(l,e,a)=>{a.d(e,{c:()=>t});const t=Symbol.for("IExporterApi")},91056:(l,e,a)=>{a.d(e,{u:()=>t});const t=Symbol.for("IDialog")},50419:(l,e,a)=>{a.d(e,{L:()=>t});const t=Symbol.for("INotification")},39308:(l,e,a)=>{a.d(e,{Z:()=>el});var t=a(71093),i=a(66190),o=a(73843),s=a(46233),n=a(5627),u=a(91886),c=a(89001),r=a(85848),d=a(50419);const g=l=>((0,t.dD)("data-v-33149706"),l=l(),(0,t.Cn)(),l),p={class:"page-title"},h={class:"filter-area"},S={class:"search-container"},m={class:"search-in-table"},D=g((()=>(0,t._)("i",{class:"mdi mdi-magnify"},null,-1))),y={class:"table-container"},_={class:"items-table",id:"applicationListTable"},v={key:0,class:"col-xl-1"},f=g((()=>(0,t._)("th",{class:"col-xl-1"},"UI Page Count",-1))),C=g((()=>(0,t._)("th",{class:"col-xl-1"},"UI Page Size",-1))),b=g((()=>(0,t._)("th",{class:"col-xl-1"},"UI Page Count (Shared Modules)",-1))),P=g((()=>(0,t._)("th",{class:"col-xl-1"},"UI Page Size (Shared Modules)",-1))),x=g((()=>(0,t._)("th",{class:"col-xl-1"},"UI Page Count (Temp)",-1))),U=g((()=>(0,t._)("th",{class:"col-xl-1"},"UI Page Size (Temp)",-1))),k=g((()=>(0,t._)("th",{class:"col-xl-1"},"Last calculation date",-1))),I=g((()=>(0,t._)("th",{class:"col-xl-2"},"Date Created",-1))),M=g((()=>(0,t._)("th",{class:"col-xl-1"},"Created By",-1))),w=g((()=>(0,t._)("th",{class:"col-xl-2"},"Date Updated",-1))),T=g((()=>(0,t._)("th",{class:"col-xl-2"},"Date Modified",-1))),z=g((()=>(0,t._)("th",{class:"col-xl-1"},"Mobile",-1))),O=g((()=>(0,t._)("th",{class:"col-xl-1"},"Date First Published",-1))),L=g((()=>(0,t._)("th",{class:"col-xl-1"},"Date Last Published",-1))),N=g((()=>(0,t._)("th",{class:"col-xl-1"},"Licensed",-1))),A=g((()=>(0,t._)("th",{class:"col-xl-1"},"Old Tags",-1))),q={key:0},Z={style:{padding:"18px 36px"}},H={key:0,class:"mdi mdi-cellphone",style:{"font-size":"26px"}},B=(0,t.aZ)({__name:"applicationList",props:{allAppsOfOrgGroup:null,appList:null,displayOrgName:{type:Boolean},orgGroupId:null,orgId:null},setup(l){const e=l,a=n.nC.resolve(u.r),g=n.nC.resolve(r.c),B=n.nC.resolve(d.L),K=(0,o.iH)([]);let E=[];const Y=e.allAppsOfOrgGroup,G=e.appList?e.appList.map((l=>({...l,uiPageCalc:{count:0,size:0,noSharedModuleCount:0,noSharedModuleSize:0,estimatedTempCount:0,estimatedTempSize:0},organizationName:void 0,licensed:!1,oldTags:[]}))):[],F=0!=(null==Y?void 0:Y.length)&&Y?Y.map((l=>l.appInfo)):G,j=(0,o.iH)(""),W=(0,o.iH)(["10","20","30","All"]),R=(0,o.iH)(["All","Mobile"]),V=(0,o.iH)("All");function J(){const l=F.filter((l=>{var e,a;return(null===(e=l.name)||void 0===e?void 0:e.toUpperCase().includes(j.value.toUpperCase()))||(null===(a=l.createdBy)||void 0===a?void 0:a.toUpperCase().includes(j.value.toUpperCase()))}));return"All"==V.value?l:"Mobile"==V.value?l.filter((l=>l.mobileUsage)):l}function Q(l){K.value=l}function X(l){switch(l){case"All":V.value="All";break;case"Mobile":V.value="Mobile"}}function $(){window.location.reload()}async function ll(){try{await g.trigger("organizations-cumulative-calculations",e.orgGroupId,e.orgId)}catch(l){B.showNotification({text:"Error occured while triggering exporter.",type:"error"})}finally{B.showNotification({text:"Calculation started, this should take a few minutes. Please refresh your page.",type:"success"})}}return(0,t.bv)((()=>{a.addSortingToColumns("applicationListTable"),E=[...new Set(K.value.flatMap((l=>l.tags||[])).map((l=>l.label)))]})),(l,n)=>{const u=(0,t.up)("CustomSelect");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",p,[(0,t._)("span",null,"Application List ("+(0,i.toDisplayString)((0,o.SU)(F).length)+")",1)]),(0,t._)("div",h,[(0,t._)("div",S,[(0,t._)("div",m,[D,(0,t.wy)((0,t._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":n[0]||(n[0]=l=>j.value=l)},null,512),[[s.vModelText,j.value]])]),(0,t._)("div",{class:"button-container"},[(0,t._)("button",{onClick:$,class:"button refresh-button"},"Refresh Page"),(0,t._)("button",{onClick:ll,class:"button exporter-button"},"Trigger Exporter")])]),(0,t._)("div",null,[(0,t.Wm)(u,{options:R.value,default:R.value[0],onInput:X,class:"filters","selected-class":"selected-filter"},null,8,["options","default"])])]),(0,t._)("div",y,[(0,t._)("table",_,[(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{class:(0,i.normalizeClass)({"col-xl-2":!e.displayOrgName,"col-xl-1":e.displayOrgName})},"Name",2),e.displayOrgName?((0,t.wg)(),(0,t.iD)("th",v,"Organization")):(0,t.kq)("v-if",!0),f,C,b,P,x,U,k,(0,o.SU)(E)&&(0,o.SU)(E).length>0?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)((0,o.SU)(E),((l,e)=>((0,t.wg)(),(0,t.iD)("th",{key:e,class:"col-xl-1"},(0,i.toDisplayString)(l),1)))),128)):(0,t.kq)("v-if",!0),I,M,w,T,z,O,L,N,A])]),(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(K.value,(l=>{var s,n;return(0,t.wg)(),(0,t.iD)("tr",{key:l.ID},[(0,t.kq)(" <td>{{ app.ID }}</td> "),(0,t._)("td",null,(0,i.toDisplayString)(l.name),1),(0,t.kq)(" <td>{{ app.ownerUser }}</td> "),e.displayOrgName?((0,t.wg)(),(0,t.iD)("td",q,(0,i.toDisplayString)(l.organizationName),1)):(0,t.kq)("v-if",!0),(0,t.kq)(" <td>Fix the column data</td> "),(0,t._)("td",null,(0,i.toDisplayString)(l.uiPageCalc.noSharedModuleCount?l.uiPageCalc.noSharedModuleCount:l.uiPageCalc.count||0),1),(0,t._)("td",null,(0,i.toDisplayString)(Math.ceil((l.uiPageCalc.noSharedModuleSize?l.uiPageCalc.noSharedModuleSize:l.uiPageCalc.size||0)/1024)+"KB"),1),(0,t._)("td",null,(0,i.toDisplayString)((l.uiPageCalc.count||0)-(l.uiPageCalc.noSharedModuleCount?l.uiPageCalc.noSharedModuleCount:l.uiPageCalc.count||0)),1),(0,t._)("td",null,(0,i.toDisplayString)(Math.ceil((l.uiPageCalc.size||0)/1024)-Math.ceil((l.uiPageCalc.noSharedModuleSize?l.uiPageCalc.noSharedModuleSize:l.uiPageCalc.size||0)/1024)+"KB"),1),(0,t._)("td",null,(0,i.toDisplayString)(l.uiPageCalc.estimatedTempCount?l.uiPageCalc.estimatedTempCount:0),1),(0,t._)("td",null,(0,i.toDisplayString)(Math.ceil((l.uiPageCalc.estimatedTempSize?l.uiPageCalc.estimatedTempSize:0)/1024)+"KB"),1),(0,t._)("td",null,(0,i.toDisplayString)((null===(n=null===(s=(0,o.SU)(Y))||void 0===s?void 0:s.find((e=>e.appInfo.ID==l.ID)))||void 0===n?void 0:n.jobInfo.runDate)||"1880-08-08T00:00:00.000Z"),1),l.tags&&l.tags.length>0&&(0,o.SU)(E).length>0?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)((0,o.SU)(E),((e,a)=>{var o;return(0,t.wg)(),(0,t.iD)("td",{key:a,class:"col-xl-1"},(0,i.toDisplayString)(l.tags.find((l=>l.label==e))?null===(o=l.tags.find((l=>l.label==e)))||void 0===o?void 0:o.value:""),1)})),128)):(0,t.kq)("v-if",!0),(!l.tags||0==l.tags.length)&&(0,o.SU)(E).length>0?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:2},(0,t.Ko)((0,o.SU)(E).length,(l=>((0,t.wg)(),(0,t.iD)("td",{key:l,class:"col-xl-1"},(0,i.toDisplayString)(""))))),128)):(0,t.kq)("v-if",!0),(0,t._)("td",null,(0,i.toDisplayString)((0,o.SU)(a).formatDate(l.createDate)),1),(0,t._)("td",null,(0,i.toDisplayString)(l.createdBy),1),(0,t._)("td",null,(0,i.toDisplayString)(l.updateDate?(0,o.SU)(a).formatDate(l.updateDate):"-"),1),(0,t._)("td",null,(0,i.toDisplayString)(l.modifyDate?(0,o.SU)(a).formatDate(l.modifyDate):"-"),1),(0,t._)("td",Z,[l.mobileUsage&&(l.mobileUsage.isMobilePublished||l.mobileUsage.isMobileTemplateUsed)?((0,t.wg)(),(0,t.iD)("i",H)):(0,t.kq)("v-if",!0)]),(0,t._)("td",null,(0,i.toDisplayString)(l.firstPublishDate?(0,o.SU)(a).formatDate(l.firstPublishDate):"-"),1),(0,t._)("td",null,(0,i.toDisplayString)(l.lastPublishDate?(0,o.SU)(a).formatDate(l.lastPublishDate):"-"),1),(0,t._)("td",null,(0,i.toDisplayString)(l.licensed?"LICENSED":"Free"),1),(0,t._)("td",null,(0,i.toDisplayString)(l.oldTags?l.oldTags.join(", "):"-"),1)])})),128))]),(0,t.Wm)(c.Z,{itemsPerPageOptions:W.value,columnCount:e.displayOrgName?12:11,onPaginateData:Q,searchInTable:j.value,getTableData:J},null,8,["itemsPerPageOptions","columnCount","searchInTable"])])])],64)}}});var K=a(17450),E=a.n(K),Y=a(29530),G=a.n(Y),F=a(16199),j=a.n(F),W=a(40458),R=a.n(W),V=a(62916),J=a.n(V),Q=a(92165),X=a.n(Q),$=a(88234),ll={};ll.styleTagTransform=X(),ll.setAttributes=R(),ll.insert=j().bind(null,"head"),ll.domAPI=G(),ll.insertStyleElement=J(),E()($.Z,ll),$.Z&&$.Z.locals&&$.Z.locals;const el=(0,a(32525).Z)(B,[["__scopeId","data-v-33149706"]])}}]);