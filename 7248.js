"use strict";(self.webpackChunkqcloud_shell=self.webpackChunkqcloud_shell||[]).push([[7248],{82506:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(51864),s=t.n(a),i=t(60352),o=t.n(i)()(s());o.push([e.id,"\n.input-line[data-v-40543523] {\n    margin-top: 20px;\n    margin-left: 10px;\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/systemuser/createDomain.vue"],names:[],mappings:";AA+CA;IACI,gBAAgB;IAChB,iBAAiB;AACrB",sourcesContent:['<script setup lang="ts">\nimport { ref } from "vue";\nimport { container } from "../../../../../domain/core/diContainer";\nimport { IUseCaseExecutor } from "../../../../../domain/useCase/IUseCaseExecutor";\nimport { ISystemUserManagement } from "../../../../../domain/useCase/ISystemUserManagement";\n\nconst emit = defineEmits(["close"]);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst systemUserManagement = container.resolve<ISystemUserManagement>(ISystemUserManagement);\n\nconst name = ref<string>();\nconst apps = ref<Record<string, boolean>>({ quick: true, bpmn: true, entity: true, flow: true, process: true });\nconst appItems = ref(Object.keys(apps.value));\nconst createInitials = ref<boolean>(true);\n\nasync function create() {\n    await executor.execute(async () => {\n        if (!name.value) { alert("name required!"); return; }\n\n        let falseCounter = 0;\n        const keys = Object.keys(apps.value);\n        keys.forEach(app => { if ((apps.value as Record<string, boolean>)[app] == false) { falseCounter++; } });\n        if (falseCounter == keys.length) { alert("You must choose an application at least!"); return; }\n\n        await systemUserManagement.createDomain(name.value, apps.value);\n        emit("close");\n    }, { loading: true });\n}\n\n<\/script>\n<template>\n    <div class="input-line">\n        Domain Name <input type="text" v-model="name" @input="(val) => (name = name?.toUpperCase())" />\n    </div>\n    <div class="input-line">\n        DB Name {{ name ? `DB${name}` : "" }}\n    </div>\n    <div class="input-line">\n        Applications\n        <div v-for="item in appItems">{{ item }} <input type="checkbox" v-model="apps[item]" /></div>\n    </div>\n    <div class="input-line">\n        <button @click="create()">Create</button>\n    </div>\n</template>\n\n<style scoped>\n.input-line {\n    margin-top: 20px;\n    margin-left: 10px;\n}\n</style>'],sourceRoot:""}]);const l=o},57248:(e,n,t)=>{t.r(n),t.d(n,{default:()=>H});var a=t(62068),s=t(51705),i=t(49045),o=t(81407),l=t(3734),r=t(80664),u=t(91145);const c={class:"input-line"},p=(0,a.Uk)(" Domain Name "),m={class:"input-line"},v={class:"input-line"},d=(0,a.Uk)(" Applications "),y=["onUpdate:modelValue"],f={class:"input-line"},g=(0,a.aZ)({__name:"createDomain",emits:["close"],setup(e,{emit:n}){const t=l.nC.resolve(r.y),g=l.nC.resolve(u.H),C=(0,o.iH)(),k=(0,o.iH)({quick:!0,bpmn:!0,entity:!0,flow:!0,process:!0}),b=(0,o.iH)(Object.keys(k.value));return(0,o.iH)(!0),(e,o)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",c,[p,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>C.value=e),onInput:o[1]||(o[1]=e=>{var n;return C.value=null===(n=C.value)||void 0===n?void 0:n.toUpperCase()})},null,544),[[s.vModelText,C.value]])]),(0,a._)("div",m," DB Name "+(0,i.toDisplayString)(C.value?`DB${C.value}`:""),1),(0,a._)("div",v,[d,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.value,(e=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a.Uk)((0,i.toDisplayString)(e)+" ",1),(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":n=>k.value[e]=n},null,8,y),[[s.vModelCheckbox,k.value[e]]])])))),256))]),(0,a._)("div",f,[(0,a._)("button",{onClick:o[2]||(o[2]=e=>async function(){await t.execute((async()=>{if(!C.value)return void alert("name required!");let e=0;const t=Object.keys(k.value);t.forEach((n=>{0==k.value[n]&&e++})),e!=t.length?(await g.createDomain(C.value,k.value),n("close")):alert("You must choose an application at least!")}),{loading:!0})}())},"Create")])],64))}});var C=t(75701),k=t.n(C),b=t(8236),x=t.n(b),U=t(6080),h=t.n(U),I=t(56850),A=t.n(I),D=t(87182),w=t.n(D),_=t(39213),B=t.n(_),E=t(82506),M={};M.styleTagTransform=B(),M.setAttributes=A(),M.insert=h().bind(null,"head"),M.domAPI=x(),M.insertStyleElement=w(),k()(E.Z,M),E.Z&&E.Z.locals&&E.Z.locals;const H=(0,t(51419).Z)(g,[["__scopeId","data-v-40543523"]])}}]);
//# sourceMappingURL=7248.js.map