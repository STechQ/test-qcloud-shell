"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[5e3,8695,5627],{9706:(e,n,t)=>{t.d(n,{Z:()=>u});var a=t(8375),r=t.n(a),o=t(7638),i=t.n(o),l=t(79240),s=i()(r());s.i(l.Z),s.push([e.id,"\n.role[data-v-88ddda44] {\n    width: 100%;\n    font-size: 15px;\n    /* height: 40px; */\n    line-height: 40px;\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    padding: 0px 12px;\n}\n.select-name[data-v-88ddda44] {\n    color: #151233;\n    font-weight: bold;\n    font-size: 14px;\n}\n.continue-button[data-v-88ddda44] {\n    font-weight: 500;\n    font-size: 16px;\n    color: #FFFFFF;\n    background: #151233;\n    padding: 8px 16px;\n    border-radius: 4px;\n    border: none;\n}\n",""]);const u=s},98087:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(8375),r=t.n(a),o=t(7638),i=t.n(o)()(r());i.push([e.id,"\n.role .items {\n    color: #212121;\n    border-radius: 8px;\n    border: 1px solid #E3E3E3;\n    overflow: hidden;\n    background-color: #FFFFFF;\n    box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);\n    margin-top: 4px;\n}\n.role .items .option {\n    color: #212121;\n    padding-left: 12px;\n    line-height: 32px;\n}\n.role .items .option:hover {\n    background-color: #EEEEEE;\n}\n.role i {\n    font-size: 16px;\n    color: #BCBCBC;\n}\n.role-tag-name {\n    align-items: center;\n    padding: 5px 8px;\n    background: #D0D1E9;\n    display: inline-flex;\n    justify-content: center;\n    border-radius: 20px;\n    margin: 4px 4px 4px 0;\n    font-size: 14px;\n    color: #2F3160;\n    white-space: nowrap;\n    font-weight: 500;\n    line-height: 1;\n    max-width: 100%;\n}\n.selected-items span {\n}\n/* .role .selected {\n    height: 40px;\n} */\n",""]);const l=i},30647:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CryptoHelper=void 0;var CryptoHelper=function(){function CryptoHelper(){}return CryptoHelper.generateRandom=function(nums){var characters="0123456789abcdefghijklmnopqrstuvwxyz",sum=nums.reduce((function(e,n){return e+n}),0),isomorphicCrypto="undefined"!=typeof crypto?eval("crypto"):eval("require")("crypto"),randomValues=isomorphicCrypto.getRandomValues(new Uint8Array(sum)),index=0;return nums.reduce((function(e,n){return e.push(Array.from(new Array(n)).map((function(e){return characters[randomValues[index++]%characters.length]})).join("")),e}),[])},CryptoHelper.CreateGuid=function(){var e=Date.now().toString(36).substring(0,9).padStart(9,"0");return CryptoHelper.generateRandom([8,4,4,4,3]).join("-")+e},CryptoHelper}();exports.CryptoHelper=CryptoHelper},7638:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",a=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),a&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),a&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,a,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);a&&i[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),n.push(c))}},n}},8375:e=>{e.exports=function(e){return e[1]}},17450:e=>{var n=[];function t(e){for(var t=-1,a=0;a<n.length;a++)if(n[a].identifier===e){t=a;break}return t}function a(e,a){for(var o={},i=[],l=0;l<e.length;l++){var s=e[l],u=a.base?s[0]+a.base:s[0],c=o[u]||0,d="".concat(u," ").concat(c);o[u]=c+1;var p=t(d),v={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)n[p].references++,n[p].updater(v);else{var f=r(v,a);a.byIndex=l,n.splice(l,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var o=a(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var l=t(o[i]);n[l].references--}for(var s=a(e,r),u=0;u<o.length;u++){var c=t(o[u]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}o=s}}},16199:e=>{var n={};e.exports=function(e,t){var a=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},62916:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},40458:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},29530:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,r&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(a,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},92165:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},32525:(e,n)=>{n.Z=(e,n)=>{const t=e.__vccOpts||e;for(const[e,a]of n)t[e]=a;return t}},88239:(e,n,t)=>{t.d(n,{L:()=>o});let a=!1;new Promise((e=>e())).then((()=>a=!0)),"undefined"!=typeof doNothing&&doNothing();const r=!0===a;function o(e,n={}){let t,a,o;const i=e=>{o&&clearTimeout(o),o=setTimeout((()=>{a(new Error(`The operation has timed out. name: ${n.name||"noname"} - timeoutValue  : ${e}`))}),e)};e&&i(e);const l=Date.now(),s={startTime:l,duration:void 0,startTimer:i,promise:new Promise(((e,o)=>{var i;i=n=>{u("resolved"),e(n)},t=r&&n.fixSyncResolve?e=>setTimeout((()=>i(e))):i,a=e=>{u("rejected"),o(e)}})),resolver:t,reject:a,status:"waiting"},u=e=>{"waiting"==s.status&&(s.status=e,s.duration=Date.now()-l)};return s}},5627:(e,n,t)=>{t.d(n,{OH:()=>s,b2:()=>a.b2,bh:()=>l,f3:()=>a.f3,nC:()=>u,tu:()=>o});var a=t(53266),r=t(88239);function o(e){let n;return()=>n||(n=e())}function i(){const e=(0,r.L)();return setTimeout((()=>{e.resolver()}),100),e.promise}async function l(e,n){await s([e]);const t=a.nC.resolve(e);await n(t)}async function s(e,n){let t=!1;for(;!t;)try{e.forEach((e=>a.nC.resolve(e))),t=!0}catch(e){await i()}await(null==n?void 0:n())}const u=a.nC;u.resolveCached=e=>{let n;return()=>n||(n=a.nC.resolve(e))},u.resolveLazy=e=>()=>a.nC.resolve(e),u.deleteRegistration=e=>{a.nC._registry._registryMap.delete(e)}},38695:(e,n,t)=>{t.d(n,{T:()=>a});const a=Symbol.for("IFormValidator")},1937:(e,n,t)=>{t.d(n,{Ax:()=>r,v5:()=>a});const a=Symbol.for("IRouter");function r(e){}},1850:(e,n,t)=>{t.d(n,{u:()=>a});const a=Symbol.for("ILiveDashboardUseCase")},83487:(e,n,t)=>{t.d(n,{y:()=>a});const a=Symbol.for("IUseCaseExecutor")},1995:(e,n,t)=>{t.r(n),t.d(n,{default:()=>W});var a=t(71093),r=t(66190),o=t(73843),i=t(5627),l=t(1937),s=t(37325),u=t(27989),c=t(31125),d=t(83487),p=t(30647),v=t(1850),f=t(37941);const m=e=>((0,a.dD)("data-v-88ddda44"),e=e(),(0,a.Cn)(),e),h={class:"container d-flex justify-content-center align-items-center h-100"},y={class:"card",style:{width:"400px"}},x=m((()=>(0,a._)("div",{class:"card-header"}," Select or Create User ",-1))),b={class:"card-body"},g={class:"col"},C={class:"col"},w={class:"row mt-2"},H={class:"col"},_=m((()=>(0,a._)("span",{class:"select-name"},"Roles",-1))),S={class:"row mt-2"},E={class:"col"},I=m((()=>(0,a._)("span",{class:"select-name"},"Swimlane",-1))),T={class:"card-footer d-flex justify-content-end"},D=["disabled"],F=(0,a.aZ)({__name:"preDashboard",setup(e){const n=i.nC.resolve(d.y),t=i.nC.resolve(v.u),m=(0,o.iH)([]),F=(0,o.iH)([]),Z=(0,o.iH)([]),U=(0,o.iH)([]),k=(0,o.iH)([]),A=(0,o.iH)([]),M=(0,o.iH)(""),j=(0,o.iH)({id:"",name:""}),R=(0,o.iH)([]),V=(0,o.iH)([]),N=(0,o.iH)(!1),z=(0,o.iH)(!1),L=(0,o.iH)(!1),q=(0,o.iH)({name:{minAndMaxLength:{min:2,max:40},availableCharacters:!0,nonSpaceCharacter:!0}}),B=(0,o.iH)(!1),P=t.getWorkflowFromOpener();(0,a.bv)((async()=>{n.execute((async()=>{U.value=await t.listUsers(),k.value=await P.listUserRoles(),A.value=await P.listSwimlanes(),function(){let e=[];U.value.forEach((n=>{n.isSystemUser||e.push({name:n.fullName,value:n.userId})})),m.value=e}(),F.value=k.value.map((e=>({ID:p.CryptoHelper.CreateGuid(),name:e.value,value:e.value}))),Z.value=A.value.map((e=>({ID:p.CryptoHelper.CreateGuid(),name:e.value,value:e.value})))}),{loading:!0})}));const G=(0,a.Fl)((()=>!B||!M.value||0==R.value.length));function O(e){M.value=e;const n=U.value.find((n=>n.userId===e));if(N.value=z.value=L.value=!!n,R.value=[],n){j.value=n.unit,V.value=n.swimlanes||[];for(const e of n.roles)R.value.push({ID:p.CryptoHelper.CreateGuid(),name:e,value:e})}}function W(e){j.value={id:e,name:""}}function $(e){R.value=e}async function J(){await n.execute((async()=>{const e=U.value.find((e=>e.userId===M.value))||{userId:"",unit:j.value,fullName:M.value,firstName:M.value,lastName:M.value,roles:R.value.map((e=>e.name)),swimlanes:V.value};await P.insertUser(e);const n=i.nC.resolve(l.v5);await n.push("../processlivepreview/dashboard")}),{loading:!0})}function K(e){B.value=e}function Q(e){var n;e&&(R.value=null===(n=R.value)||void 0===n?void 0:n.filter((n=>n.ID!=(null==e?void 0:e.ID))),F.value.push(e)),F.value=F.value.filter((e=>!R.value.includes(e)))}return(e,n)=>((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",y,[x,(0,a._)("div",b,[(0,a._)("div",null,[(0,a._)("div",g,[(0,a.Wm)(c.Z,{label:"Username",options:m.value,onChangeValue:O},null,8,["options"])]),(0,a._)("div",C,[(0,a.Wm)(s.Z,{"element-id":"preDashboardUnit",isRequired:!0,placeholder:"",type:"text","info-text":"Unit",value:j.value.id,onGetValue:W,isDisabled:N.value,onValidateStatus:K,validations:q.value.name},null,8,["value","isDisabled","validations"])])]),(0,a._)("div",w,[(0,a._)("div",H,[_,(0,a.Wm)(u.Z,{class:"role",options:F.value,multiple:!0,disabled:z.value,defaultMultiple:R.value,placeholder:"Select roles",multipleSelectedClass:"role-tag-name",onInput:$,onAfterClick:Q,optionsHeight:"200px"},null,8,["options","disabled","defaultMultiple"])])]),(0,a._)("div",S,[(0,a._)("div",E,[I,(0,a.Wm)(f.Z,{modelValue:V.value,"onUpdate:modelValue":n[0]||(n[0]=e=>V.value=e),disabled:L.value,placeholder:"Type a swimlane and press Enter/Space to add"},null,8,["modelValue","disabled"])])])]),(0,a._)("div",T,[(0,a._)("button",{class:"continue-button",style:(0,r.normalizeStyle)({opacity:(0,o.SU)(G)?"0.5":"1"}),disabled:(0,o.SU)(G),onClick:J},"Continue",12,D)])])]))}});var Z=t(17450),U=t.n(Z),k=t(29530),A=t.n(k),M=t(16199),j=t.n(M),R=t(40458),V=t.n(R),N=t(62916),z=t.n(N),L=t(92165),q=t.n(L),B=t(9706),P={};P.styleTagTransform=q(),P.setAttributes=V(),P.insert=j().bind(null,"head"),P.domAPI=A(),P.insertStyleElement=z(),U()(B.Z,P),B.Z&&B.Z.locals&&B.Z.locals;var G=t(98087),O={};O.styleTagTransform=q(),O.setAttributes=V(),O.insert=j().bind(null,"head"),O.domAPI=A(),O.insertStyleElement=z(),U()(G.Z,O),G.Z&&G.Z.locals&&G.Z.locals;const W=(0,t(32525).Z)(F,[["__scopeId","data-v-88ddda44"]])}}]);