"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[3239],{91868:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(8375),o=t.n(i),l=t(7638),a=t.n(l)()(o());a.push([e.id,"\n.appitems-header[data-v-27729182] {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin: 0 0 8px 0;\n}\n.appitems-header-right[data-v-27729182] {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    margin-right: 16px;\n}\n.switch-container[data-v-27729182] {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    white-space: nowrap;\n}\n.switch-label[data-v-27729182] {\n    font-size: 14px;\n    line-height: 16px;\n    color: #212121\n}\n.collapse-icon[data-v-27729182] {\n    cursor: pointer;\n    font-size: 20px;\n    color: #151233;\n}\n.modules-selected-checkbox[data-v-27729182] {\n    cursor: pointer;\n}\n.modules-selected-text[data-v-27729182] {\n    font: normal normal normal 14px/19px Roboto;\n    color: #757575;\n    margin-left: 30px;\n}\n.text-number[data-v-27729182] {\n    font: normal normal bold 14px/19px Roboto;\n    color: #212121;\n}\n.modules-datatable[data-v-27729182] {\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n}\n.modules-datatable[data-v-27729182]::-webkit-scrollbar-thumb {\n    background: #bcbcbc 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n}\n.modules-datatable[data-v-27729182]::-webkit-scrollbar-thumb:hover {\n        background: #555555 0% 0% no-repeat padding-box;\n}\n.mobile-publish-text[data-v-27729182],\n.web-publish-text[data-v-27729182] {\n    padding: 5px 12px;\n    margin-bottom: 52px;\n    width: 100%;\n    color: #757575;\n    font-size: 14px;\n    background: #F5F5FA;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n}\n.mobile-publish-text i[data-v-27729182],\n.web-publish-text i[data-v-27729182] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 4px;\n}\n.stop-working-search[data-v-27729182] {\n    margin-bottom: 15px;\n}\n.stop-working-search .search-input-wrapper[data-v-27729182] {\n    position: relative;\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n}\n.stop-working-search .search-icon[data-v-27729182] {\n    position: absolute;\n    padding: 0 0 4px 4px;\n    color: #757575;\n    font-size: 18px;\n}\n.stop-working-search .search-input[data-v-27729182] {\n    width: 856px;\n    height: 32px;\n    padding: 8px 36px 8px 36px;\n    background: #FFFFFF;\n    border: 1px solid #E0E0E0;\n    border-radius: 4px;\n    font-size: 14px;\n    font-family: 'Roboto';\n}\n.stop-working-search .search-input[data-v-27729182]:focus {\n    outline: none;\n    border-color: #151233;\n}\n.stop-working-search .clear-icon[data-v-27729182] {\n    position: absolute;\n    right: 10px;\n    color: #757575;\n    font-size: 18px;\n    cursor: pointer;\n}\n.no-results[data-v-27729182] {\n    padding: 20px;\n    text-align: center;\n    color: #757575;\n    font-style: italic;\n    border: 1px solid #E0E0E0;\n    border-radius: 4px;\n}\n.no-files-message[data-v-27729182] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 257px;\n  width: 856px;\n  font-size: 15px;\n  font-weight: 400;\n  color: #666;\n  text-align: center;\n  background-color: #F5F5F5;\n  border: 1px solid #E3E3E3;\n  border-radius: 8px;\n}\n.files-header[data-v-27729182] {\n  font-family: 'Roboto'; \n  margin: 12px 0 8px 0;\n  font-size: 15px;\n  font-weight: 500;\n  color: #151233;\n}\n",""]);const s=a},45477:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(8375),o=t.n(i),l=t(7638),a=t.n(l)()(o());a.push([e.id,'\n.switch-flow[data-v-c533e93c] {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n.switch[data-v-c533e93c] {\n    position: relative;\n    display: inline-block;\n    width: 36px;\n    height: 20px;\n    margin-right: 5px;\n}\n.switch-text[data-v-c533e93c] {\n    width: 100%;\n    color: #151233;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    opacity: 1;\n}\n.switch input[data-v-c533e93c] {\n    opacity: 0;\n    width: 0;\n    height: 0;\n}\n.switch  .slider[data-v-c533e93c] {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #cbcbcb;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n}\n.label-left[data-v-c533e93c]  {\n  flex-direction: row;\n}\n.label-right[data-v-c533e93c]  {\n  flex-direction: row-reverse;\n}\n.switch-flow.label-right[data-v-c533e93c] {\n   gap: 15px;\n}\n.slider[data-v-c533e93c]:before {\n    content: "";\n    height: 14px;\n    width: 14px;\n    position: absolute;\n    left: 3px;\n    top: 3px;\n    bottom: 4px;\n    background-color: white;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n}\ninput:checked + .slider[data-v-c533e93c] {\n    background-color: #151233;\n}\ninput:focus + .slider[data-v-c533e93c] {\n    box-shadow: 0 0 1px #151233;\n}\ninput:checked + .slider[data-v-c533e93c]:before {\n    -webkit-transform: translateX(16px);\n    -ms-transform: translateX(16px);\n    transform: translateX(16px);\n}\n.switch .slider.round[data-v-c533e93c] {\n    width: 36px;\n    border-radius: 34px;\n}\n.switch .slider.round[data-v-c533e93c]:before {\n    border-radius: 50%;\n}\n\n',""]);const s=a},1002:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(8375),o=t.n(i),l=t(7638),a=t.n(l)()(o());a.push([e.id,"\n.row-container[data-v-6b3183f8] {\n\twidth: 100%;\n\theight: 36px;\n\tposition: relative;\n\tbackground: #ffffff 0% 0% no-repeat padding-box;\n\tborder: 1px solid #e0e0e0;\n}\n.icon-container[data-v-6b3183f8] {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 16px;\n\theight: 16px;\n\ttop: 6px;\n}\n.app-tier-model-icon[data-v-6b3183f8] {\n\twidth: 16px;\n\theight: 16px;\n}\n.imported-lock-badge[data-v-6b3183f8] {\n\tposition: absolute;\n\ttop: 10px !important;\n    right: 1px !important;\n    background-color: #FF6B6B !important;\n    border-radius: 99px !important;\n    padding: 1px !important;\n\tline-height: 1; \n\tpointer-events: none;\n}\n.imported-lock-badge .mdi-lock[data-v-6b3183f8] {\n\tcolor: white;\n\tfont-size: 8px;\n\tdisplay: block;\n}\n.app-tier-model-name[data-v-6b3183f8] {\n\tposition: absolute;\n\ttop: 9px;\n\tfont: normal normal normal 14px/19px Roboto;\n\tcolor: #212121;\n}\n.app-tier-model-name.disabled[data-v-6b3183f8] {\n\tcolor: #D5D5D5;\n}\n.version-text[data-v-6b3183f8] {\n\tmargin: 10px 7px 10px auto;\n\tdisplay: table;\n\tfont: normal normal normal 12px/16px Roboto;\n\tcolor: #757575;\n\tcursor: pointer;\n\tuser-select: none;\n}\n.version-text.disabled[data-v-6b3183f8] {\n\tpointer-events: none;\n\tcursor: pointer;\n}\n.chevron[data-v-6b3183f8] {\n\tposition: absolute;\n\tcolor: #757575;\n\tfont-size: 24px;\n}\n.button-tooltip[data-v-6b3183f8] {\n\tvisibility: hidden;\n\tposition: absolute;\n\tbackground: #757575;\n\tcolor: #FFFFFF;\n\tfont-size: 11px;\n\tfont-family: 'Roboto';\n\ttext-align: center;\n\tborder-radius: 4px;\n\tletter-spacing: 0.2px;\n\tpadding: 6px 8px 6px 8px;\n\ttop: 56px;\n\tleft: 63px;\n\topacity: 0;\n}\n.button-disable .save-button:hover+.button-tooltip[data-v-6b3183f8],\n.start-screen:hover .button-tooltip[data-v-6b3183f8],\n.row-container:hover .button-tooltip[data-v-6b3183f8],\n.publish-info:hover .button-tooltip[data-v-6b3183f8] {\n\tvisibility: visible;\n\ttransition: opacity 0.3s ease-out 1s;\n\topacity: 1;\n}\n.bpmn-color[data-v-6b3183f8] {\n\tcolor: #007c77;\n}\n.process-color[data-v-6b3183f8] {\n\tcolor: #007c77;\n}\n.entity-designer-color[data-v-6b3183f8] {\n\tcolor: #e9724c;\n}\n.qjson-color[data-v-6b3183f8] {\n\tcolor: #449dd1;\n}\n.yaml-color[data-v-6b3183f8] {\n\tcolor: #449dd1;\n}\n.namedcomp-color[data-v-6b3183f8] {\n\tcolor: #212121;\n}\n.app-settings-color[data-v-6b3183f8] {\n\tcolor: #151233;\n}\n.js-color[data-v-6b3183f8] {\n\tcolor: #449dd1;\n}\n.css-color[data-v-6b3183f8] {\n\tcolor: #151233;\n}\n",""]);const s=a},95790:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(8375),o=t.n(i),l=t(7638),a=t.n(l)()(o());a.push([e.id,'\n*[data-v-61306b24] {\n    font-family: "Roboto";\n}\n.info-div[data-v-61306b24] {\n    background: #F5F5FA;\n    border-radius: 4px;\n    width: 100%;\n}\n.info-text[data-v-61306b24] {\n    color: #757575;\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n}\n.info-text i[data-v-61306b24] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 8px;\n}\n.text-area[data-v-61306b24] {\n    border-radius: 4px;\n    color: #212121;\n    padding: 0px 8px;\n    font-size: 12px;\n    height: 32px;\n    font-weight: 500;\n    background: #FFFFFF;\n    display: flex;\n    align-items: center;\n    margin-top: 10px;\n}\n.copy-icon[data-v-61306b24] {\n    font-size: 16px;\n    color: #151233;\n    margin-left: auto;\n    font-weight: 400;\n    cursor: pointer;\n}\n.icon-tooltip[data-v-61306b24] {\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    text-align: center;\n    border-radius: 4px;\n    padding: 5px 8px;\n    right: 35px;\n    top: 200px;\n}\n',""]);const s=a},40538:(e,n,t)=>{t.d(n,{Z:()=>fe});var i=t(71093),o=t(46233),l=t(66190),a=t(73843),s=t(5627),d=t(91056),r=t(83487),c=t(88613),p=t(54848),u=t(67457),v=t(66059);const m=e=>((0,i.dD)("data-v-6b3183f8"),e=e(),(0,i.Cn)(),e),h=["id"],f={key:0,class:"imported-lock-badge"},y=[m((()=>(0,i._)("i",{class:"mdi mdi-lock"},null,-1)))],b={key:0,class:"start-screen"},g=[m((()=>(0,i._)("i",{class:"mdi mdi-home-outline"},null,-1))),m((()=>(0,i._)("span",{class:"button-tooltip",style:{top:"-30px",left:"2px","z-index":"1",width:"80px"}},"Start Screen",-1)))],k=m((()=>(0,i._)("div",null,null,-1))),x={key:0},w={key:1,class:(0,l.normalizeClass)(["mdi mdi-pencil-outline version-icon"])},T={key:0,class:(0,l.normalizeClass)(["mdi mdi-pencil-outline version-icon"])},S={key:2,class:"button-tooltip",style:{"z-index":"1",width:"300px"}},C=(0,i.aZ)({__name:"exportDialogItem",props:{handleItemCheckEvent:{type:Function},startScreen:null,versionDialog:{type:Function},handleCollapse:{type:Function},item:null,moduleVersionDialog:{type:Function},hideVersionInfo:{type:Boolean},usedScreenType:null},setup(e,{expose:n}){const t=e,o=s.nC.resolve(p.B),d=(0,i.Fl)((()=>`mdi mdi-menu${t.item.collapsed?"-right":"-down"} chevron`));function r(){t.handleItemCheckEvent(t.item)}function c(){t.item.version&&"latest"!==t.item.version&&(t.item.imported?t.moduleVersionDialog(t.item):t.versionDialog(t.item))}function m(e){const n=o.findModel(e.id);return"appSettings"===(null==n?void 0:n.usageType)}n({handleModuleCountCheckboxEvent:function(){return t.item.checked}});const C=(0,i.Fl)((()=>25*(t.item.level||0)));return(n,o)=>{var s,p,D,I;return(0,i.wg)(),(0,i.iD)("div",{class:"row-container",id:t.usedScreenType+"-model-select-"+e.item.id},[e.item.children&&(null===(s=e.item.children)||void 0===s?void 0:s.length)>0?((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,l.normalizeClass)((0,a.SU)(d)),onClick:o[0]||(o[0]=n=>t.handleCollapse(e.item,!0)),style:(0,l.normalizeStyle)({cursor:"pointer",left:(e.item.level?(0,a.SU)(C)-20:4)+"px"})},null,6)):(0,i.kq)("v-if",!0),(0,i.Wm)(u.Z,{style:(0,l.normalizeStyle)({top:"8px",cursor:"pointer",left:(0,a.SU)(C)+(e.item.level?20:43)+"px",position:"absolute"}),check:e.item.checked||e.item.allChildChecked,minus:!e.item.allChildChecked&&e.item.anyChildChecked,disabled:e.item.disabled,onClick:r},null,8,["style","check","minus","disabled"]),(0,i._)("div",{class:"icon-container",style:(0,l.normalizeStyle)({left:(0,a.SU)(C)+(e.item.level?45:69)+"px"})},[(0,i._)("i",{class:(0,l.normalizeClass)("app-tier-model-icon "+(0,a.SU)(v.o).getModelVisualInfo(e.item.type,void 0).icon),style:(0,l.normalizeStyle)({color:(0,a.SU)(v.o).getModelVisualInfo(e.item.type,void 0).color})},null,6),e.item.imported&&"module"===e.item.type?((0,i.wg)(),(0,i.iD)("div",f,y)):(0,i.kq)("v-if",!0)],4),(0,i._)("span",{style:(0,l.normalizeStyle)({left:(0,a.SU)(C)+(e.item.level?71:91)+"px"}),class:(0,l.normalizeClass)(["app-tier-model-name",e.item.disabled?"disabled":""])},[(0,i.Uk)((0,l.toDisplayString)(null===(p=e.item)||void 0===p?void 0:p.name)+" ",1),(null===(D=e.startScreen)||void 0===D?void 0:D.ID)==e.item.id?((0,i.wg)(),(0,i.iD)("span",b,g)):(0,i.kq)("v-if",!0)],6),"folder"==e.item.type||t.hideVersionInfo?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[k,"module"!=e.item.type?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,l.normalizeClass)(["version-text",!e.item.disabled&&!(null===(I=e.item.parent)||void 0===I?void 0:I.imported)||m(e.item)?"":"disabled"]),onClick:c},[(0,i.Uk)((0,l.toDisplayString)(e.item.version?e.item.version:"latest")+" ",1),e.item.nextVersionPreview?((0,i.wg)(),(0,i.iD)("span",x," â†’ "+(0,l.toDisplayString)(e.item.nextVersionPreview),1)):(0,i.kq)("v-if",!0),e.item.version&&"latest"!=e.item.version?((0,i.wg)(),(0,i.iD)("i",w)):(0,i.kq)("v-if",!0)],2)):e.item.imported&&"module"==e.item.type?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"version-text",onClick:o[1]||(o[1]=n=>e.moduleVersionDialog(e.item))},[(0,i.Uk)((0,l.toDisplayString)(e.item.version?e.item.version:"latest")+" ",1),e.item.version&&"latest"!=e.item.version?((0,i.wg)(),(0,i.iD)("i",T)):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0),e.item.disabled&&!e.item.version?((0,i.wg)(),(0,i.iD)("span",S,' No version available for publishing. Please click "Save and Version" option from save menu and release a new major version for this item. ')):(0,i.kq)("v-if",!0)],64))],8,h)}}});var D=t(17450),I=t.n(D),F=t(29530),E=t.n(F),U=t(16199),_=t.n(U),z=t(40458),M=t.n(z),B=t(62916),P=t.n(B),V=t(92165),Z=t.n(V),A=t(1002),j={};j.styleTagTransform=Z(),j.setAttributes=M(),j.insert=_().bind(null,"head"),j.domAPI=E(),j.insertStyleElement=P(),I()(A.Z,j),A.Z&&A.Z.locals&&A.Z.locals;var q=t(32525);const H=(0,q.Z)(C,[["__scopeId","data-v-6b3183f8"]]);var O=t(29307),R=t(3329),W=t(29633),L=t(72549),N=t(62376),Q=t(17379),Y=t(15772);const $=e=>((0,i.dD)("data-v-27729182"),e=e(),(0,i.Cn)(),e),X={style:{display:"flex","flex-direction":"column",flex:"1"}},J={key:0,class:"stop-working-search"},K={class:"search-input-wrapper"},G=$((()=>(0,i._)("i",{class:"mdi mdi-magnify search-icon"},null,-1))),ee={key:0,class:"files-header"},ne={class:"appitems-header"},te={key:0,class:"appitems-header-left"},ie={class:"text-number"},oe={class:"text-number"},le={key:1,class:"appitems-header-right"},ae=["title"],se={key:0,class:"switch-container"},de=$((()=>(0,i._)("span",{class:"switch-label"},"Show modified items only",-1))),re={key:0,class:"mobile-publish-text"},ce=$((()=>(0,i._)("i",{class:"mdi mdi-information"},null,-1))),pe={key:1,class:"no-results"},ue={key:2,class:"no-files-message"},ve=(0,i.aZ)({__name:"appItemsTable",props:{screenType:null,maxHeight:null,hideVersionInfo:{type:Boolean},checkedPageIds:null,versionType:null,moduleId:null,searchable:{type:Boolean},syncPublishTargets:{type:Function},disabled:{type:Boolean},title:null},emits:["getItem"],setup(e,{emit:n}){const v=e,m=s.nC.resolve(c.J),h=s.nC.resolve(p.B),f=s.nC.resolve(d.u),y=s.nC.resolve(r.y),b=s.nC.resolve(O.w),g=s.nC.resolve(W._),k=s.nC.resolve(Y.M),x=(0,a.iH)([]),w=(0,a.iH)([]),T=(0,a.iH)(""),S=(0,a.iH)(),C=(0,i.Fl)((()=>ve("publish"))),D=(0,i.Fl)((()=>ve("checkin"))),I=(0,a.iH)(),F=(0,a.iH)(),E=(0,a.iH)(),U=(0,i.Fl)((()=>Z.value)),_=(0,a.iH)(0),z=(0,i.Fl)((()=>x.value.filter((e=>!e.children)).length)),M=(0,i.Fl)((()=>z.value==_.value||!(_.value>0)&&void 0)),B=(0,a.iH)({}),P=(0,a.iH)(!1),V=(0,i.Fl)((()=>P.value?"mdi-expand-all":"mdi-collapse-all"));let Z=(0,a.iH)(!1);const A=(0,i.Fl)((()=>!x.value.some((e=>!e.children&&j.value.has(e.id))))),j=(0,i.Fl)((()=>{if("BulkSave"!==v.screenType||!0!==Z.value)return new Set(x.value.map((e=>e.id)));const e=new Set;return x.value.forEach((n=>{if((e=>"module"!==e.type&&"folder"!==e.type)(n)&&(e=>!0===(null==e?void 0:e.isModified)||!0===(null==e?void 0:e.modified))(n))for(let t=n;t;t=t.parent)e.add(t.id)})),e})),q={Export:"480px",Deploy:"320px",BulkSave:"200px",Release:"300px"};function $(){if(T.value.trim()){const e=T.value.toLowerCase().trim();w.value=x.value.filter((n=>n.name.toLowerCase().includes(e)))}else w.value=x.value}function ve(e){if(!S.value)return new Map;const n=new Map;for(const[t,i]of S.value.entries()){const o=i.filter((n=>n.historyType===e));o&&o.length>0&&n.set(t,o)}return n}function me(e){Z.value=e,localStorage.setItem("itemsTableSwitchState",String(e))}function he({newItem:e}){const n="module"===e.type||"folder"===e.type;("Stop Working"!==v.screenType||n||e.isCheckedOut)&&("BulkSave"!==v.screenType||!e.isUnmodifiableTotal&&e.isCheckedOut)&&x.value.push(e)}function fe(){const e=(n,t)=>{var i,o,l,a,s,d,r,c,p,u,h,f,y,b,k,x,w;const T=n.externalData;if("application"==T.objectType)throw new Error("unexpected item type");let S,C=g.getFullPath(T,"self").split("/").length-1;switch(T.objectType){case"folder":S={id:T.ID,name:T.name,type:"folder",collapsed:!1,level:C,children:null===(i=n.children)||void 0===i?void 0:i.map((n=>e(n,{ownerModule:t.ownerModule}))),isCheckedOut:!0,path:T.path},null===(o=S.children)||void 0===o||o.forEach((e=>e.parent=S)),_e(S,!1);break;case"model":if(t.ownerModule)if(S={id:T.ID,name:T.name,type:T.modelType,level:C},t.ownerModule.isImportedModule){const e=null===(d=t.ownerModule.relatedModelHistories)||void 0===d?void 0:d.find((e=>e.modelID==T.ID));S={...S,checked:"Stop Working"!=v.screenType&&("OnlyQjson"==v.screenType?v.checkedPageIds&&be(T.ID,v.checkedPageIds):!!Ie(T)||T.isUnmodifiableTotal),disabled:null!==(r=v.disabled)&&void 0!==r&&r,version:null!==(c=null==e?void 0:e.version)&&void 0!==c?c:T.version,ownerName:T.owner.name,ownerType:T.owner.objectType,path:"appSettings"==T.usageType||"appAssetList"==T.usageType?"/":T.path,isUnmodifiableTotal:T.isUnmodifiableTotal,isCheckedOut:T.checkedOut,imported:!!e||"fromOuterOrg",isModified:!1,usageType:null==T?void 0:T.usageType}}else{const e=ke(T);S={...S,checked:"Stop Working"!=v.screenType&&("BulkSave"===v.screenType?!!(null===(l=T.modified)||void 0===l?void 0:l.model):"OnlyQjson"===v.screenType?v.checkedPageIds&&be(T.ID,v.checkedPageIds):!!(e&&"appSettings"!=T.usageType||Ie(T))||T.isUnmodifiableTotal),disabled:null!==(a=v.disabled)&&void 0!==a?a:!(["OnlyQjson","Stop Working","BulkSave"].includes(v.screenType)||e&&"appSettings"!=T.usageType||v.moduleId||"appSettings"!=T.usageType||"css"==T.modelType||"container"==T.modelType||T.isUnmodifiableTotal),version:!t.ownerModule.isImportedModule&&T.isUnmodifiableTotal?"latest":e,ownerName:T.owner.name,ownerType:T.owner.objectType,path:"appSettings"==T.usageType||"appAssetList"==T.usageType?"/":T.path,isUnmodifiableTotal:T.isUnmodifiableTotal,isCheckedOut:T.checkedOut,nextVersionPreview:"BulkSave"==v.screenType&&v.versionType&&"latest"!==e?xe(e||void 0,v.versionType):void 0,isModified:!!(null===(s=T.modified)||void 0===s?void 0:s.model),usageType:null==T?void 0:T.usageType}}else{const e=ke(T);S={id:T.ID,name:T.name,checked:"Stop Working"!=v.screenType&&("BulkSave"===v.screenType?!!(null===(p=T.modified)||void 0===p?void 0:p.model):"OnlyQjson"===v.screenType?v.checkedPageIds&&be(T.ID,v.checkedPageIds):!!(e&&"appSettings"!=T.usageType||Ie(T))||T.isUnmodifiableTotal),disabled:null!==(u=v.disabled)&&void 0!==u?u:!(["OnlyQjson","Stop Working","BulkSave"].includes(v.screenType)||e&&"appSettings"!=T.usageType||"appSettings"!=T.usageType||"css"==T.modelType||"container"==T.modelType||T.isUnmodifiableTotal),type:T.modelType,version:T.isUnmodifiableTotal?"latest":e,ownerName:T.owner.name,ownerType:T.owner.objectType,level:C,path:"appSettings"==T.usageType||"appAssetList"==T.usageType?"/":T.path,isUnmodifiableTotal:T.isUnmodifiableTotal,isCheckedOut:T.checkedOut,nextVersionPreview:"BulkSave"==v.screenType&&v.versionType&&"latest"!==e?xe(e||void 0,v.versionType):void 0,isModified:!!(null===(h=T.modified)||void 0===h?void 0:h.model),usageType:null==T?void 0:T.usageType}}break;case"module":const g=Fe(T),D=null===(f=T.relatedApplications.find((e=>e.applicationID==m.studio.appId)))||void 0===f?void 0:f.importedVersion,F=g?null===(k=null===(b=null===(y=I.value)||void 0===y?void 0:y.get(T.ID))||void 0===b?void 0:b.find((e=>e.version==D)))||void 0===k?void 0:k.relatedModelHistories:void 0;S={id:T.ID,collapsed:!1,name:T.name,type:"module",imported:g,version:D,isUnmodifiableTotal:g,isCheckedOut:!g,children:null===(x=n.children)||void 0===x?void 0:x.map((n=>e(n,{ownerModule:{isImportedModule:g,moduleVersion:D,relatedModelHistories:F}})))},null===(w=S.children)||void 0===w||w.forEach((e=>e.parent=S)),_e(S,!1)}return S},n=e=>{var t;he({newItem:e}),null===(t=e.children)||void 0===t||t.forEach(n)};return{converter:e,traverser:n}}function ye(){"Release"==v.screenType&&v.moduleId?function(e){const n=b.cloneFileExplorerTreeView({displayFilterer:(n,t)=>{switch(n.objectType){case"application":return!1;case"module":return v.moduleId==n.ID;case"folder":return n.owner.ID==e&&t;case"model":return n.owner.ID==e}}}),{converter:t,traverser:i}=fe(),o=n.map((e=>t(e,{})));null==o||o.forEach(i)}(v.moduleId):function(){var e;if("OnlyQjson"!=v.screenType){const n=m.studio.items.find((e=>"App Settings"==e.name)),t=ke(n),i=n&&{id:n.ID,name:n.name,checked:"Stop Working"!=v.screenType&&("BulkSave"!=v.screenType||ge(n)),disabled:null!==(e=v.disabled)&&void 0!==e&&e,type:n.modelType,version:t||"latest",isUnmodifiableTotal:n.isUnmodifiableTotal,isCheckedOut:n.checkedOut,nextVersionPreview:"BulkSave"==v.screenType&&v.versionType&&t?xe(t,v.versionType):void 0,isModified:ge(n)};n&&i&&he({newItem:i})}const n=b.cloneFileExplorerTreeView({displayFilterer:(e,n)=>{switch(e.ID){case R.oA.uiAssetListID:case R.oA.uiSettingsID:return!1}switch(e.objectType){case"application":return!1;case"module":case"model":return!0;case"folder":return n}}}),{converter:t,traverser:i}=fe();n.map((e=>t(e,{}))).forEach(i)}(),function(){var e;for(let n=x.value.length-1;n>=0;n--){const t=x.value[n];if("module"===t.type||"folder"===t.type){const i=(null!==(e=t.children)&&void 0!==e?e:[]).map((e=>e.id)),o=x.value.some((e=>i.includes(e.id)));o||x.value.splice(n,1)}}}()}function be(e,n){return n.some((n=>n==e))}function ge(e){var n;return"model"===(null==e?void 0:e.objectType)&&!0===(null===(n=e.modified)||void 0===n?void 0:n.model)}function ke(e){return k.getItemMaxVersion(e,C.value,D.value,v.screenType)}function xe(e,n){if(!e||"latest"===e)return"major"===n?"1.0":"0.1";const t=e.split(".").map((e=>parseInt(e)));let i=t[0]||0,o=t[1]||0;return"major"===n?(i++,o=0):"minor"===n&&o++,`${i}.${o}`}function we(e,n){var t,i;if(e.disabled||e.checked)return;e.checked=!0,e.parent&&_e(e.parent,n);const o=null===(i=null===(t=E.value)||void 0===t?void 0:t.get(e.id))||void 0===i?void 0:i.dependedTo;o&&o.forEach((e=>{x.value.forEach((t=>{var i;if("module"==t.type&&!t.allChildChecked){const o=null===(i=t.children)||void 0===i?void 0:i.find((n=>!n.checked&&n.id==e));return o&&we(o,n),void _e(t,n)}t.checked||t.id!=e||(we(t,n),t.parent&&_e(t.parent,n))}))}))}function Te(e,n){var t,i,o,l,a,s;const d=null===(t=E.value)||void 0===t?void 0:t.get(n.id);null===(i=E.value)||void 0===i||i.set(n.id,{dependedBy:(null==d?void 0:d.dependedBy)||Array(),dependedTo:(null===(s=null===(a=null===(l=null===(o=C.value)||void 0===o?void 0:o.get(n.id))||void 0===l?void 0:l.find((n=>n.version==e)))||void 0===a?void 0:a.dependentModels)||void 0===s?void 0:s.map((e=>e.modelId)))||Array()})}function Se(e){var n,o;if("latest"==e.version||!e.version)return;const l={id:e.id,state:{checked:e.checked},text:e.name,type:e.type,version:e.version},a=null===(n=C.value)||void 0===n?void 0:n.has(e.id),s={clickedNode:l,cb:n=>{e.version=n,Te(n,e),"BulkSave"==v.screenType&&v.versionType&&"latest"!==n?(e.nextVersionPreview=xe(n,v.versionType),x.value=[]):e.nextVersionPreview=void 0,l.state.checked&&De(e,void 0,!0)}};a&&(s.versions=null===(o=C.value)||void 0===o?void 0:o.get(e.id)),f.showDialog((0,i.RC)((()=>t.e(7045).then(t.bind(t,10531)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},s)}function Ce(e){var n;"latest"!=e.version&&e.version&&f.showDialog((0,i.RC)((()=>t.e(6005).then(t.bind(t,45872)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},{module:{ID:e.id},versions:null===(n=I.value)||void 0===n?void 0:n.get(e.id),cb:n=>{var t;e.version=n.version,null===(t=e.children)||void 0===t||t.forEach((e=>{const t=n.relatedModelHistories.find((n=>n.modelID==e.id));e.version=null==t?void 0:t.version,Te(null==t?void 0:t.version,e)}))}})}function De(e,t,i){["module","folder"].includes(e.type)||(null!=t&&t!=e.checked&&(e.checked?_.value++:_.value--),n("getItem",e,i))}function Ie(e){if("css"==e.modelType||"Release"==v.screenType&&v.moduleId)return!0;const n=m.studio.items.filter((e=>"model"==e.objectType&&"appSettings"==e.modelType))[0].modelBody;return!!(n?n[0].model:"").includes(e.ID)}(0,i.bv)((async()=>{await y.execute((async()=>{if(await Promise.all([y.executeUseCase(N.q,{}).then((e=>S.value=e)),y.executeUseCase(Q.y,{}).then((e=>I.value=e))]),ye(),"BulkSave"===v.screenType){const e=localStorage.getItem("itemsTableSwitchState");Z.value=!!e&&"true"===e}"OnlyQjson"==v.screenType&&(x.value=x.value.filter((e=>"qjson"==e.type&&"appSettings"!=e.usageType||"folder"==e.type||"module"==e.type))),F.value=m.studio.items.find((e=>{var n;return null===(n=e.additionals)||void 0===n?void 0:n.isRootPage})),function(){const e=n=>{n.children&&n.children.length>0?n.children.forEach(e):De(n)};x.value.filter((e=>!e.parent)).forEach(e)}(),$(),_.value=x.value.filter((e=>!e.children&&e.checked)).length,"Deploy"==v.screenType&&v.syncPublishTargets&&v.syncPublishTargets()}),{loading:!0})})),(0,i.YP)([T,x],(()=>{$()}),{deep:!0}),(0,i.YP)((()=>v.versionType),((e,n)=>{"BulkSave"==v.screenType&&e!==n&&(x.value=[],ye())})),(0,i.YP)((()=>v.disabled),((e,n)=>{"OnlyQjson"==v.screenType&&e!==n&&(x.value=[],ye(),x.value=x.value.filter((e=>"qjson"==e.type&&"appSettings"!=e.usageType||"folder"==e.type||"module"==e.type)))}));const Fe=e=>g.isModuleImported(e);function Ee(e,n,t){var i;e.collapsed=void 0!==t?t:!e.collapsed,n&&(null===(i=e.children)||void 0===i||i.forEach((t=>{const i=document.getElementById(v.screenType+"-model-select-"+t.id);i&&(i.style.display=e.collapsed?"none":"block",Ee(t,n,e.collapsed))})))}function Ue(e){var n;if(e.disabled||function(e){var n,t;if("BulkSave"==v.screenType){if("appSettings"===e.type)return!1;const n=h.findModel(e.id);if(n&&Ie(n))return!1;if("appAssetList"===(null==n?void 0:n.usageType))return!1}const i=null===(t=null===(n=E.value)||void 0===n?void 0:n.get(e.id))||void 0===t?void 0:t.dependedBy;return!!i&&i.some((e=>x.value.some((n=>{var t;return"module"==n.type&&n.anyChildChecked?null===(t=n.children)||void 0===t?void 0:t.some((n=>n.checked&&n.id==e)):n.id==e&&n.checked}))))}(e))return;const t=e.checked,i=[],o=new Set,l=(e,n)=>{var t,a;if(!e.disabled)if(n)if("module"===e.type||"folder"===e.type){const n=e.checked;!0!==n&&(e.checked=!0,i.push({node:e,prev:n}),e.parent&&o.add(e.parent)),null===(t=e.children)||void 0===t||t.forEach((e=>l(e,!0)))}else{const n=e.checked;n||(we(e,!0),e.checked!==n&&(i.push({node:e,prev:n}),e.parent&&o.add(e.parent)))}else{const n=e.checked;!1!==n&&(e.checked=!1,i.push({node:e,prev:n}),e.parent&&o.add(e.parent)),null===(a=e.children)||void 0===a||a.forEach((e=>l(e,!1)))}};if("module"!==e.type&&"folder"!==e.type)e.checked?(e.checked=!1,_e(e.parent,!0),ze(e,t)):(we(e,!0),ze(e,t));else{const a=(null===(n=e.children)||void 0===n?void 0:n.filter((e=>!e.disabled)))||[];if(a.length>0){if(e.allChildChecked){if(a.forEach((e=>l(e,!1))),e.checked){const n=e.checked;e.checked=!1,i.push({node:e,prev:n}),e.parent&&o.add(e.parent)}}else if(a.forEach((e=>l(e,!0))),!e.checked){const n=e.checked;e.checked=!0,i.push({node:e,prev:n}),e.parent&&o.add(e.parent)}for(const{node:e,prev:n}of i)ze(e,n);o.forEach((e=>_e(e,!0)))}else e.checked=!e.checked,e.allChildChecked=!1,ze(e,t)}"Deploy"==v.screenType&&v.syncPublishTargets&&v.syncPublishTargets()}function _e(e,n){if(!e||!e.children||0===e.children.length)return;const t=e.children.filter((e=>!e.disabled)),i=t.length>0&&t.every((e=>e.checked&&(!e.children||e.allChildChecked))),o=t.some((e=>e.checked||!!e.children&&e.anyChildChecked));e.allChildChecked=i,e.anyChildChecked=o,e.checked=!!i,!e.anyChildChecked&&e.checked&&(e.checked=!1,ze(e,!0)),n&&e.parent&&_e(e.parent,!0)}function ze(e,n){De(e,n,!0);const t=B.value[e.id];if(t&&"function"==typeof t.handleModuleCountCheckboxEvent)try{t.handleModuleCountCheckboxEvent()}catch(e){console.warn("external component handleModuleCountCheckboxEvent error:",e)}}return(e,n)=>((0,i.wg)(),(0,i.iD)("div",X,[v.searchable?((0,i.wg)(),(0,i.iD)("div",J,[(0,i._)("div",K,[G,(0,i.wy)((0,i._)("input",{type:"text",class:"search-input",placeholder:"Search files...","onUpdate:modelValue":n[0]||(n[0]=e=>T.value=e)},null,512),[[o.vModelText,T.value]]),T.value?((0,i.wg)(),(0,i.iD)("i",{key:0,class:"mdi mdi-close clear-icon",onClick:n[1]||(n[1]=e=>T.value="")})):(0,i.kq)("v-if",!0)]),v.title?((0,i.wg)(),(0,i.iD)("div",ee,(0,l.toDisplayString)(v.title),1)):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0),(0,i._)("div",ne,[(0,a.SU)(z)>0?((0,i.wg)(),(0,i.iD)("div",te,[(0,i.Wm)(u.Z,{class:(0,l.normalizeClass)(["modules-selected-checkbox","Deploy"==v.screenType?"deploy":""]),minus:0==(0,a.SU)(M),check:1==(0,a.SU)(M),onClick:n[2]||(n[2]=e=>function(e){const n=new Set,t=[],i=o=>{var l;if(!j.value.has(o.id)||o.disabled)return;const a=o.checked;a!==e&&(o.checked=e,t.push({node:o,prev:a}),o.parent&&n.add(o.parent)),null===(l=o.children)||void 0===l||l.forEach((e=>i(e)))},o=x.value.filter((e=>!e.disabled&&!e.parent&&j.value.has(e.id)));for(const e of o)i(e);for(const{node:e,prev:n}of t)ze(e,n);n.forEach((e=>_e(e,!0))),_.value=x.value.reduce(((e,n)=>e+(!n.children&&n.checked?1:0)),0),"Deploy"==v.screenType&&v.syncPublishTargets&&v.syncPublishTargets()}(!(0,a.SU)(M)))},null,8,["class","minus","check"]),(0,i._)("div",{class:(0,l.normalizeClass)(["modules-selected-text","Deploy"==v.screenType?"deploy":""])},[(0,i._)("span",ie,(0,l.toDisplayString)(_.value),1),(0,i.Uk)(" of "),(0,i._)("span",oe,(0,l.toDisplayString)((0,a.SU)(z)),1),(0,i.Uk)(" items selected ")],2)])):(0,i.kq)("v-if",!0),(0,a.SU)(z)>0?((0,i.wg)(),(0,i.iD)("div",le,[(0,i._)("i",{class:(0,l.normalizeClass)(["mdi",(0,a.SU)(V)," collapse-icon"]),onClick:n[3]||(n[3]=e=>(P.value=!P.value,void x.value.forEach((e=>{Ee(e,!0,P.value)})))),title:"mdi-expand-all"==(0,a.SU)(V)?"Expand All":"Collapse All"},null,10,ae),"BulkSave"===v.screenType?((0,i.wg)(),(0,i.iD)("div",se,[(0,i.Wm)(L.Z,{onChange:me,value:(0,a.SU)(U)},null,8,["value"]),de])):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0)]),(0,i._)("div",{class:"modules-datatable",style:(0,l.normalizeStyle)({maxHeight:v.maxHeight||q[v.screenType]||"none"})},["BulkSave"===v.screenType&&(0,a.SU)(A)?((0,i.wg)(),(0,i.iD)("div",re,[ce,(0,i.Uk)(" No modified items to show. ")])):(0,i.kq)("v-if",!0),0===w.value.length&&T.value.trim()?((0,i.wg)(),(0,i.iD)("div",pe," No files match your search query. ")):(0,i.kq)("v-if",!0),"Stop Working"!=v.screenType||0!==w.value.length||T.value.trim()?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:3},(0,i.Ko)(w.value,(e=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(H,{handleItemCheckEvent:Ue,startScreen:F.value,versionDialog:Se,handleCollapse:Ee,item:e,moduleVersionDialog:Ce,hideVersionInfo:v.hideVersionInfo,usedScreenType:v.screenType,ref_for:!0,ref:n=>{return i=n,void((t=e.id)&&(B.value[t]=i));var t,i}},null,8,["startScreen","item","hideVersionInfo","usedScreenType"])])),[[o.vShow,"BulkSave"!==v.screenType||(0,a.SU)(j).has(e.id)]]))),128)):((0,i.wg)(),(0,i.iD)("div",ue," There are no files to stop working on. "))],4)]))}});var me=t(91868),he={};he.styleTagTransform=Z(),he.setAttributes=M(),he.insert=_().bind(null,"head"),he.domAPI=E(),he.insertStyleElement=P(),I()(me.Z,he),me.Z&&me.Z.locals&&me.Z.locals;const fe=(0,q.Z)(ve,[["__scopeId","data-v-27729182"]])},72549:(e,n,t)=>{t.d(n,{Z:()=>S});var i=t(71093),o=t(66190);const l={key:0,class:"switch-text"},a={class:"switch"},s=["checked","disabled"],d=(e=>((0,i.dD)("data-v-c533e93c"),e=e(),(0,i.Cn)(),e))((()=>(0,i._)("span",{class:"slider round"},null,-1))),r={__name:"switch",props:{label:{type:String,default:""},labelPosition:{type:String,default:"left",validator:e=>["left","right"].includes(e)},className:{type:String,default:""},disabled:{type:Boolean,default:!1},value:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:n}){function t(e){n("change",e.target.checked)}return(n,r)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.normalizeClass)(["switch-flow",e.className,`label-${e.labelPosition}`])},[e.label?((0,i.wg)(),(0,i.iD)("label",l,(0,o.toDisplayString)(e.label),1)):(0,i.kq)("v-if",!0),(0,i._)("label",a,[(0,i._)("input",{type:"checkbox",class:"w-100",checked:e.value,disabled:e.disabled,onChange:t},null,40,s),d])],2))}};var c=t(17450),p=t.n(c),u=t(29530),v=t.n(u),m=t(16199),h=t.n(m),f=t(40458),y=t.n(f),b=t(62916),g=t.n(b),k=t(92165),x=t.n(k),w=t(45477),T={};T.styleTagTransform=x(),T.setAttributes=y(),T.insert=h().bind(null,"head"),T.domAPI=v(),T.insertStyleElement=g(),p()(w.Z,T),w.Z&&w.Z.locals&&w.Z.locals;const S=(0,t(32525).Z)(r,[["__scopeId","data-v-c533e93c"]])},74381:(e,n,t)=>{t.d(n,{Z:()=>D});var i=t(71093),o=t(66190),l=t(46233),a=t(73843);const s={class:"info-text"},d=["innerHTML"],r={key:0,class:"text-area"},c={class:"icon-tooltip"},p=(0,i.aZ)({__name:"studioInfoComp",props:{isSlot:{type:Boolean},infoText:null,textAreaValue:null,customIconClass:null,customStyle:null},setup(e){const n=e,t=(0,a.iH)(!1);return(e,a)=>{var p,u,v,m;return(0,i.wg)(),(0,i.iD)("div",{class:"info-div",style:(0,o.normalizeStyle)({...n.customStyle,padding:n.textAreaValue?"12px":"5px 12px",background:(null===(p=n.customStyle)||void 0===p?void 0:p.backgroundColor)||"#F5F5FA"})},[(0,i._)("div",s,[(0,i._)("i",{class:(0,o.normalizeClass)(n.customIconClass?n.customIconClass:"mdi mdi-information"),style:(0,o.normalizeStyle)({color:null===(u=n.customStyle)||void 0===u?void 0:u.iconColor,fontSize:null===(v=n.customStyle)||void 0===v?void 0:v.iconSize})},null,6),(0,i._)("span",{style:(0,o.normalizeStyle)({color:(null===(m=n.customStyle)||void 0===m?void 0:m.color)||"#757575"})},[n.isSlot?(0,i.WI)(e.$slots,"default",{key:0},(()=>[(0,i.Uk)((0,o.toDisplayString)(n.infoText),1)])):((0,i.wg)(),(0,i.iD)("span",{key:1,innerHTML:n.infoText},null,8,d))],4)]),n.textAreaValue?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Uk)((0,o.toDisplayString)(n.textAreaValue)+" ",1),(0,i._)("i",{class:"mdi mdi-content-copy copy-icon",onClick:a[0]||(a[0]=e=>{n.textAreaValue&&(navigator.clipboard.writeText(n.textAreaValue),t.value=!0,setTimeout((()=>{t.value=!1}),2e3))})}),(0,i.wy)((0,i._)("span",c,"Text copied!",512),[[l.vShow,t.value]])])):(0,i.kq)("v-if",!0)],4)}}});var u=t(17450),v=t.n(u),m=t(29530),h=t.n(m),f=t(16199),y=t.n(f),b=t(40458),g=t.n(b),k=t(62916),x=t.n(k),w=t(92165),T=t.n(w),S=t(95790),C={};C.styleTagTransform=T(),C.setAttributes=g(),C.insert=y().bind(null,"head"),C.domAPI=h(),C.insertStyleElement=x(),v()(S.Z,C),S.Z&&S.Z.locals&&S.Z.locals;const D=(0,t(32525).Z)(p,[["__scopeId","data-v-61306b24"]])}}]);