{"version":3,"file":"3349.js","mappings":"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","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?4656","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?e556","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?d26f","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?68d6","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?50ee","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\nul[data-v-f9d9e2ee] {\\n  list-style-type: none;\\n}\\n.new-module-text .mdi[data-v-f9d9e2ee] {\\n  font-size: 24px;\\n  margin-right: 10px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/moveItem.vue\"],\"names\":[],\"mappings\":\";AAuHA;EACE,qBAAqB;AACvB;AAEA;EACE,eAAe;EACf,kBAAkB;AACpB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { container } from '../../../../domain/core/diContainer';\\nimport { IModel, IModule } from '../../../../domain/model/models';\\nimport { IMoveItemProps } from '../../../../domain/presentation/dialogs/IMoveItemProps';\\nimport { ITreeItem, ITreeView } from '../../../../domain/presentation/ITreeView';\\nimport { IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\\n\\ninterface IMoveItemInline extends IMoveItemProps {\\n  id: string;\\n  name: string;\\n  description?: string;\\n  type: \\\"module\\\" | \\\"model\\\";\\n  prefix?: string;\\n  treeItems: Array<ITreeItem>;\\n}\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst props = defineProps<IMoveItemInline>();\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst emit = defineEmits([\\\"close\\\"]);\\nfunction move(targetFolderPath: Array<String>, targetFolderId: String) {\\n  const moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);\\n  const updatedPath: Array<String> = [];\\n  updatedPath.push(...targetFolderPath, targetFolderId);\\n        \\n  executor.execute(async () => {\\n    const selectedItemId = props.id;\\n    let selectedItem = modelItems.find(item => item.ID == selectedItemId)\\n    if(selectedItem && selectedItem.modelType == \\\"placeholder\\\") {\\n      moveUseCase.moveFolder(selectedItem, updatedPath, selectedItem.ID);\\n    }\\n    else if(selectedItem) {\\n      moveUseCase.moveModel(selectedItem, updatedPath, selectedItem.ID);\\n    }\\n    else return;\\n    emit(\\\"close\\\");\\n  }, { loading: true });\\n}\\nlet actions: { path: Array<String>; icon: string; label: string; indent: number; id: String }[] = []\\nactions.push({ path: [], icon: \\\"mdi mdi-vector-polyline\\\", label: viewModel.studio.appName, indent: 0, id: viewModel.studio.appId })\\nlet treeItems = viewModel.studio.items;\\nconst modelItems = treeItems.filter(item => item.objectType === \\\"model\\\") as IModel[];\\nconst moduleItems = treeItems.filter(item => item.objectType === \\\"module\\\") as IModule[];\\n\\nconsole.log(\\\"ooops\\\", treeItems)\\n\\n\\n\\nfunction getSortedItems(modelItems: IModel[]) {\\n  modelItems.sort((a, b) => {\\n    let aPath = a.path ?? [];\\n    let bPath = b.path ?? [];\\n    if (aPath.length !== bPath.length) {\\n      return aPath.length - bPath.length;\\n    }\\n\\n    return 0;\\n  });\\n\\n  function getChildren(parentId: string) {\\n    return modelItems.filter(item => (item.path ? item.path[item.path.length - 1] === parentId.toString() : false) || (item.parent ? item.parent.ID == parentId : false));\\n  }\\n\\n  function sortItems(parentId: string) {\\n    const result: IModel[] = [];\\n\\n    const directChildren = getChildren(parentId);\\n    for (const child of directChildren) {\\n      result.push(child);\\n      result.push(...sortItems(child.ID));\\n    }\\n\\n    return result;\\n  }\\n\\n  return modelItems.filter(item => item.path ? item.path.length === 0 : true)\\n    .reduce<IModel[]>((acc, rootItem) => {\\n      acc.push(rootItem);\\n      acc.push(...sortItems(rootItem.ID));\\n      return acc;\\n    }, []);\\n}\\nconsole.log(\\\"ooops1\\\", getSortedItems(modelItems))\\nconst sortedItems = getSortedItems(modelItems);\\n\\nfor (let modelItem of sortedItems) {\\n  if (modelItem.modelType == \\\"placeholder\\\") {\\n    let indentCalculated = modelItem.path ? (modelItem.path.length * 20 + 20) : 20;\\n    actions.push({ path: modelItem.path ?? [], icon: \\\"mdi mdi-folder-open\\\", label: modelItem.name, indent: indentCalculated, id: modelItem.ID })\\n  }\\n}\\nfor (let moduleItem of moduleItems) {\\n  actions.push({ path: moduleItem.path ?? [], icon: \\\"mdi mdi-puzzle\\\", label: moduleItem.name, indent: 20, id: moduleItem.ID })\\n}\\n\\n</script> \\n\\n<template>\\n  <div class=\\\"moveDiv\\\">\\n    <div id=\\\"content-area\\\" class=\\\"popover__content\\\">\\n      <div style=\\\"height: 100%\\\" class=\\\"errorDiv\\\">\\n        <ul style=\\\"padding-left: 0px; margin-bottom: 0px\\\">\\n          <li v-for=\\\"action in actions\\\" :key=\\\"action.label\\\" @click=\\\"move(action.path, action.id)\\\" style=\\\"padding-top: 1px\\\"\\n            :style=\\\"{ 'padding-left': action.indent + 'px' }\\\">\\n            <div class=\\\"createLi\\\">\\n              <p class=\\\"new-module-text\\\">\\n                <i :class=\\\"action.icon\\\" style=\\\"margin-right: 10px;\\\"></i>{{ action.label }}\\n              </p>\\n            </div>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n\\n<style scoped>\\nul {\\n  list-style-type: none;\\n}\\n\\n.new-module-text .mdi {\\n  font-size: 24px;\\n  margin-right: 10px;\\n}\\n</style>\\n\\n\\n \\n\\n<style scoped>\\n.new-module-text {\\n  margin: 0;\\n  color: #151233;\\n  font-weight: 400;\\n  font-size: 14px;\\n  letter-spacing: 0px;\\n  opacity: 1;\\n  font-family: \\\"ROBOTO\\\";\\n}\\n\\n.createLi {\\n  cursor: pointer;\\n}\\n\\n.moveDiv {\\n  margin-top: 5px;\\n  margin-left: 20px;\\n  margin-right: 20px;\\n  margin-bottom: 10px;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.new-module-text[data-v-f9d9e2ee] {\\n  margin: 0;\\n  color: #151233;\\n  font-weight: 400;\\n  font-size: 14px;\\n  letter-spacing: 0px;\\n  opacity: 1;\\n  font-family: \\\"ROBOTO\\\";\\n}\\n.createLi[data-v-f9d9e2ee] {\\n  cursor: pointer;\\n}\\n.moveDiv[data-v-f9d9e2ee] {\\n  margin-top: 5px;\\n  margin-left: 20px;\\n  margin-right: 20px;\\n  margin-bottom: 10px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/moveItem.vue\"],\"names\":[],\"mappings\":\";AAqIA;EACE,SAAS;EACT,cAAc;EACd,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,UAAU;EACV,qBAAqB;AACvB;AAEA;EACE,eAAe;AACjB;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;AACrB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { container } from '../../../../domain/core/diContainer';\\nimport { IModel, IModule } from '../../../../domain/model/models';\\nimport { IMoveItemProps } from '../../../../domain/presentation/dialogs/IMoveItemProps';\\nimport { ITreeItem, ITreeView } from '../../../../domain/presentation/ITreeView';\\nimport { IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\\n\\ninterface IMoveItemInline extends IMoveItemProps {\\n  id: string;\\n  name: string;\\n  description?: string;\\n  type: \\\"module\\\" | \\\"model\\\";\\n  prefix?: string;\\n  treeItems: Array<ITreeItem>;\\n}\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst props = defineProps<IMoveItemInline>();\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst emit = defineEmits([\\\"close\\\"]);\\nfunction move(targetFolderPath: Array<String>, targetFolderId: String) {\\n  const moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);\\n  const updatedPath: Array<String> = [];\\n  updatedPath.push(...targetFolderPath, targetFolderId);\\n        \\n  executor.execute(async () => {\\n    const selectedItemId = props.id;\\n    let selectedItem = modelItems.find(item => item.ID == selectedItemId)\\n    if(selectedItem && selectedItem.modelType == \\\"placeholder\\\") {\\n      moveUseCase.moveFolder(selectedItem, updatedPath, selectedItem.ID);\\n    }\\n    else if(selectedItem) {\\n      moveUseCase.moveModel(selectedItem, updatedPath, selectedItem.ID);\\n    }\\n    else return;\\n    emit(\\\"close\\\");\\n  }, { loading: true });\\n}\\nlet actions: { path: Array<String>; icon: string; label: string; indent: number; id: String }[] = []\\nactions.push({ path: [], icon: \\\"mdi mdi-vector-polyline\\\", label: viewModel.studio.appName, indent: 0, id: viewModel.studio.appId })\\nlet treeItems = viewModel.studio.items;\\nconst modelItems = treeItems.filter(item => item.objectType === \\\"model\\\") as IModel[];\\nconst moduleItems = treeItems.filter(item => item.objectType === \\\"module\\\") as IModule[];\\n\\nconsole.log(\\\"ooops\\\", treeItems)\\n\\n\\n\\nfunction getSortedItems(modelItems: IModel[]) {\\n  modelItems.sort((a, b) => {\\n    let aPath = a.path ?? [];\\n    let bPath = b.path ?? [];\\n    if (aPath.length !== bPath.length) {\\n      return aPath.length - bPath.length;\\n    }\\n\\n    return 0;\\n  });\\n\\n  function getChildren(parentId: string) {\\n    return modelItems.filter(item => (item.path ? item.path[item.path.length - 1] === parentId.toString() : false) || (item.parent ? item.parent.ID == parentId : false));\\n  }\\n\\n  function sortItems(parentId: string) {\\n    const result: IModel[] = [];\\n\\n    const directChildren = getChildren(parentId);\\n    for (const child of directChildren) {\\n      result.push(child);\\n      result.push(...sortItems(child.ID));\\n    }\\n\\n    return result;\\n  }\\n\\n  return modelItems.filter(item => item.path ? item.path.length === 0 : true)\\n    .reduce<IModel[]>((acc, rootItem) => {\\n      acc.push(rootItem);\\n      acc.push(...sortItems(rootItem.ID));\\n      return acc;\\n    }, []);\\n}\\nconsole.log(\\\"ooops1\\\", getSortedItems(modelItems))\\nconst sortedItems = getSortedItems(modelItems);\\n\\nfor (let modelItem of sortedItems) {\\n  if (modelItem.modelType == \\\"placeholder\\\") {\\n    let indentCalculated = modelItem.path ? (modelItem.path.length * 20 + 20) : 20;\\n    actions.push({ path: modelItem.path ?? [], icon: \\\"mdi mdi-folder-open\\\", label: modelItem.name, indent: indentCalculated, id: modelItem.ID })\\n  }\\n}\\nfor (let moduleItem of moduleItems) {\\n  actions.push({ path: moduleItem.path ?? [], icon: \\\"mdi mdi-puzzle\\\", label: moduleItem.name, indent: 20, id: moduleItem.ID })\\n}\\n\\n</script> \\n\\n<template>\\n  <div class=\\\"moveDiv\\\">\\n    <div id=\\\"content-area\\\" class=\\\"popover__content\\\">\\n      <div style=\\\"height: 100%\\\" class=\\\"errorDiv\\\">\\n        <ul style=\\\"padding-left: 0px; margin-bottom: 0px\\\">\\n          <li v-for=\\\"action in actions\\\" :key=\\\"action.label\\\" @click=\\\"move(action.path, action.id)\\\" style=\\\"padding-top: 1px\\\"\\n            :style=\\\"{ 'padding-left': action.indent + 'px' }\\\">\\n            <div class=\\\"createLi\\\">\\n              <p class=\\\"new-module-text\\\">\\n                <i :class=\\\"action.icon\\\" style=\\\"margin-right: 10px;\\\"></i>{{ action.label }}\\n              </p>\\n            </div>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n\\n<style scoped>\\nul {\\n  list-style-type: none;\\n}\\n\\n.new-module-text .mdi {\\n  font-size: 24px;\\n  margin-right: 10px;\\n}\\n</style>\\n\\n\\n \\n\\n<style scoped>\\n.new-module-text {\\n  margin: 0;\\n  color: #151233;\\n  font-weight: 400;\\n  font-size: 14px;\\n  letter-spacing: 0px;\\n  opacity: 1;\\n  font-family: \\\"ROBOTO\\\";\\n}\\n\\n.createLi {\\n  cursor: pointer;\\n}\\n\\n.moveDiv {\\n  margin-top: 5px;\\n  margin-left: 20px;\\n  margin-right: 20px;\\n  margin-bottom: 10px;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f9d9e2ee\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"moveDiv\" }\nconst _hoisted_2 = {\n  id: \"content-area\",\n  class: \"popover__content\"\n}\nconst _hoisted_3 = {\n  style: {\"height\":\"100%\"},\n  class: \"errorDiv\"\n}\nconst _hoisted_4 = { style: {\"padding-left\":\"0px\",\"margin-bottom\":\"0px\"} }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = { class: \"createLi\" }\nconst _hoisted_7 = { class: \"new-module-text\" }\n\nimport { container } from '../../../../domain/core/diContainer';\nimport { IModel, IModule } from '../../../../domain/model/models';\nimport { IMoveItemProps } from '../../../../domain/presentation/dialogs/IMoveItemProps';\nimport { ITreeItem, ITreeView } from '../../../../domain/presentation/ITreeView';\nimport { IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\n\ninterface IMoveItemInline extends IMoveItemProps {\n  id: string;\n  name: string;\n  description?: string;\n  type: \"module\" | \"model\";\n  prefix?: string;\n  treeItems: Array<ITreeItem>;\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'moveItem',\n  props: {\n    id: null,\n    name: null,\n    description: null,\n    type: null,\n    prefix: null,\n    treeItems: null\n  },\n  emits: [\"close\"],\n  setup(__props: any, { emit }) {\n\nconst props = __props as {\n  id: string;\n  name: string;\n  description?: string;\n  type: \"module\" | \"model\";\n  prefix?: string;\n  treeItems: Array<ITreeItem>;\n};\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\n\nconst viewModel = container.resolve<IViewModel>(IViewModel);\n\nfunction move(targetFolderPath: Array<String>, targetFolderId: String) {\n  const moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);\n  const updatedPath: Array<String> = [];\n  updatedPath.push(...targetFolderPath, targetFolderId);\n        \n  executor.execute(async () => {\n    const selectedItemId = props.id;\n    let selectedItem = modelItems.find(item => item.ID == selectedItemId)\n    if(selectedItem && selectedItem.modelType == \"placeholder\") {\n      moveUseCase.moveFolder(selectedItem, updatedPath, selectedItem.ID);\n    }\n    else if(selectedItem) {\n      moveUseCase.moveModel(selectedItem, updatedPath, selectedItem.ID);\n    }\n    else return;\n    emit(\"close\");\n  }, { loading: true });\n}\nlet actions: { path: Array<String>; icon: string; label: string; indent: number; id: String }[] = []\nactions.push({ path: [], icon: \"mdi mdi-vector-polyline\", label: viewModel.studio.appName, indent: 0, id: viewModel.studio.appId })\nlet treeItems = viewModel.studio.items;\nconst modelItems = treeItems.filter(item => item.objectType === \"model\") as IModel[];\nconst moduleItems = treeItems.filter(item => item.objectType === \"module\") as IModule[];\n\nconsole.log(\"ooops\", treeItems)\n\n\n\nfunction getSortedItems(modelItems: IModel[]) {\n  modelItems.sort((a, b) => {\n    let aPath = a.path ?? [];\n    let bPath = b.path ?? [];\n    if (aPath.length !== bPath.length) {\n      return aPath.length - bPath.length;\n    }\n\n    return 0;\n  });\n\n  function getChildren(parentId: string) {\n    return modelItems.filter(item => (item.path ? item.path[item.path.length - 1] === parentId.toString() : false) || (item.parent ? item.parent.ID == parentId : false));\n  }\n\n  function sortItems(parentId: string) {\n    const result: IModel[] = [];\n\n    const directChildren = getChildren(parentId);\n    for (const child of directChildren) {\n      result.push(child);\n      result.push(...sortItems(child.ID));\n    }\n\n    return result;\n  }\n\n  return modelItems.filter(item => item.path ? item.path.length === 0 : true)\n    .reduce<IModel[]>((acc, rootItem) => {\n      acc.push(rootItem);\n      acc.push(...sortItems(rootItem.ID));\n      return acc;\n    }, []);\n}\nconsole.log(\"ooops1\", getSortedItems(modelItems))\nconst sortedItems = getSortedItems(modelItems);\n\nfor (let modelItem of sortedItems) {\n  if (modelItem.modelType == \"placeholder\") {\n    let indentCalculated = modelItem.path ? (modelItem.path.length * 20 + 20) : 20;\n    actions.push({ path: modelItem.path ?? [], icon: \"mdi mdi-folder-open\", label: modelItem.name, indent: indentCalculated, id: modelItem.ID })\n  }\n}\nfor (let moduleItem of moduleItems) {\n  actions.push({ path: moduleItem.path ?? [], icon: \"mdi mdi-puzzle\", label: moduleItem.name, indent: 20, id: moduleItem.ID })\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"ul\", _hoisted_4, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(actions), (action) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              key: action.label,\n              onClick: ($event: any) => (move(action.path, action.id)),\n              style: _normalizeStyle([{\"padding-top\":\"1px\"}, { 'padding-left': action.indent + 'px' }])\n            }, [\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createElementVNode(\"p\", _hoisted_7, [\n                  _createElementVNode(\"i\", {\n                    class: _normalizeClass(action.icon),\n                    style: {\"margin-right\":\"10px\"}\n                  }, null, 2 /* CLASS */),\n                  _createTextVNode(_toDisplayString(action.label), 1 /* TEXT */)\n                ])\n              ])\n            ], 12 /* STYLE, PROPS */, _hoisted_5))\n          }), 128 /* KEYED_FRAGMENT */))\n        ])\n      ])\n    ])\n  ]))\n}\n}\n\n})","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=0&id=f9d9e2ee&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=0&id=f9d9e2ee&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=1&id=f9d9e2ee&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=1&id=f9d9e2ee&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./moveItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./moveItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./moveItem.vue?vue&type=style&index=0&id=f9d9e2ee&scoped=true&lang=css\"\nimport \"./moveItem.vue?vue&type=style&index=1&id=f9d9e2ee&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/studio/studio/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f9d9e2ee\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","_hoisted_1","class","_hoisted_2","_hoisted_3","style","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","__name","props","name","description","type","prefix","treeItems","emits","setup","__props","emit","executor","resolve","IUseCaseExecutor","viewModel","IViewModel","actions","path","icon","label","studio","appName","indent","appId","items","modelItems","filter","item","objectType","moduleItems","getSortedItems","sortItems","parentId","result","directChildren","length","toString","parent","ID","getChildren","child","sort","a","b","aPath","bPath","reduce","acc","rootItem","console","log","sortedItems","modelItem","modelType","indentCalculated","moduleItem","_ctx","_cache","_","action","key","onClick","$event","targetFolderPath","targetFolderId","moveUseCase","IMoveUseCase","updatedPath","execute","async","selectedItemId","selectedItem","find","moveFolder","moveModel","loading","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals"],"sourceRoot":""}