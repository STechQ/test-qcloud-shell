{"version":3,"file":"1045.js?ver=0.0.284_1701685270703","mappings":"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","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?df16","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?1032","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?d26f","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?097d","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?df16*","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n*[data-v-050f53c1]{\\n  font-family: \\\"Roboto\\\";\\n}\\nul[data-v-050f53c1] {\\n  list-style-type: none;\\n}\\n.move-to-target .mdi[data-v-050f53c1] {\\n  font-size: 24px;\\n  margin-right: 10px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/moveItem.vue\"],\"names\":[],\"mappings\":\";AAyGA;EACE,qBAAqB;AACvB;AACA;EACE,qBAAqB;AACvB;AAEA;EACE,eAAe;EACf,kBAAkB;AACpB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { container } from '../../../../domain/core/diContainer';\\nimport { IModel, IModule } from '../../../../domain/model/models';\\nimport { IMoveItemProps } from '../../../../domain/presentation/dialogs/IMoveItemProps';\\nimport { ITreeItem, ITreeView } from '../../../../domain/presentation/ITreeView';\\nimport { IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\\n\\ninterface IMoveItemInline extends IMoveItemProps {\\n  itemToBeMoved: IModel;\\n}\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);      \\nconst props = defineProps<IMoveItemInline>();\\nconst selectedItem = props.itemToBeMoved;\\n\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst emit = defineEmits([\\\"close\\\"]);\\n\\nlet actions: { path: Array<string>; icon: string; label: string; indent: number; id: string }[] = []\\nactions.push({ path: [], icon: \\\"mdi mdi-vector-polyline\\\", label: viewModel.studio.appName, indent: 0, id: viewModel.studio.appId })\\nlet items = viewModel.studio.items;\\n// const moduleItems = treeItems.filter(item => item.objectType === \\\"module\\\") as IModule[];\\n\\n\\nasync function move(targetFolderPath: Array<string>, targetFolderId: string) {\\n    await executor.execute(async () => {\\n      await moveUseCase.moveItem( targetFolderPath, targetFolderId, selectedItem);\\n      emit(\\\"close\\\");\\n    }, { loading: true });\\n}\\n\\n\\nfunction getSortedItems(items: Array<IModel | IModule>) {\\n  function getChildren(parentId: string) {\\n    return items.filter(item => (item.path ? item.path[item.path.length - 1] === parentId : false) || (item.parent ? item.parent.ID == parentId : false));\\n  }\\n\\n  function sortItems(parentId: string) {\\n    const result: Array<IModel | IModule> = [];\\n\\n    const directChildren = getChildren(parentId);\\n    for (const child of directChildren) {\\n      result.push(child);\\n      result.push(...sortItems(child.ID));\\n    }\\n\\n    return result;\\n  }\\n\\n  items.sort((a, b) => {\\n    let aPath = a.path ?? [];\\n    let bPath = b.path ?? [];\\n    if (aPath.length !== bPath.length) {\\n      return aPath.length - bPath.length;\\n    }\\n    else{\\n      return a.name.toLowerCase().localeCompare(b.name.toLowerCase())\\n    }\\n\\n  });\\n\\n  return items.filter(item => item.path ? item.path.length === 0 : true)\\n    .reduce<Array<IModel | IModule>>((acc, rootItem) => {\\n      acc.push(rootItem);\\n      acc.push(...sortItems(rootItem.ID));\\n      return acc;\\n    }, []);\\n}\\nconst sortedItems = getSortedItems(items);\\n\\nfor (let sortedItem of sortedItems) {\\n    if(sortedItem.objectType == \\\"model\\\") {\\n      if (sortedItem.modelType == \\\"placeholder\\\") {\\n        let indentCalculated = sortedItem.path ? (sortedItem.path.length * 20 + 20) : 20;\\n        actions.push({ path: sortedItem.path ?? [], icon: \\\"mdi mdi-folder-open\\\", label: sortedItem.name, indent: indentCalculated, id: sortedItem.ID })\\n      }\\n    }\\n    else if(sortedItem.objectType == \\\"module\\\") {\\n      actions.push({ path: sortedItem.path ?? [], icon: \\\"mdi mdi-puzzle\\\", label: sortedItem.name, indent: 20, id: sortedItem.ID })\\n    }\\n}\\n\\n</script> \\n\\n<template>\\n  <div>\\n    <div id=\\\"content-area\\\" class=\\\"popover__content\\\">\\n      <div style=\\\"height: 100%\\\" class=\\\"errorDiv\\\">\\n        <ul style=\\\"padding-left: 0px; margin-bottom: 0px; padding-top: 5px; padding-bottom: 10px;\\\">\\n          <li v-for=\\\"action in actions\\\" :key=\\\"action.label\\\" class=\\\"move-to-item\\\" :class=\\\"moveUseCase.isMoveable(action.path, action.id, selectedItem) ? '' : 'item-disabled'\\\" @click=\\\"move(action.path, action.id)\\\"\\n            :style=\\\"{ 'padding-left': (action.indent + 20) + 'px' }\\\">\\n            <div class=\\\"move-to-target\\\">\\n              <i :class=\\\"action.icon\\\" style=\\\"margin-right: 10px;\\\"></i><span>{{ action.label }}</span>\\n            </div>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n\\n<style scoped>\\n*{\\n  font-family: \\\"Roboto\\\";\\n}\\nul {\\n  list-style-type: none;\\n}\\n\\n.move-to-target .mdi {\\n  font-size: 24px;\\n  margin-right: 10px;\\n}\\n</style>\\n\\n\\n \\n\\n<style scoped>\\n.move-to-target {\\n  margin: 0;\\n  color: #151233;\\n  font-weight: 400;\\n  font-size: 14px;\\n  letter-spacing: 0px;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.createLi {\\n  cursor: pointer;\\n}\\n\\n.move-to-item {\\n  padding-top: 1px;\\n  padding-right: 20px;\\n}\\n.move-to-item:not(.item-disabled):hover {\\n  background: #D5D5D5;\\n}\\n.item-disabled {\\n  opacity: 0.5;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.move-to-target[data-v-050f53c1] {\\n  margin: 0;\\n  color: #151233;\\n  font-weight: 400;\\n  font-size: 14px;\\n  letter-spacing: 0px;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n}\\n.createLi[data-v-050f53c1] {\\n  cursor: pointer;\\n}\\n.move-to-item[data-v-050f53c1] {\\n  padding-top: 1px;\\n  padding-right: 20px;\\n}\\n.move-to-item[data-v-050f53c1]:not(.item-disabled):hover {\\n  background: #D5D5D5;\\n}\\n.item-disabled[data-v-050f53c1] {\\n  opacity: 0.5;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/moveItem.vue\"],\"names\":[],\"mappings\":\";AA0HA;EACE,SAAS;EACT,cAAc;EACd,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,eAAe;EACf,aAAa;EACb,mBAAmB;AACrB;AAEA;EACE,eAAe;AACjB;AAEA;EACE,gBAAgB;EAChB,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,YAAY;AACd\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { container } from '../../../../domain/core/diContainer';\\nimport { IModel, IModule } from '../../../../domain/model/models';\\nimport { IMoveItemProps } from '../../../../domain/presentation/dialogs/IMoveItemProps';\\nimport { ITreeItem, ITreeView } from '../../../../domain/presentation/ITreeView';\\nimport { IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\\n\\ninterface IMoveItemInline extends IMoveItemProps {\\n  itemToBeMoved: IModel;\\n}\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);      \\nconst props = defineProps<IMoveItemInline>();\\nconst selectedItem = props.itemToBeMoved;\\n\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst emit = defineEmits([\\\"close\\\"]);\\n\\nlet actions: { path: Array<string>; icon: string; label: string; indent: number; id: string }[] = []\\nactions.push({ path: [], icon: \\\"mdi mdi-vector-polyline\\\", label: viewModel.studio.appName, indent: 0, id: viewModel.studio.appId })\\nlet items = viewModel.studio.items;\\n// const moduleItems = treeItems.filter(item => item.objectType === \\\"module\\\") as IModule[];\\n\\n\\nasync function move(targetFolderPath: Array<string>, targetFolderId: string) {\\n    await executor.execute(async () => {\\n      await moveUseCase.moveItem( targetFolderPath, targetFolderId, selectedItem);\\n      emit(\\\"close\\\");\\n    }, { loading: true });\\n}\\n\\n\\nfunction getSortedItems(items: Array<IModel | IModule>) {\\n  function getChildren(parentId: string) {\\n    return items.filter(item => (item.path ? item.path[item.path.length - 1] === parentId : false) || (item.parent ? item.parent.ID == parentId : false));\\n  }\\n\\n  function sortItems(parentId: string) {\\n    const result: Array<IModel | IModule> = [];\\n\\n    const directChildren = getChildren(parentId);\\n    for (const child of directChildren) {\\n      result.push(child);\\n      result.push(...sortItems(child.ID));\\n    }\\n\\n    return result;\\n  }\\n\\n  items.sort((a, b) => {\\n    let aPath = a.path ?? [];\\n    let bPath = b.path ?? [];\\n    if (aPath.length !== bPath.length) {\\n      return aPath.length - bPath.length;\\n    }\\n    else{\\n      return a.name.toLowerCase().localeCompare(b.name.toLowerCase())\\n    }\\n\\n  });\\n\\n  return items.filter(item => item.path ? item.path.length === 0 : true)\\n    .reduce<Array<IModel | IModule>>((acc, rootItem) => {\\n      acc.push(rootItem);\\n      acc.push(...sortItems(rootItem.ID));\\n      return acc;\\n    }, []);\\n}\\nconst sortedItems = getSortedItems(items);\\n\\nfor (let sortedItem of sortedItems) {\\n    if(sortedItem.objectType == \\\"model\\\") {\\n      if (sortedItem.modelType == \\\"placeholder\\\") {\\n        let indentCalculated = sortedItem.path ? (sortedItem.path.length * 20 + 20) : 20;\\n        actions.push({ path: sortedItem.path ?? [], icon: \\\"mdi mdi-folder-open\\\", label: sortedItem.name, indent: indentCalculated, id: sortedItem.ID })\\n      }\\n    }\\n    else if(sortedItem.objectType == \\\"module\\\") {\\n      actions.push({ path: sortedItem.path ?? [], icon: \\\"mdi mdi-puzzle\\\", label: sortedItem.name, indent: 20, id: sortedItem.ID })\\n    }\\n}\\n\\n</script> \\n\\n<template>\\n  <div>\\n    <div id=\\\"content-area\\\" class=\\\"popover__content\\\">\\n      <div style=\\\"height: 100%\\\" class=\\\"errorDiv\\\">\\n        <ul style=\\\"padding-left: 0px; margin-bottom: 0px; padding-top: 5px; padding-bottom: 10px;\\\">\\n          <li v-for=\\\"action in actions\\\" :key=\\\"action.label\\\" class=\\\"move-to-item\\\" :class=\\\"moveUseCase.isMoveable(action.path, action.id, selectedItem) ? '' : 'item-disabled'\\\" @click=\\\"move(action.path, action.id)\\\"\\n            :style=\\\"{ 'padding-left': (action.indent + 20) + 'px' }\\\">\\n            <div class=\\\"move-to-target\\\">\\n              <i :class=\\\"action.icon\\\" style=\\\"margin-right: 10px;\\\"></i><span>{{ action.label }}</span>\\n            </div>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n\\n<style scoped>\\n*{\\n  font-family: \\\"Roboto\\\";\\n}\\nul {\\n  list-style-type: none;\\n}\\n\\n.move-to-target .mdi {\\n  font-size: 24px;\\n  margin-right: 10px;\\n}\\n</style>\\n\\n\\n \\n\\n<style scoped>\\n.move-to-target {\\n  margin: 0;\\n  color: #151233;\\n  font-weight: 400;\\n  font-size: 14px;\\n  letter-spacing: 0px;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.createLi {\\n  cursor: pointer;\\n}\\n\\n.move-to-item {\\n  padding-top: 1px;\\n  padding-right: 20px;\\n}\\n.move-to-item:not(.item-disabled):hover {\\n  background: #D5D5D5;\\n}\\n.item-disabled {\\n  opacity: 0.5;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-050f53c1\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  id: \"content-area\",\n  class: \"popover__content\"\n}\nconst _hoisted_2 = {\n  style: {\"height\":\"100%\"},\n  class: \"errorDiv\"\n}\nconst _hoisted_3 = { style: {\"padding-left\":\"0px\",\"margin-bottom\":\"0px\",\"padding-top\":\"5px\",\"padding-bottom\":\"10px\"} }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = { class: \"move-to-target\" }\n\nimport { container } from '../../../../domain/core/diContainer';\nimport { IModel, IModule } from '../../../../domain/model/models';\nimport { IMoveItemProps } from '../../../../domain/presentation/dialogs/IMoveItemProps';\nimport { ITreeItem, ITreeView } from '../../../../domain/presentation/ITreeView';\nimport { IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\n\ninterface IMoveItemInline extends IMoveItemProps {\n  itemToBeMoved: IModel;\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'moveItem',\n  props: {\n    itemToBeMoved: null\n  },\n  emits: [\"close\"],\n  setup(__props: any, { emit }) {\n\nconst props = __props as {\n  itemToBeMoved: IModel;\n};\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);      \n\nconst selectedItem = props.itemToBeMoved;\n\nconst viewModel = container.resolve<IViewModel>(IViewModel);\n\n\nlet actions: { path: Array<string>; icon: string; label: string; indent: number; id: string }[] = []\nactions.push({ path: [], icon: \"mdi mdi-vector-polyline\", label: viewModel.studio.appName, indent: 0, id: viewModel.studio.appId })\nlet items = viewModel.studio.items;\n// const moduleItems = treeItems.filter(item => item.objectType === \"module\") as IModule[];\n\n\nasync function move(targetFolderPath: Array<string>, targetFolderId: string) {\n    await executor.execute(async () => {\n      await moveUseCase.moveItem( targetFolderPath, targetFolderId, selectedItem);\n      emit(\"close\");\n    }, { loading: true });\n}\n\n\nfunction getSortedItems(items: Array<IModel | IModule>) {\n  function getChildren(parentId: string) {\n    return items.filter(item => (item.path ? item.path[item.path.length - 1] === parentId : false) || (item.parent ? item.parent.ID == parentId : false));\n  }\n\n  function sortItems(parentId: string) {\n    const result: Array<IModel | IModule> = [];\n\n    const directChildren = getChildren(parentId);\n    for (const child of directChildren) {\n      result.push(child);\n      result.push(...sortItems(child.ID));\n    }\n\n    return result;\n  }\n\n  items.sort((a, b) => {\n    let aPath = a.path ?? [];\n    let bPath = b.path ?? [];\n    if (aPath.length !== bPath.length) {\n      return aPath.length - bPath.length;\n    }\n    else{\n      return a.name.toLowerCase().localeCompare(b.name.toLowerCase())\n    }\n\n  });\n\n  return items.filter(item => item.path ? item.path.length === 0 : true)\n    .reduce<Array<IModel | IModule>>((acc, rootItem) => {\n      acc.push(rootItem);\n      acc.push(...sortItems(rootItem.ID));\n      return acc;\n    }, []);\n}\nconst sortedItems = getSortedItems(items);\n\nfor (let sortedItem of sortedItems) {\n    if(sortedItem.objectType == \"model\") {\n      if (sortedItem.modelType == \"placeholder\") {\n        let indentCalculated = sortedItem.path ? (sortedItem.path.length * 20 + 20) : 20;\n        actions.push({ path: sortedItem.path ?? [], icon: \"mdi mdi-folder-open\", label: sortedItem.name, indent: indentCalculated, id: sortedItem.ID })\n      }\n    }\n    else if(sortedItem.objectType == \"module\") {\n      actions.push({ path: sortedItem.path ?? [], icon: \"mdi mdi-puzzle\", label: sortedItem.name, indent: 20, id: sortedItem.ID })\n    }\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"ul\", _hoisted_3, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(actions), (action) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              key: action.label,\n              class: _normalizeClass([\"move-to-item\", _unref(moveUseCase).isMoveable(action.path, action.id, _unref(selectedItem)) ? '' : 'item-disabled']),\n              onClick: ($event: any) => (move(action.path, action.id)),\n              style: _normalizeStyle({ 'padding-left': (action.indent + 20) + 'px' })\n            }, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createElementVNode(\"i\", {\n                  class: _normalizeClass(action.icon),\n                  style: {\"margin-right\":\"10px\"}\n                }, null, 2 /* CLASS */),\n                _createElementVNode(\"span\", null, _toDisplayString(action.label), 1 /* TEXT */)\n              ])\n            ], 14 /* CLASS, STYLE, PROPS */, _hoisted_4))\n          }), 128 /* KEYED_FRAGMENT */))\n        ])\n      ])\n    ])\n  ]))\n}\n}\n\n})","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=0&id=050f53c1&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=0&id=050f53c1&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=1&id=050f53c1&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=1&id=050f53c1&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./moveItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./moveItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./moveItem.vue?vue&type=style&index=0&id=050f53c1&scoped=true&lang=css\"\nimport \"./moveItem.vue?vue&type=style&index=1&id=050f53c1&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/studio/studio/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-050f53c1\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","_hoisted_1","class","_hoisted_2","style","_hoisted_3","_hoisted_4","_hoisted_5","__name","props","itemToBeMoved","emits","setup","__props","emit","executor","resolve","IUseCaseExecutor","moveUseCase","IMoveUseCase","selectedItem","viewModel","IViewModel","actions","path","icon","label","studio","appName","indent","appId","sortedItems","items","sortItems","parentId","result","directChildren","filter","item","length","parent","ID","getChildren","child","sort","a","b","aPath","bPath","name","toLowerCase","localeCompare","reduce","acc","rootItem","getSortedItems","sortedItem","objectType","modelType","indentCalculated","_ctx","_cache","_","action","key","isMoveable","onClick","$event","async","targetFolderPath","targetFolderId","execute","moveItem","loading","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals"],"sourceRoot":""}