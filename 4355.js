"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[4355],{8807:(e,t,l)=>{l.d(t,{Z:()=>u});var n=l(8375),a=l.n(n),i=l(7638),s=l.n(i),o=l(79240),r=s()(a());r.i(o.Z),r.push([e.id,"\n.select-import-type-div[data-v-6c129656] {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 0px;\n    gap: 10px;\n    margin-left: 4px;\n    margin-bottom: 16px;\n}\n.select-import-type-text[data-v-6c129656] {\n    font-size: 14px;\n    line-height: 16px;\n    text-align: center;\n    color: #212121;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n}\n.replace-text[data-v-6c129656] {\n    font-size: 14px;\n    color: #212121;\n    margin-bottom: 8px;\n}\n.select-update-strategy-div[data-v-6c129656]{\n    display: flex;\n    gap: 12px;\n    margin: 20px 0;\n}\n.select-version-label[data-v-6c129656]{\n    color: #151233;\n    font-size: 14px;\n    font-weight: 500;\n    margin-bottom: 4px;\n}\n.select-version[data-v-6c129656] {\n    width: 124px;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    margin-top: 4px;\n}\n.current-latest-text[data-v-6c129656] {\n    font-size: 14px;\n    color: #212121;\n    margin: 20px 0;\n    font-weight: 700;\n}\n.vue-table[data-v-6c129656] .VueTables__table {\n  border-collapse: separate;\n  border-spacing: 0;\n  width: 100%;\n  border-radius: 10px;\n  overflow: hidden;\n}\n.vue-table[data-v-6c129656] .VueTables__table tbody tr:not(:last-child) td {\n  border-bottom: 1px solid #E3E3E3 !important;\n}\n",""]);const u=r},38633:(e,t,l)=>{l.d(t,{Z:()=>o});var n=l(8375),a=l.n(n),i=l(7638),s=l.n(i)()(a());s.push([e.id,"\n.selected-version {\n    background-color: transparent;\n    border-radius: 4px;\n    border: 1px solid #BCBCBC;\n    color: #212121;\n    padding-left: 12px;\n}\n.custom-select .items .option {\n    font-size: 14px !important;\n}\n.custom-select .items .option:hover {\n    background-color: #EEEEEE;\n    color: #212121;\n}\n",""]);const o=s},34355:(e,t,l)=>{l.d(t,{Z:()=>A});var n=l(71093),a=l(73843),i=l(66190),s=l(5627),o=l(70985),r=l(83240),u=l(83487),d=l(34521),v=l(97432),c=l(88613),p=l(36250),m=l(66319);const g=e=>((0,n.dD)("data-v-6c129656"),e=e(),(0,n.Cn)(),e),f={key:0,class:"select-import-type-div"},y={key:1,class:"vue-table"},b={key:1,class:"replace-text"},w={key:2},h={class:"select-update-strategy-div"},x=g((()=>(0,n._)("label",{class:"select-version-label"},"Major",-1))),S=g((()=>(0,n._)("label",{class:"select-version-label"},"Minor",-1))),k=g((()=>(0,n._)("label",{class:"select-version-label"},"Fix",-1))),D={key:0,class:"current-latest-text"},_=(0,n.aZ)({__name:"selectModuleVersionComp",props:{module:null,hideUpdateStrategy:{type:Boolean},hideImportedVersion:{type:Boolean}},emits:["selectVersion","buttonDisabled"],setup(e,{emit:t}){var l,g,_,Z;const C=e,U=s.nC.resolve(u.y),V=s.nC.resolve(r.e),L=s.nC.resolve(o.w),I=s.nC.resolve(c.J),F=(0,n.Fl)((()=>I.studio.appId)),T=(0,a.iH)([]),E=(0,a.iH)(),H=(0,a.iH)(["selectVersion","version","description","createdBy","createDate"]),W=(0,n.Fl)((()=>"default"==K.value&&!E.value||"withUpdateStrategy"==K.value&&(""==P.value||""==R.value))),q=(0,a.iH)({filterable:!1,perPage:5,perPageValues:[],headings:{selectVersion:"",version:L.get("version"),description:L.get("description"),createdBy:L.get("createdBy"),createDate:L.get("createDate")},resizableColumns:!1,skin:"module-versions",texts:{count:"",noResults:"No matching records"}}),B={month:"2-digit",day:"2-digit",year:"numeric"},$=(0,n.Fl)((()=>!C.module.currentVersion||C.hideImportedVersion?[]:T.value.filter((e=>e.version===C.module.currentVersion)).map((e=>({...e,version:`${e.version} (Imported)`})))||[])),z=(0,n.Fl)((()=>!C.module.currentVersion||C.hideImportedVersion?T.value:T.value.filter((e=>e.version!==C.module.currentVersion)))),j=(0,a.iH)("Imported module is going to use the latest version according to your selection."),A=(0,n.Fl)((()=>{const e=C.module.relatedApplications.find((e=>e.applicationID==F.value));return e?e.updateStrategy:""})),P=(0,a.iH)(("*"==(null===(l=A.value)||void 0===l?void 0:l.split(".")[0])?"Latest":null===(g=A.value)||void 0===g?void 0:g.split(".")[0])||""),R=(0,a.iH)(("*"==(null===(_=A.value)||void 0===_?void 0:_.split(".")[1])?"Latest":null===(Z=A.value)||void 0===Z?void 0:Z.split(".")[1])||""),M=(0,a.iH)("Latest"),O=(0,n.Fl)((()=>`Strategy ${P.value}.${R.value}.Latest (Current Latest ${function(){const e=`${"Latest"==P.value?"*":P.value}.${"Latest"==R.value?"*":R.value}.*`;return V.getLatestVersion(T.value,e)}()})`)),J=(0,n.Fl)((()=>{const e=T.value.map((e=>e.version.split(".")[0])).filter(((e,t,l)=>l.indexOf(e)===t));return e.unshift("Latest"),e})),N=(0,n.Fl)((()=>{if(""===P.value||"Latest"===P.value)return["Latest"];const e=T.value.filter((e=>e.version.split(".")[0]===P.value)).map((e=>e.version.split(".")[1])).filter(((e,t,l)=>l.indexOf(e)===t));return e.unshift("Latest"),e})),Y=(0,n.Fl)((()=>""===P.value||"Latest"===P.value)),G=(0,n.Fl)((()=>""!==P.value&&""!==R.value)),K=(0,a.iH)(A.value?"withUpdateStrategy":"default");function Q(e){switch(K.value=e,e){case"default":if(!A.value){P.value="",R.value="";break}case"withUpdateStrategy":E.value=""}te()}function X(e){var t;t=e.row.version,E.value=t,P.value="",R.value="",te()}function ee(e,t){switch(E.value="",t){case"major":P.value=e,R.value="Latest"==e?"Latest":"";break;case"minor":R.value=e}const l="Latest"==P.value?"*":P.value,n="Latest"==R.value?"*":R.value;E.value=`${l}.${n}.*`,te()}function te(){t("selectVersion",E.value),t("buttonDisabled",W.value)}return(0,n.bv)((()=>{var e;e=C.module.ID,U.execute((async()=>{T.value=await V.getVersions(e)}),{loading:!0})})),(e,t)=>{const l=(0,n.up)("v-client-table");return(0,n.wg)(),(0,n.iD)(n.HY,null,[C.hideUpdateStrategy?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",f,[(0,n.Wm)(d.Z,{active:"default"==K.value,type:"preview",onClick:t[0]||(t[0]=e=>Q("default"))},null,8,["active"]),(0,n._)("span",{class:"select-import-type-text",onClick:t[1]||(t[1]=e=>Q("default")),style:{"margin-right":"12px"}},"Select Version"),(0,n.Wm)(d.Z,{active:"withUpdateStrategy"==K.value,type:"preview",onClick:t[2]||(t[2]=e=>Q("withUpdateStrategy"))},null,8,["active"]),(0,n._)("span",{class:"select-import-type-text",onClick:t[3]||(t[3]=e=>Q("withUpdateStrategy"))},"Select Version With Update Strategy")])),"default"==K.value?((0,n.wg)(),(0,n.iD)("div",y,[(0,a.SU)($).length>0?((0,n.wg)(),(0,n.j4)(l,{key:0,ref:"table",data:(0,a.SU)($),columns:H.value,options:q.value},{version:(0,n.w5)((e=>[(0,n._)("div",null,[(0,n._)("span",null,(0,i.toDisplayString)(e.row.version),1),e.row.unreleased?((0,n.wg)(),(0,n.j4)(m.Z,{key:0,style:{"margin-left":"8px"},label:"Unreleased",type:"error"})):(0,n.kq)("v-if",!0)])])),createDate:(0,n.w5)((e=>[(0,n._)("span",null,(0,i.toDisplayString)(new Intl.DateTimeFormat("tr-TR",B).format(new Date(e.row.createDate))),1)])),_:1},8,["data","columns","options"])):(0,n.kq)("v-if",!0),(0,a.SU)($).length>0?((0,n.wg)(),(0,n.iD)("div",b,"Select new module below to replace the imported module")):(0,n.kq)("v-if",!0),(0,n.Wm)(l,{ref:"table",data:(0,a.SU)(z),columns:H.value,options:q.value,onRowClick:X},{selectVersion:(0,n.w5)((e=>[(0,n.Wm)(d.Z,{active:E.value==e.row.version,type:"preview"},null,8,["active"])])),version:(0,n.w5)((e=>[(0,n._)("div",null,[(0,n._)("span",null,(0,i.toDisplayString)(e.row.version),1),e.row.unreleased?((0,n.wg)(),(0,n.j4)(m.Z,{key:0,style:{"margin-left":"8px"},label:"Unreleased",type:"error"})):(0,n.kq)("v-if",!0)])])),createDate:(0,n.w5)((e=>[(0,n._)("span",null,(0,i.toDisplayString)(new Intl.DateTimeFormat("tr-TR",B).format(new Date(e.row.createDate))),1)])),_:1},8,["data","columns","options"])])):((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("div",h,[(0,n._)("div",null,[x,(0,n.Wm)(v.Z,{class:"select-version",options:(0,a.SU)(J),onInput:t[4]||(t[4]=e=>ee(e,"major")),default:P.value,selectedClass:"selected-version"},null,8,["options","default"])]),(0,n._)("div",null,[S,(0,n.Wm)(v.Z,{class:"select-version",options:(0,a.SU)(N),onInput:t[5]||(t[5]=e=>ee(e,"minor")),selectedClass:"selected-version",default:R.value,disabled:(0,a.SU)(Y)},null,8,["options","default","disabled"])]),(0,n._)("div",null,[k,(0,n.Wm)(v.Z,{class:"select-version",options:[],onInput:t[6]||(t[6]=e=>ee(e,"fix")),selectedClass:"selected-version",default:M.value,disabled:!0},null,8,["default"])])]),(0,a.SU)(G)?((0,n.wg)(),(0,n.iD)("div",D,(0,i.toDisplayString)((0,a.SU)(O)),1)):(0,n.kq)("v-if",!0),(0,n.Wm)(p.Z,{infoText:j.value},null,8,["infoText"])]))],64)}}});var Z=l(17450),C=l.n(Z),U=l(29530),V=l.n(U),L=l(16199),I=l.n(L),F=l(40458),T=l.n(F),E=l(62916),H=l.n(E),W=l(92165),q=l.n(W),B=l(8807),$={};$.styleTagTransform=q(),$.setAttributes=T(),$.insert=I().bind(null,"head"),$.domAPI=V(),$.insertStyleElement=H(),C()(B.Z,$),B.Z&&B.Z.locals&&B.Z.locals;var z=l(38633),j={};j.styleTagTransform=q(),j.setAttributes=T(),j.insert=I().bind(null,"head"),j.domAPI=V(),j.insertStyleElement=H(),C()(z.Z,j),z.Z&&z.Z.locals&&z.Z.locals;const A=(0,l(32525).Z)(_,[["__scopeId","data-v-6c129656"]])}}]);