"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[3938,8760,5627],{29358:(n,e,o)=>{o.d(e,{Z:()=>s});var t=o(34663),a=o.n(t),i=o(7638),r=o.n(i)()(a());r.push([n.id,"\n*[data-v-462712dc] {\n    font-family: 'Roboto';\n}\n.container[data-v-462712dc] {\n    padding: 32px 20px 20px;\n}\n.organization-name-div[data-v-462712dc] {\n    margin-bottom: 52px\n}\n.name-label[data-v-462712dc] {\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 18px;\n    color: #151233;\n    margin-bottom: 4px;\n}\n.organizaton-name[data-v-462712dc] {\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 8px 8px 8px 12px;\n    width: 100%;\n    font-size: 15px;\n    color: #212121;\n    outline: none;\n}\n.organizaton-name[data-v-462712dc]::placeholder {\n    color: #BCBCBC\n}\n.buttons-div[data-v-462712dc] {\n    display: flex;\n    justify-content: end;\n}\n.cancel-button[data-v-462712dc] {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #757575;\n    display: flex;\n    align-items: center;\n    padding: 8px 16px;\n    border-radius: 4px;\n    margin-right: 4px;\n    border: none;\n    background: transparent;\n}\n.create-button[data-v-462712dc] {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #FFFFFF;\n    background: #151233;\n    display: flex;\n    align-items: center;\n    padding: 8px 16px;\n    border-radius: 4px;\n    border: none;\n}\n.create-button[data-v-462712dc]:disabled {\n    color: #757575\n}\n.button-tooltip[data-v-462712dc] {\n    visibility: hidden;\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    font-family: 'Roboto';\n    text-align: center;\n    border-radius: 4px;\n    letter-spacing: 0.2px;\n    padding: 6px 8px 6px 8px;\n    top: 56px;\n    left: 63px;\n    opacity: 0;\n}\n.create-button:disabled:hover+.button-tooltip[data-v-462712dc] {\n    visibility: visible;\n    transition: opacity 0.3s ease-out 0.5s;\n    opacity: 1;\n}\n.organization-group-info[data-v-462712dc] {\n    padding: 5px 12px;\n    color: #757575;\n    font-size: 14px;\n    background: #F5F5FA;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    margin-left: auto;\n    width: 100%;\n    margin-top: 20px;\n}\n.organization-group-info i[data-v-462712dc] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 8px;\n}\n.organizations[data-v-462712dc] {\n    width: 100%;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    padding: 0px 12px;\n}\n\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/organization/joinOrganizationGroupDialog.vue"],names:[],mappings:";AAoFA;IACI,qBAAqB;AACzB;AAEA;IACI,uBAAuB;AAC3B;AAEA;IACI;AACJ;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;IACd,kBAAkB;AACtB;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,aAAa;IACb,mBAAmB;IACnB,mBAAmB;IACnB,yBAAyB;IACzB,WAAW;IACX,eAAe;IACf,cAAc;IACd,aAAa;AACjB;AAEA;IACI;AACJ;AAEA;IACI,aAAa;IACb,oBAAoB;AAExB;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,cAAc;IACd,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,iBAAiB;IACjB,YAAY;IACZ,uBAAuB;AAC3B;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,cAAc;IACd,mBAAmB;IACnB,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,YAAY;AAChB;AAEA;IACI;AACJ;AAEA;IACI,kBAAkB;IAClB,kBAAkB;IAClB,mBAAmB;IACnB,cAAc;IACd,eAAe;IACf,qBAAqB;IACrB,kBAAkB;IAClB,kBAAkB;IAClB,qBAAqB;IACrB,wBAAwB;IACxB,SAAS;IACT,UAAU;IACV,UAAU;AACd;AAEA;IACI,mBAAmB;IACnB,sCAAsC;IACtC,UAAU;AACd;AAEA;IACI,iBAAiB;IACjB,cAAc;IACd,eAAe;IACf,mBAAmB;IACnB,kBAAkB;IAClB,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,WAAW;IACX,gBAAgB;AACpB;AAEA;IACI,eAAe;IACf,cAAc;IACd,iBAAiB;AACrB;AAEA;IACI,WAAW;IACX,eAAe;IACf,YAAY;IACZ,iBAAiB;IACjB,yBAAyB;IACzB,kBAAkB;IAClB,iBAAiB;AACrB",sourcesContent:['<template>\n    <div class="container">\n        <div class="organization-name-div">\n            <label class="name-label">Organization</label>\n            <CustomSelect :options="organizationNames" class="organizations" :default="organizationNames[0]" :placeholder="\'Select\'"\n                @input="selectOrgGroup"></CustomSelect>\n            <label class="name-label mt-4">E-Mail</label>\n            <IDEInput @getValue="setOwnerEmail" type="mail" :value="email" info-text=""\n                placeholder="Group owner\'s e-mail" />\n            <label class="name-label mt-4">Description</label>\n            <IDEInput @getValue="setDescription" type="textarea" :value="description" info-text=""\n                placeholder="Describe your object details" />\n            <div class="organization-group-info">\n                <i class="mdi mdi-information"></i>\n                <span>If you need the contact information of the Group Owner, please reach out to the <a style="color: #757575" href="mailto:plateau@softtech.com.tr">Plateau Studio Team.</a></span>\n            </div>\n        </div>\n        <div class="buttons-div">\n            <button class="cancel-button" @click="close()">Cancel</button>\n            <button class="create-button" :disabled="isMailValid" @click="joinOrganizationGroup()">SEND REQUEST</button>\n        </div>\n    </div>\n</template>\n<script setup lang="ts">\nimport { computed, onBeforeMount, onMounted, ref } from \'vue\';\nimport { container } from \'../../../../../domain/core/diContainer\';\nimport { IUseCaseExecutor } from \'../../../../../domain/useCase/IUseCaseExecutor\';\nimport { IViewModel } from \'../../../../../domain/viewModel/IViewModel\';\nimport IDEInput from "../../application/IDEInput.vue";\nimport CustomSelect from "../../customSelect.vue";\nimport { IOrganizationGroupUseCase } from \'../../../../../domain/useCase/IOrganizationGroupUseCase\';\nimport { IOrganizationUseCase } from \'../../../../../domain/useCase/IOrganizationUseCase\';\nimport { IStudioRequestRequest } from \'../../../../../../../common/qCloudTemp/request\';\nimport { IAuthenticationUseCase } from \'../../../../../domain/useCase/IAuthenticationUseCase\';\n\nconst emit = defineEmits(["close"]);\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst organizationGroupUseCase = container.resolve<IOrganizationGroupUseCase>(IOrganizationGroupUseCase);\nconst organizationUseCase = container.resolve<IOrganizationUseCase>(IOrganizationUseCase);\n\nconst user = computed(() => viewModel.user!);\nconst selectedOrganization = ref(viewModel.user!.selectedOrganization);\nconst email = ref("");\nconst description = ref("");\n\nconst organizationNames = ref<Array<string>>([]);\nconst isSelectedOrgOwned = selectedOrganization.value?.ownerUserIds ? selectedOrganization.value?.ownerUserIds.includes(user.value.userId) : selectedOrganization.value?.creatorUserId == user.value.userId;\nconst requestedOrg = ref<string | undefined>("");\nconst isMailValid = computed(() => !email.value ? false : !/^(?=.{1,64}@)[a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+(\\.[a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*(\\.[a-zA-Z]{2,})$/.test(email.value)); //RFC 5322-compliant ðŸ¤”\n\nonBeforeMount(() => {\n    getOrganizationNames();\n})\n\nfunction close() {\n    emit("close");\n}\n\nfunction selectOrgGroup(orgGroupName: string) {\n    requestedOrg.value = orgGroupName;\n}\n\nfunction getOrganizationNames() {\n    executor.execute(async () => {\n        organizationNames.value = await organizationUseCase.getUsersOrganizationNames();\n    },{loading: true});\n    // organizationNames.value = user.value.organizations.filter(org => (org.ownerUserIds ? org.ownerUserIds?.includes(user.value.userId) : org.creatorUserId == user.value.userId) && !org.organizationGroupId).map(org => org.name);\n}\nfunction joinOrganizationGroup() {\n    const request: IStudioRequestRequest = {targetUserEmail: email.value, organizationName: requestedOrg.value, description: description.value, type: "joinOrganizationGroup"};\n    executor.execute(async () => {\n        await organizationGroupUseCase.sendJoinOrganizationGroupRequest(request);\n    },{loading: true});\n    close();\n}\nfunction setOwnerEmail(value: string) {\n    email.value = value\n}\nfunction setDescription(value: string) {\n    description.value = value\n}\n<\/script>\n<style scoped>\n* {\n    font-family: \'Roboto\';\n}\n\n.container {\n    padding: 32px 20px 20px;\n}\n\n.organization-name-div {\n    margin-bottom: 52px\n}\n\n.name-label {\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 18px;\n    color: #151233;\n    margin-bottom: 4px;\n}\n\n.organizaton-name {\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 8px 8px 8px 12px;\n    width: 100%;\n    font-size: 15px;\n    color: #212121;\n    outline: none;\n}\n\n.organizaton-name::placeholder {\n    color: #BCBCBC\n}\n\n.buttons-div {\n    display: flex;\n    justify-content: end;\n\n}\n\n.cancel-button {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #757575;\n    display: flex;\n    align-items: center;\n    padding: 8px 16px;\n    border-radius: 4px;\n    margin-right: 4px;\n    border: none;\n    background: transparent;\n}\n\n.create-button {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #FFFFFF;\n    background: #151233;\n    display: flex;\n    align-items: center;\n    padding: 8px 16px;\n    border-radius: 4px;\n    border: none;\n}\n\n.create-button:disabled {\n    color: #757575\n}\n\n.button-tooltip {\n    visibility: hidden;\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    font-family: \'Roboto\';\n    text-align: center;\n    border-radius: 4px;\n    letter-spacing: 0.2px;\n    padding: 6px 8px 6px 8px;\n    top: 56px;\n    left: 63px;\n    opacity: 0;\n}\n\n.create-button:disabled:hover+.button-tooltip {\n    visibility: visible;\n    transition: opacity 0.3s ease-out 0.5s;\n    opacity: 1;\n}\n\n.organization-group-info {\n    padding: 5px 12px;\n    color: #757575;\n    font-size: 14px;\n    background: #F5F5FA;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    margin-left: auto;\n    width: 100%;\n    margin-top: 20px;\n}\n\n.organization-group-info i {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 8px;\n}\n\n.organizations {\n    width: 100%;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    padding: 0px 12px;\n}\n\n</style>'],sourceRoot:""}]);const s=r},91743:(n,e,o)=>{o.d(e,{L:()=>i});let t=!1;new Promise((n=>n())).then((()=>t=!0)),"undefined"!=typeof doNothing&&doNothing();const a=!0===t;function i(n,e={}){let o,t,i;const r=n=>{i&&clearTimeout(i),i=setTimeout((()=>{t(new Error(`The operation has timed out. timeoutValue  : ${n}`))}),n)};return n&&r(n),{startTimer:r,promise:new Promise(((n,i)=>{var r;r=n,o=a&&e.fixSyncResolve?n=>setTimeout((()=>r(n))):r,t=i})),resolver:o,reject:t}}},5627:(n,e,o)=>{o.d(e,{OH:()=>l,b2:()=>t.b2,bh:()=>s,f3:()=>t.f3,nC:()=>t.nC,tu:()=>i});var t=o(53266),a=o(91743);function i(n){let e;return()=>e||(e=n())}function r(){const n=(0,a.L)();return setTimeout((()=>{n.resolver()}),100),n.promise}async function s(n,e){await l([n]);const o=t.nC.resolve(n);await e(o)}async function l(n,e){let o=!1;for(;!o;)try{n.forEach((n=>t.nC.resolve(n))),o=!0}catch(n){await r()}await(null==e?void 0:e())}},38695:(n,e,o)=>{o.d(e,{T:()=>t});const t=Symbol.for("IFormValidator")},74249:(n,e,o)=>{o.d(e,{I:()=>t});const t=Symbol.for("IOrganizationGroupUseCase")},4625:(n,e,o)=>{o.d(e,{M:()=>t});const t=Symbol.for("IOrganizationUseCase")},55395:(n,e,o)=>{o.r(e),o.d(e,{default:()=>_});var t=o(71093),a=o(73843),i=o(5627),r=o(83487),s=o(88613),l=o(38223),A=o(19496),c=o(74249),d=o(4625);const u=n=>((0,t.dD)("data-v-462712dc"),n=n(),(0,t.Cn)(),n),p={class:"container"},g={class:"organization-name-div"},m=u((()=>(0,t._)("label",{class:"name-label"},"Organization",-1))),C=u((()=>(0,t._)("label",{class:"name-label mt-4"},"E-Mail",-1))),B=u((()=>(0,t._)("label",{class:"name-label mt-4"},"Description",-1))),I=u((()=>(0,t._)("div",{class:"organization-group-info"},[(0,t._)("i",{class:"mdi mdi-information"}),(0,t._)("span",null,[(0,t.Uk)("If you need the contact information of the Group Owner, please reach out to the "),(0,t._)("a",{style:{color:"#757575"},href:"mailto:plateau@softtech.com.tr"},"Plateau Studio Team.")])],-1))),f={class:"buttons-div"},x=["disabled"],v=(0,t.aZ)({__name:"joinOrganizationGroupDialog",emits:["close"],setup(n,{emit:e}){var o,u,v;const b=i.nC.resolve(s.J),z=i.nC.resolve(r.y),h=i.nC.resolve(c.I),y=i.nC.resolve(d.M),w=(0,t.Fl)((()=>b.user)),U=(0,a.iH)(b.user.selectedOrganization),k=(0,a.iH)(""),O=(0,a.iH)(""),E=(0,a.iH)([]),F=((null===(o=U.value)||void 0===o?void 0:o.ownerUserIds)?null===(u=U.value)||void 0===u||u.ownerUserIds.includes(w.value.userId):(null===(v=U.value)||void 0===v||v.creatorUserId,w.value.userId),(0,a.iH)("")),G=(0,t.Fl)((()=>!!k.value&&!/^(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,})$/.test(k.value)));function S(){e("close")}function Z(n){F.value=n}function q(n){k.value=n}function _(n){O.value=n}return(0,t.wF)((()=>{z.execute((async()=>{E.value=await y.getUsersOrganizationNames()}),{loading:!0})})),(n,e)=>((0,t.wg)(),(0,t.iD)("div",p,[(0,t._)("div",g,[m,(0,t.Wm)(A.Z,{options:E.value,class:"organizations",default:E.value[0],placeholder:"Select",onInput:Z},null,8,["options","default"]),C,(0,t.Wm)(l.Z,{onGetValue:q,type:"mail",value:k.value,"info-text":"",placeholder:"Group owner's e-mail"},null,8,["value"]),B,(0,t.Wm)(l.Z,{onGetValue:_,type:"textarea",value:O.value,"info-text":"",placeholder:"Describe your object details"},null,8,["value"]),I]),(0,t._)("div",f,[(0,t._)("button",{class:"cancel-button",onClick:e[0]||(e[0]=n=>S())},"Cancel"),(0,t._)("button",{class:"create-button",disabled:(0,a.SU)(G),onClick:e[1]||(e[1]=n=>function(){const n={targetUserEmail:k.value,organizationName:F.value,description:O.value,type:"joinOrganizationGroup"};z.execute((async()=>{await h.sendJoinOrganizationGroupRequest(n)}),{loading:!0}),S()}())},"SEND REQUEST",8,x)])]))}});var b=o(17450),z=o.n(b),h=o(29530),y=o.n(h),w=o(16199),U=o.n(w),k=o(40458),O=o.n(k),E=o(62916),F=o.n(E),G=o(92165),S=o.n(G),Z=o(29358),q={};q.styleTagTransform=S(),q.setAttributes=O(),q.insert=U().bind(null,"head"),q.domAPI=y(),q.insertStyleElement=F(),z()(Z.Z,q),Z.Z&&Z.Z.locals&&Z.Z.locals;const _=(0,o(32525).Z)(v,[["__scopeId","data-v-462712dc"]])}}]);
//# sourceMappingURL=3938.js.map?ver=0.0.326_1720789422298