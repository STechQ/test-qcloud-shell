"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[6932],{74258:(e,n,o)=>{o.d(n,{Z:()=>l});var t=o(8375),a=o.n(t),i=o(7638),s=o.n(i)()(a());s.push([e.id,"\n.checkbox-container {\n    position: relative;\n    z-index: 0;\n}\n.outer-square {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 18px;\n    height: 18px;\n    background: #151233 0% 0% no-repeat padding-box;\n    border-radius: 4px;\n    display: block;\n    padding: 5px;\n}\n.outer-square-gray{\n    background: #CBCBCB 0% 0% no-repeat padding-box;\n}\n.outer-square-gray:hover {\n    background: #BCBCBC 0% 0% no-repeat padding-box;\n}\n.outer-square-gray-disabled{\n    background: #EEEEEE 0% 0% no-repeat padding-box;\n    pointer-events: none;\n}\n.icon {\n    position: absolute;\n    z-index: 1;\n    color: white;\n    font-size: 14px;\n    top: -1px;\n    left: 2px;\n}\n",""]);const l=s},9900:(e,n,o)=>{o.d(n,{Z:()=>d});var t=o(8375),a=o.n(t),i=o(7638),s=o.n(i),l=o(79240),r=s()(a());r.i(l.Z),r.push([e.id,"\n.container[data-v-5de03a02] {\n        padding: 32px 20px 20px;\n}\n.module-pages[data-v-5de03a02] {\n        border: 1px solid #E3E3E3;\n        height: 180px;\n        margin-bottom: 20px;\n        overflow: auto;\n}\n.row-container[data-v-5de03a02] {\n        width: 100%;\n        height: 36px;\n        position: relative;\n        background: #ffffff 0% 0% no-repeat padding-box;\n        border: 1px solid #e0e0e0;\n        display: flex;\n        align-items: center;\n}\n.buttons-div[data-v-5de03a02] {\n        display: flex;\n        justify-content: end;\n        margin-top: 60px;\n}\n.cancel-button[data-v-5de03a02] {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #757575;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        margin-right: 4px;\n        border: none;\n        background: transparent;\n}\n.release-button[data-v-5de03a02] {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #FFFFFF;\n        background: #151233;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        border: none;\n}\n.release-button[data-v-5de03a02]:disabled {\n        color: #757575;\n        cursor: not-allowed;\n}\n.select-release-type[data-v-5de03a02] {\n        width: 100%;\n        font-size: 15px;\n        height: 40px;\n        line-height: 40px;\n        border: 1px solid #BCBCBC;\n        border-radius: 4px;\n}\n.release-type[data-v-5de03a02] {\n        margin-top: 20px;\n}\n.release-type label[data-v-5de03a02] {\n        font-weight: 500;\n        font-size: 16px;\n        line-height: 24px;\n        color: #151233;\n        margin-bottom: 4px;\n}\n.model-checkbox[data-v-5de03a02] {\n        position: absolute;\n        top: 8px;\n        left: 20px;\n        cursor: pointer;\n}\n.model-name[data-v-5de03a02] {\n        font-size: 14px;\n        position: absolute;\n        left: 65px;\n}\n.items-selected-text[data-v-5de03a02] {\n        color: #757575;\n        font-size: 14px;\n        margin-left: 28px;\n}\n.text-number[data-v-5de03a02] {\n        color: #212121;\n        font-weight: 500;\n}\n.current-version-text[data-v-5de03a02] {\n        font-size:18px;\n        color: #212121;\n        margin-bottom: 20px;\n        line-height: 21px;\n}\n.version-text[data-v-5de03a02] {\n        margin: 10px 7px 10px auto;\n        display: table;\n        font: normal normal normal 12px/16px Roboto;\n        color: #757575;\n        cursor: pointer;\n        user-select: none;\n}\n.version-text.disabled[data-v-5de03a02] {\n        pointer-events: none;\n        cursor: pointer;\n}\n.release-button:hover + .button-tooltip[data-v-5de03a02] {\n        visibility: visible;\n        transition: opacity 0.3s ease-out 1s;\n        opacity: 1;\n}\n.button-tooltip[data-v-5de03a02] {\n        visibility: hidden;\n        position: absolute;\n        background: #757575;\n        color: #FFFFFF;\n        font-size: 11px;\n        font-family: 'Roboto';\n        text-align: center;\n        border-radius: 4px;\n        letter-spacing: 0.2px;\n        padding: 6px 8px 6px 8px;\n        top: 56px;\n        left: 63px;\n        opacity: 0;\n}\n.app-tier-model-icon[data-v-5de03a02] {\n        position: absolute;\n        width: 16px;\n        height: 16px;\n        top: 3px;\n        left: 47px;\n}\n.version-info[data-v-5de03a02] {\n        padding: 6px 12px;\n        margin-bottom: 20px;\n        width: 100%;\n        color: #757575;\n        font-size: 14px;\n        background: #F5F5FA;\n        border-radius: 4px;\n        display: flex;\n        align-items: center;\n        margin-top: 20px;\n}\n.version-info i[data-v-5de03a02] {\n        font-size: 24px;\n        color: #151233;\n        margin-right: 8px;\n}\n.qjson-color[data-v-5de03a02] {\n        color: #449dd1;\n}\n.yaml-color[data-v-5de03a02] {\n        color: #449dd1;\n}\n.js-color[data-v-5de03a02] {\n        color: #449dd1;\n}\n.process-color[data-v-5de03a02] {\n        color: #007c77;\n}\n.bpmn-color[data-v-5de03a02] {\n        color: #007c77;\n}\n.entity-designer-color[data-v-5de03a02] {\n        color: #e9724c;\n}\n\n",""]);const d=r},30221:(e,n,o)=>{o.d(n,{Z:()=>l});var t=o(8375),a=o.n(t),i=o(7638),s=o.n(i)()(a());s.push([e.id,"\n.selected-type {\n        background-color: transparent;\n        color: #212121;\n        height: 40px;\n        padding-left: 12px;\n}\n.custom-select .items {\n        color: #212121;\n        border-radius: 8px;\n        border: 1px solid #E3E3E3;\n        overflow: hidden;\n        background-color: #FFFFFF;\n        box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);\n        /* margin-top: 40px; */\n}\n.custom-select .items .option {\n        font-size: 14px;\n        padding-left: 12px;\n}\n.custom-select .items .option:hover {\n        background-color: #EEEEEE;\n        color: #212121;\n}\n.select-release-type i {\n        font-size: 16px;\n        color: #BCBCBC;\n}\n.custom-placeholder:empty:before {\n        color: #BCBCBC !important;\n        font-weight: 400;\n}\n.custom-select.select-release-type .items {\n        position: static !important;\n}\n",""]);const l=s},67457:(e,n,o)=>{o.d(n,{Z:()=>E});var t=o(71093),a=o(66190),i=o(73843);const s={class:"checkbox-container"},l={key:0,class:"mdi mdi-minus icon"},r={key:1,class:"mdi mdi-plus icon"},d={key:2,class:"mdi mdi-check icon"},c=(0,t.aZ)({__name:"checkboxComp",props:{minus:{type:Boolean},plus:{type:Boolean},check:{type:Boolean},disabled:{type:Boolean}},setup(e){const n=e,o=((0,i.iH)((n.minus||n.check||n.plus)&&n.disabled),(0,i.iH)(!n.minus&&!n.check&&!n.plus&&n.disabled));return(e,i)=>((0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",{class:(0,a.normalizeClass)("outer-square"+(n.minus||n.check||n.plus||n.disabled?"":" outer-square-gray")+(o.value?" outer-square-gray-disabled":""))},null,2),n.minus?((0,t.wg)(),(0,t.iD)("i",l)):n.plus?((0,t.wg)(),(0,t.iD)("i",r)):n.check?((0,t.wg)(),(0,t.iD)("i",d)):(0,t.kq)("v-if",!0)]))}});var p=o(17450),u=o.n(p),x=o(29530),v=o.n(x),m=o(16199),b=o.n(m),g=o(40458),h=o.n(g),f=o(62916),y=o.n(f),k=o(92165),C=o.n(k),F=o(74258),w={};w.styleTagTransform=C(),w.setAttributes=h(),w.insert=b().bind(null,"head"),w.domAPI=v(),w.insertStyleElement=y(),u()(F.Z,w),F.Z&&F.Z.locals&&F.Z.locals;const E=c},17891:(e,n,o)=>{o.r(n),o.d(n,{default:()=>H});var t=o(71093),a=o(66190),i=o(73843),s=o(71888),l=o(5627),r=o(83487),d=o(83240),c=o(74381),p=o(37530),u=o(15772);const x={class:"container"},v={key:0,class:"current-version-text"},m={style:{"font-weight":"500"}},b={class:"release-type"},g=(e=>((0,t.dD)("data-v-5de03a02"),e=e(),(0,t.Cn)(),e))((()=>(0,t._)("label",null,"Type",-1))),h={class:"buttons-div"},f=["disabled"],y=(0,t.aZ)({__name:"releaseModuleVersion",props:{module:null},emits:["close"],setup(e,{emit:n}){const o=e,y=l.nC.resolve(r.y),k=l.nC.resolve(d.e),C=l.nC.resolve(u.M),F=(0,i.iH)([]),w=(0,i.iH)([]),E=(0,i.iH)([]),Z=(0,i.iH)({backgroundColor:"#F5F5FA",color:"#373737",fontSize:"20px",iconColor:"#F3CA40",marginTop:"20px"}),B=(0,i.iH)([`Major Version (v${j("Major")})`,`Minor Version (v${j("Minor")})`,`Fix Version (v${j("Fix")})`]),V=(0,i.iH)(),I=(0,t.Fl)((()=>!(z.value&&_.value&&q.value&&V.value))),T=(0,i.iH)(""),z=(0,t.Fl)((()=>F.value.some((e=>e.checked||e.anyChildChecked)))),_=(0,t.Fl)((()=>C.checkVersionOfItems(F.value))),q=(0,i.iH)(!1),D=(0,t.Fl)((()=>z.value?_.value?q.value?V.value?void 0:"Please select a version type.":T.value:"There are no items ready to publish. At least one of your items must be ready to publish.":"Please select at least one item to export."));function S(){n("close")}function A(){y.execute((async()=>{const e=await C.validateDependencies(F.value,"Release");T.value=e.dependencyErrorStr,q.value=e.validation}),{loading:!1})}function H(e,n){const o=F.value.findIndex((n=>n.id===e.id));-1!==o?F.value[o]={...e}:F.value.push({...e});const t=w.value.findIndex((n=>n.id===e.id));e.checked?-1!==t?w.value[t]=e:w.value.push(e):-1!==t&&w.value.splice(t,1),n&&A()}function M(e){V.value=e.split(" ")[0]}function j(e){const[n,t,a]=o.module.currentVersion?o.module.currentVersion.split(".").map(Number):o.module.lastReleasedVersion?o.module.lastReleasedVersion.split(".").map(Number):[0,0,0];switch(e){case"Major":return`${n+1}.0.0`;case"Minor":return`${n}.${t+1}.0`;case"Fix":return`${n}.${t}.${a+1}`;default:return}}return(0,t.bv)((async()=>{A(),o.module.currentVersion&&y.execute((async()=>{var e,n,t;const a=await k.checkNextModuleVersion(o.module.ID,o.module.currentVersion);a.majorExist&&(null===(e=E.value)||void 0===e||e.push({index:0,cause:"This version already exists"})),a.minorExist&&(null===(n=E.value)||void 0===n||n.push({index:1,cause:"This version already exists"})),a.fixExist&&(null===(t=E.value)||void 0===t||t.push({index:2,cause:"This version already exists"}))}),{loading:!0})})),(e,n)=>((0,t.wg)(),(0,t.iD)("div",x,[o.module.currentVersion?((0,t.wg)(),(0,t.iD)("div",v,[(0,t._)("span",null,[(0,t.Uk)("Current version: "),(0,t._)("span",m,"v"+(0,a.toDisplayString)(o.module.currentVersion),1)]),o.module.currentVersion!=o.module.lastReleasedVersion?((0,t.wg)(),(0,t.j4)(c.Z,{key:0,style:{"margin-bottom":"20px"},infoText:"Current version is not the latest version."},null,8,["infoText"])):(0,t.kq)("v-if",!0)])):(0,t.kq)("v-if",!0),(0,t.Wm)(p.Z,{screenType:"Release",onGetItem:H,moduleId:o.module.ID,searchable:!0},null,8,["moduleId"]),(0,t._)("div",b,[g,(0,t.Wm)(s.Z,{class:"select-release-type",options:B.value,placeholder:"Select",selectedClass:"selected-type",onInput:M,disabledOptions:E.value},null,8,["options","disabledOptions"])]),(0,i.SU)(I)&&(0,i.SU)(D)?((0,t.wg)(),(0,t.j4)(c.Z,{key:1,customIconClass:"mdi mdi-alert",infoText:(0,i.SU)(D),customStyle:Z.value},null,8,["infoText","customStyle"])):(0,t.kq)("v-if",!0),(0,t._)("div",h,[(0,t._)("button",{class:"cancel-button",onClick:n[0]||(n[0]=e=>S())},"Cancel"),(0,t._)("button",{class:"release-button",disabled:(0,i.SU)(I),onClick:n[1]||(n[1]=e=>function(){const e=w.value.map((e=>({modelID:e.id,version:e.version})));y.execute((async()=>{await k.releaseModule({moduleID:o.module.ID,moduleVersionIncType:V.value,models:e,basedVersion:o.module.currentVersion})}),{loading:!0}),S()}())},"RELEASE",8,f)])]))}});var k=o(17450),C=o.n(k),F=o(29530),w=o.n(F),E=o(16199),Z=o.n(E),B=o(40458),V=o.n(B),I=o(62916),T=o.n(I),z=o(92165),_=o.n(z),q=o(9900),D={};D.styleTagTransform=_(),D.setAttributes=V(),D.insert=Z().bind(null,"head"),D.domAPI=w(),D.insertStyleElement=T(),C()(q.Z,D),q.Z&&q.Z.locals&&q.Z.locals;var S=o(30221),A={};A.styleTagTransform=_(),A.setAttributes=V(),A.insert=Z().bind(null,"head"),A.domAPI=w(),A.insertStyleElement=T(),C()(S.Z,A),S.Z&&S.Z.locals&&S.Z.locals;const H=(0,o(32525).Z)(y,[["__scopeId","data-v-5de03a02"]])}}]);