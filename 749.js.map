{"version":3,"file":"749.js","mappings":"kNAGA,MAAMA,GAA0B,QAAiB,iBAC3CC,GAA0B,QAAiB,kBAC3CC,EAAa,CAAC,uBCApB,GDQ4B,QAAiB,CAC3CC,OAAQ,eACRC,MAAO,CAAC,SACRC,MAAMC,GAAS,KAAEC,IAGnB,MAAMC,EAAW,aAAoCC,EAAA,GAC/CC,EAAuB,aAAyCC,EAAA,GAEhEC,GAAO,UACPC,GAAO,QAA6B,CAAEC,OAAO,EAAMC,MAAM,EAAMC,QAAQ,EAAMC,MAAM,EAAMC,SAAS,IAClGC,GAAW,QAAIC,OAAOC,KAAKR,EAAKS,QAiBtC,MAAO,CAACC,EAAUC,MACR,WAAc,QAAoB,KAAW,KAAM,EACzD,IAAAC,GAAoB,MAAO,KAAM,CAC/BzB,GACA,SAAgB,IAAAyB,GAAoB,QAAS,CAC3CC,KAAM,OACN,sBAAuBF,EAAO,KAAOA,EAAO,GAAMG,GAAiB,EAAOL,MAAQK,IACjF,KAAM,KAAuB,CAC9B,CAAC,aAAaf,EAAKU,YAGvB,IAAAG,GAAoB,MAAO,KAAM,CAC/BxB,IACC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYkB,EAASG,OAAQM,KAC3E,WAAc,QAAoB,MAAO,KAAM,EACrD,SAAiB,qBAAiBA,GAAQ,IAAK,IAC/C,SAAgB,IAAAH,GAAoB,QAAS,CAC3CC,KAAM,WACN,sBAAwBC,GAAkBd,EAAKS,MAAMM,GAASD,GAC7D,KAAM,EAAezB,GAAa,CACnC,CAAC,iBAAiBW,EAAKS,MAAMM,WAG/B,SAEN,IAAAH,GAAoB,MAAO,KAAM,EAC/B,IAAAA,GAAoB,SAAU,CAC5BI,QAASL,EAAO,KAAOA,EAAO,GAAMG,GA1C5CG,uBACUtB,EAASuB,SAAQD,UACnB,IAAKlB,EAAKU,MAAkC,YAAzBU,MAAM,kBAEzB,IAAIC,EAAe,EACnB,MAAMZ,EAAOD,OAAOC,KAAKR,EAAKS,OAC9BD,EAAKa,SAAQC,IAA6D,GAA/CtB,EAAKS,MAAkCa,IAAiBF,OAC/EA,GAAgBZ,EAAKe,cAEnB1B,EAAqB2B,aAAazB,EAAKU,MAAOT,EAAKS,OACzDf,EAAK,UAH8ByB,MAAM,8CAI1C,CAAEM,SAAS,IA+B0C,KACnD,aAEJ","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/superuser/createDomain.vue?65ee","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/superuser/createDomain.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelCheckbox as _vModelCheckbox } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Domain Name \")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Applications \")\nconst _hoisted_3 = [\"onUpdate:modelValue\"]\n\nimport { ref } from \"vue\";\nimport { container } from \"../../../../../domain/core/diContainer\";\nimport { IUseCaseExecutor } from \"../../../../../domain/useCase/IUseCaseExecutor\";\nimport { ISystemUserManagement } from \"../../../../../domain/useCase/ISystemUserManagement\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'createDomain',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst systemUserManagement = container.resolve<ISystemUserManagement>(ISystemUserManagement);\n\nconst name = ref<string>();\nconst apps = ref<Record<string, boolean>>({ quick: true, bpmn: true, entity: true, flow: true, process: true });\nconst appItems = ref(Object.keys(apps.value));\n\nasync function create() {\n    await executor.execute(async () => {\n        if (!name.value) { alert(\"name required!\"); return; }\n\n        let falseCounter = 0;\n        const keys = Object.keys(apps.value);\n        keys.forEach(app => { if ((apps.value as Record<string, boolean>)[app] == false) { falseCounter++; } });\n        if (falseCounter == keys.length) { alert(\"You must choose an application at least!\"); return; }\n\n        await systemUserManagement.createDomain(name.value, apps.value);\n        emit(\"close\");\n    }, { loading: true });\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", null, [\n      _hoisted_1,\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((name).value = $event))\n      }, null, 512 /* NEED_PATCH */), [\n        [_vModelText, name.value]\n      ])\n    ]),\n    _createElementVNode(\"div\", null, [\n      _hoisted_2,\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(appItems.value, (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", null, [\n          _createTextVNode(_toDisplayString(item) + \" \", 1 /* TEXT */),\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"checkbox\",\n            \"onUpdate:modelValue\": ($event: any) => ((apps.value[item]) = $event)\n          }, null, 8 /* PROPS */, _hoisted_3), [\n            [_vModelCheckbox, apps.value[item]]\n          ])\n        ]))\n      }), 256 /* UNKEYED_FRAGMENT */))\n    ]),\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (create()))\n      }, \"Create\")\n    ])\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","import script from \"./createDomain.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./createDomain.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","__name","emits","setup","__props","emit","executor","IUseCaseExecutor","systemUserManagement","ISystemUserManagement","name","apps","quick","bpmn","entity","flow","process","appItems","Object","keys","value","_ctx","_cache","_","type","$event","item","onClick","async","execute","alert","falseCounter","forEach","app","length","createDomain","loading"],"sourceRoot":""}