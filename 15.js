"use strict";(self.webpackChunkqcloud_shell=self.webpackChunkqcloud_shell||[]).push([[15],{4613:(e,n,a)=>{a.d(n,{Z:()=>s});var t=a(1864),i=a.n(t),o=a(352),l=a.n(o)()(i());l.push([e.id,'\n.createButtonDiv[data-v-11598e4c] {\n    text-align: end;\n    padding-top: 21px;\n    height: 53px;\n    border-top: 1px solid #e0e0e0;\n    margin-top: 32px;\n    margin-left: 20px;\n    margin-right: 20px;\n    margin-bottom: 16px;\n}\n.createButton[data-v-11598e4c] {\n    background-color: #151233;\n    color: white;\n    border-radius: 4px;\n    border: none;\n    width: 74px;\n    height: 32px;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 12px;\n    font-family: "ROBOTO";\n    letter-spacing: 0.01px;\n    opacity: 1;\n}\n.nameInput[data-v-11598e4c] {\n    width: 100%;\n    border: 1px solid #a1a1a1;\n    border-radius: 4px;\n    height: 40px;\n    opacity: 1;\n    outline: none;\n}\n[data-v-11598e4c]::placeholder {\n    padding-left: 10px;\n    padding-top: 5px;\n    color: #a1a1a1;\n    font-style: normal;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    font-size: 14px;\n    opacity: 1px;\n}\n.nameInputDiv[data-v-11598e4c] {\n    padding-left: 20px;\n    padding-right: 20px;\n    padding-top: 18px;\n}\n.duplicateNoteDiv[data-v-11598e4c] {\n    margin-left: 20px;\n    margin-right: 20px;\n    margin-top: 18px;\n}\n.labelValue[data-v-11598e4c] {\n    color: #151233;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    opacity: 1;\n}\n.duplicateText[data-v-11598e4c] {\n    font-weight: bold;\n    font-size: 14px;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    opacity: 1;\n}\n.choose-existing-process-flow-dropdown[data-v-11598e4c] {\n    width: 511px;\n    border: 1px solid #a1a1a1;\n    border-radius: 4px;\n    height: 40px;\n    padding: 8px;\n    font-size: 14px;\n    font-family: "Roboto";\n}\n.choose-existing-process-flow-dropdown-label[data-v-11598e4c] {\n    color: #151233;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    letter-spacing: 0px;\n    opacity: 1;\n    font-family: "Roboto";\n}\n.requiredIcon[data-v-11598e4c] {\n    color: #757575;\n    font-size: 15px;\n}\n',"",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/newItem.vue"],names:[],mappings:";AAikBA;IACI,eAAe;IACf,iBAAiB;IACjB,YAAY;IACZ,6BAA6B;IAC7B,gBAAgB;IAChB,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;AACvB;AAEA;IACI,yBAAyB;IACzB,YAAY;IACZ,kBAAkB;IAClB,YAAY;IACZ,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,qBAAqB;IACrB,sBAAsB;IACtB,UAAU;AACd;AAEA;IACI,WAAW;IACX,yBAAyB;IACzB,kBAAkB;IAClB,YAAY;IACZ,UAAU;IACV,aAAa;AACjB;AAEA;IACI,kBAAkB;IAClB,gBAAgB;IAChB,cAAc;IACd,kBAAkB;IAClB,qBAAqB;IACrB,mBAAmB;IACnB,eAAe;IACf,YAAY;AAChB;AAEA;IACI,kBAAkB;IAClB,mBAAmB;IACnB,iBAAiB;AACrB;AAEA;IACI,iBAAiB;IACjB,kBAAkB;IAClB,gBAAgB;AACpB;AAEA;IACI,cAAc;IACd,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,qBAAqB;IACrB,mBAAmB;IACnB,UAAU;AACd;AACA;IACI,iBAAiB;IACjB,eAAe;IACf,qBAAqB;IACrB,mBAAmB;IACnB,UAAU;AACd;AAEA;IACI,YAAY;IACZ,yBAAyB;IACzB,kBAAkB;IAClB,YAAY;IACZ,YAAY;IACZ,eAAe;IACf,qBAAqB;AACzB;AACA;IACI,cAAc;IACd,kBAAkB;IAClB,iBAAiB;IACjB,eAAe;IACf,mBAAmB;IACnB,UAAU;IACV,qBAAqB;AACzB;AAEA;IACI,cAAc;IACd,eAAe;AACnB",sourcesContent:['<script setup lang="ts">\nimport { computed, defineAsyncComponent, onMounted, ref } from "vue";\nimport { container } from "../../../../domain/core/diContainer";\nimport { INewItemProps } from "../../../../domain/presentation/dialogs/INewItemProps";\nimport { IDialog } from "../../../../domain/presentation/IDialog";\nimport { ICreateModel, ICreateModelParam } from "../../../../domain/useCase/ICreateModel";\nimport { ICreateModule } from "../../../../domain/useCase/ICreateModule";\nimport { IUseCaseExecutor } from "../../../../domain/useCase/IUseCaseExecutor";\nimport { IViewModel } from "../../../../domain/viewModel/IViewModel";\n// import FileUpload from "../FileUpload";\n// import UploadFile from "../UploadFile.vue"\nimport { checkInputStartsWithLetter, checkInputLength } from "../../editors/processEditor/validation/validation";\nimport { IStudio } from "../../../../domain/useCase/IStudio";\nimport { IModel, IModelBodyObject, IModule } from "../../../../domain/model/models";\nimport { IProcessEditorUtil } from "../../../../domain/useCase/IProcessEditorUtil";\nimport { createError } from "../../../../domain/model/shellError";\nimport IDEInput from "../../components/application/IDEInput.vue";\nimport { IIDEInputDefinitions } from "../../../../domain/presentation/IIDEInputDefinitions";\nimport { IObjectUseCase } from "../../../../domain/useCase/IObjectUseCase";\n\ninterface INewItemPropsInline extends INewItemProps {\n    parentId: string;\n    parentName: string;\n    parentType: "folder" | "module" | "application";\n    createType: "Screen" | "Process Diagram" | "Entity" | "Process Wizard" | "Module";\n    duplicateFrom?: IModel;\n}\n\ninterface IProcessFlow {\n    type?: "create-new-process-flow" | "choose-existing-process-flow";\n    newProcessFlowName?: string;\n    selectedExistingBpmnFileID?: string;\n    selectedExistingBpmnFileName: string;\n    isNewProcessFlowNameValid: boolean;\n}\n\nconst props = defineProps<INewItemPropsInline>();\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst dialog = container.resolve<IDialog>(IDialog);\nconst studio = container.resolve<IStudio>(IStudio);\nconst processEditorUtil = container.resolve<IProcessEditorUtil>(IProcessEditorUtil);\nconst bpmnFiles = ref();\nif (props.createType == "Process Wizard") {\n    bpmnFiles.value = processEditorUtil.getModelsOfModule(viewModel.studio.items.find((item) => item.ID == props.parentId) as IModule).bpmns;\n}\nconst emit = defineEmits(["close"]);\n\n// module\nconst isDescValid = ref<boolean>(true);\n\n// entity\nconst isNameValid = ref<boolean>(false);\n\nconst validations = ref<Record<"name" | "description", IIDEInputDefinitions["validations"]>>({\n    name: { minAndMaxLength: { min: 3, max: 40 }, availableCharacters: true, nonSpaceCharacter: true },\n    description: { minAndMaxLength: { min: 3, max: 100 }, availableCharacters: true, nonSpaceCharacter: false },\n});\n\nconst isModule = ref(false);\nconst isFolder = ref(false);\nconst isModel = ref(false);\nconst name = ref("");\nconst description = ref("");\n\nconst isEntity = ref(false);\nconst isScreen = ref(false);\nconst isProcess = ref(false);\nconst isProcessDiagram = ref(false);\nconst isEmptyPage = ref(false);\nconst isQuickComponent = ref(false);\nconst isQuickTemplate = ref(false);\nconst isImportFromFile = ref(false);\nconst isGenerateFromEntity = ref(false);\n\nconst createButtonVisibility = ref(true);\n\nconst processFlow = ref({\n    selectedExistingBpmnFileName: "",\n    isNewProcessFlowNameValid: false,\n} as IProcessFlow);\n\nlet entities = ["entity1", "entity2"];\nlet generateScreenTypes = ["List", "Create"];\nlet selectedEntity = "";\nlet selectedGenerateScreenType = "";\n\nif (props.parentType === "module") {\n    onTypeSelect("model");\n}\nonMounted(() => {\n    switch (props.createType) {\n        case "Screen":\n            isModule.value = false;\n            isEmptyPage.value = true;\n            isModel.value = true;\n            isScreen.value = true;\n            isEntity.value = isProcessDiagram.value = isProcess.value = false;\n            createButtonVisibility.value = true;\n            isQuickComponent.value = isQuickTemplate.value = isImportFromFile.value = isGenerateFromEntity.value = false;\n            break;\n        case "Process Diagram":\n            (isProcess.value = false), (isProcessDiagram.value = true), (isEntity.value = isScreen.value = false);\n            createButtonVisibility.value = true;\n            break;\n        case "Entity":\n            isEntity.value = true;\n            isScreen.value = isProcessDiagram.value = isProcess.value = false;\n            createButtonVisibility.value = true;\n            break;\n        case "Process Wizard":\n            isProcess.value = true;\n            isEntity.value = isProcessDiagram.value = isScreen.value = false;\n            createButtonVisibility.value = true;\n            break;\n        case "Module":\n            isModule.value = true;\n            isFolder.value = isProcessDiagram.value = isModel.value = false;\n            setAllSubRadiosFalse();\n            createButtonVisibility.value = true;\n            break;\n    }\n});\n\nfunction create() {\n    executor.execute(\n        async () => {\n            if (isModule.value) {\n                await executor.executeUseCase<ICreateModule>(ICreateModule, {\n                    name: name.value,\n                    applicationID: props.parentId,\n                    description: description.value,\n                });\n                emit("close");\n            } else if (isFolder.value) {\n                return;\n            } else if (isModel.value) {\n                let modelBody: Array<IModelBodyObject>;\n                let createObject: ICreateModelParam;\n                if (isEntity.value) {\n                    modelBody = [{ key: "entityDesigner", model: "" }];\n                    createObject = {\n                        name: name.value,\n                        parentObjectId: props.parentId,\n                        modelBody,\n                        modelType: "entityDesigner",\n                        modelAdditionals: {},\n                    };\n                } else if (isEmptyPage.value) {\n                    modelBody = [{ key: "qjson", model: "" }];\n                    createObject = {\n                        name: name.value,\n                        parentObjectId: props.parentId,\n                        modelBody,\n                        modelType: "qjson",\n                        modelAdditionals: { qjsonType: "qjson" },\n                    };\n                } else if (isQuickComponent.value) {\n                    modelBody = [{ key: "qjson", model: "" }];\n                    createObject = {\n                        name: name.value,\n                        parentObjectId: props.parentId,\n                        modelBody,\n                        modelType: "qjson",\n                        modelAdditionals: { qjsonType: "quickComponent" },\n                    };\n                } else if (isQuickTemplate.value) {\n                    modelBody = [{ key: "qjson", model: "" }];\n                    createObject = {\n                        name: name.value,\n                        parentObjectId: props.parentId,\n                        modelBody,\n                        modelType: "qjson",\n                        modelAdditionals: { qjsonType: "template" },\n                    };\n                } else if (isImportFromFile.value) {\n                    console.log("isImportFromFile");\n                    return;\n                } else if (isGenerateFromEntity.value) {\n                    console.log("isGenerateFromEntity");\n                    return;\n                } else if (isProcess.value) {\n                    const model = processEditorUtil.getEmptyProcessWizardModel(props.parentName);\n                    switch (processFlow.value.type) {\n                        case "create-new-process-flow":\n                            model.usingExistingBpmnFile = false;\n                            model.selectedExistingBpmnFile.ID = "";\n                            model.processFlowName = processFlow.value.newProcessFlowName || name.value;\n                            break;\n                        case "choose-existing-process-flow":\n                            model.usingExistingBpmnFile = true;\n                            model.selectedExistingBpmnFile.ID = processFlow.value.selectedExistingBpmnFileID || "";\n                            break;\n                        default:\n                            break;\n                    }\n                    createObject = {\n                        name: name.value,\n                        parentObjectId: props.parentId,\n                        modelType: "process",\n                        modelBody: [{ key: "process", model }],\n                        modelAdditionals: {},\n                    };\n                } else if (isProcessDiagram.value) {\n                    modelBody = [{ key: "bpmn", model: "" }];\n                    createObject = {\n                        name: name.value,\n                        parentObjectId: props.parentId,\n                        modelBody,\n                        modelType: "bpmn",\n                        modelAdditionals: { isNotAutoGenerated: true, isModifiedByUser: true },\n                    };\n                } else {\n                    throw createError({ message: "unexpected case", type: "technical" });\n                }\n                if (props.duplicateFrom) {\n                    createObject.duplicateFrom = props.duplicateFrom;\n                }\n                const createdModel = await executor.executeUseCase<ICreateModel>(ICreateModel, createObject);\n                await onAfterModelCreated(createdModel);\n                emit("close");\n            }\n        },\n        { loading: true }\n    );\n}\n\nasync function onAfterModelCreated(createdModel: IModel) {\n    await studio.checkout(createdModel);\n    studio.openItem(createdModel);\n}\n// not: listHistories dialog componentı olacak.\n// örnek modelİd = vgvrxgap-ahvp-igjc-h2ft-w33p9q41 asd.qjson\n\n// parentObjectId = objectId\n// this.executor.executeUseCase<ICreateModel>(ICreateModel, { name: "model1", parentObjectId: createdParentObjectId!, modelType: "qjson", modelAdditionals: { qjsonType: "qjson" } });\n\nfunction setAllSubRadiosFalse() {\n    isEntity.value = isScreen.value = false;\n    isEmptyPage.value =\n        isQuickComponent.value =\n        isQuickTemplate.value =\n        isImportFromFile.value =\n        isGenerateFromEntity.value =\n        createButtonVisibility.value =\n            false;\n}\n\nfunction onTypeSelect(\n    type:\n        | "module"\n        | "folder"\n        | "model"\n        | "entity"\n        | "screen"\n        | "process"\n        | "emptyPage"\n        | "quickComponent"\n        | "quickTemplate"\n        | "importFromFile"\n        | "generateFromEntity"\n) {\n    switch (type) {\n        case "module":\n            isModule.value = true;\n            isFolder.value = isModel.value = false;\n            setAllSubRadiosFalse();\n            createButtonVisibility.value = true;\n            break;\n        case "folder":\n            isFolder.value = true;\n            isModule.value = isModel.value = false;\n            setAllSubRadiosFalse();\n            break;\n        case "model":\n            isModel.value = true;\n            isModule.value = isFolder.value = false;\n            setAllSubRadiosFalse();\n            break;\n        case "entity":\n            isEntity.value = true;\n            isScreen.value = isProcess.value = false;\n            createButtonVisibility.value = true;\n            break;\n        case "screen":\n            isModule.value = false;\n            isModel.value = true;\n            isScreen.value = true;\n            isEntity.value = isProcess.value = false;\n            createButtonVisibility.value = false;\n            break;\n        case "process":\n            isProcess.value = true;\n            isEntity.value = isScreen.value = false;\n            createButtonVisibility.value = true;\n            break; // openProcessWizard(); emit("close"); break;\n        case "emptyPage":\n            isEmptyPage.value = true;\n            isQuickComponent.value = isQuickTemplate.value = isImportFromFile.value = isGenerateFromEntity.value = false;\n            createButtonVisibility.value = true;\n            break;\n        case "quickComponent":\n            isQuickComponent.value = true;\n            isEmptyPage.value = isQuickTemplate.value = isImportFromFile.value = isGenerateFromEntity.value = false;\n            createButtonVisibility.value = true;\n            break;\n        case "quickTemplate":\n            isQuickTemplate.value = true;\n            isEmptyPage.value = isQuickComponent.value = isImportFromFile.value = isGenerateFromEntity.value = false;\n            createButtonVisibility.value = true;\n            break;\n        case "importFromFile":\n            isImportFromFile.value = true;\n            isEmptyPage.value = isQuickComponent.value = isQuickTemplate.value = isGenerateFromEntity.value = false;\n            createButtonVisibility.value = true;\n            break;\n        case "generateFromEntity":\n            isGenerateFromEntity.value = true;\n            isEmptyPage.value = isQuickComponent.value = isQuickTemplate.value = isImportFromFile.value = false;\n            createButtonVisibility.value = true;\n            break;\n    }\n}\n\nfunction upload(event: Event) {\n    // file = event.target.files[0];\n    // let formData = new FormData();\n    // formData.append(\'file\', file);\n}\n\nfunction handleCreateNewProcessFlow() {\n    switch (processFlow.value.type) {\n        case "create-new-process-flow":\n            processFlow.value.selectedExistingBpmnFileID = "";\n            processFlow.value.selectedExistingBpmnFileName = "";\n            break;\n        case "choose-existing-process-flow":\n            processFlow.value.isNewProcessFlowNameValid = false;\n            processFlow.value.newProcessFlowName = "";\n            break;\n        default:\n            break;\n    }\n}\n\nfunction setDescValue(desc: string) {\n    description.value = desc;\n}\n\nfunction handleSelectedExistingBpmnFileID($event: any) {\n    let selectedExistingBpmnFile = $event.target[$event.target.selectedIndex];\n    processFlow.value.selectedExistingBpmnFileID = selectedExistingBpmnFile.id;\n}\n\n// general validations methods\nfunction setDescValidationStatus(isValid: boolean) {\n    isDescValid.value = isValid;\n}\nfunction setNameValue(value: string) {\n    name.value = value;\n}\n\nfunction setNewProcessFlowNameValue(value: string) {\n    processFlow.value.newProcessFlowName = value;\n}\nfunction setNameValidationStatus(isValid: boolean) {\n    isNameValid.value = isValid;\n}\n\nfunction setNewProcessFlowNameValidationStatus(isValid: boolean) {\n    processFlow.value.isNewProcessFlowNameValid = isValid;\n}\n\nfunction fun() {\n    debugger;\n}\n<\/script>\n\n<template>\n    <div>\n        <div></div>\n\n        \x3c!-- New Module --\x3e\n\n        <div class="nameInputDiv" v-if="isModule">\n            <div>\n                <IDEInput\n                    :isRequired="true"\n                    @getValue="setNameValue"\n                    @validateStatus="setNameValidationStatus"\n                    :placeholder="`Give your ${props.createType} a name `"\n                    :type="\'text\'"\n                    info-text="Name"\n                    :validations="validations.name"\n                />\n            </div>\n            <div style="margin-top: 15px">\n                <IDEInput\n                    :isRequired="false"\n                    @getValue="setDescValue"\n                    @validateStatus="setDescValidationStatus"\n                    :placeholder="\'Description\'"\n                    :type="\'textarea\'"\n                    info-text="Description"\n                    :validations="validations.description"\n                />\n            </div>\n        </div>\n\n        <div v-if="props.duplicateFrom" class="duplicateNoteDiv">\n            <span class="labelValue"\n                >* This new Item will be duplicated from <span class="duplicateText">{{ props.duplicateFrom.name }} </span></span\n            >\n        </div>\n        \x3c!-- New Entity --\x3e\n        <div class="nameInputDiv" v-if="isEntity">\n            <div>\n                <IDEInput\n                    :isRequired="true"\n                    @getValue="setNameValue"\n                    @validateStatus="setNameValidationStatus"\n                    :placeholder="`Give your ${props.createType} a name `"\n                    :type="\'text\'"\n                    info-text="Name"\n                    :validations="validations.name"\n                />\n            </div>\n        </div>\n\n        \x3c!-- New Process --\x3e\n        <div class="nameInputDiv" v-if="isProcess">\n            <div>\n                <IDEInput\n                    :isRequired="true"\n                    @getValue="setNameValue"\n                    @validateStatus="setNameValidationStatus"\n                    :placeholder="`Name`"\n                    :type="\'text\'"\n                    info-text="Process Name"\n                    :validations="validations.name"\n                />\n            </div>\n            <hr />\n            <div>\n                <input\n                    type="radio"\n                    id="create-new-process-flow"\n                    name="create-new-process-flow"\n                    value="create-new-process-flow"\n                    v-model="processFlow.type"\n                    @change="handleCreateNewProcessFlow"\n                />Create New Process Flow (BPMN)\n\n                <div v-if="processFlow.type == \'create-new-process-flow\'">\n                    <IDEInput\n                        :isRequired="true"\n                        @getValue="setNewProcessFlowNameValue"\n                        @validateStatus="setNewProcessFlowNameValidationStatus"\n                        :placeholder="`Name`"\n                        :type="\'text\'"\n                        info-text="Process Flow Name"\n                        :validations="validations.name"\n                    />\n                </div>\n\n                <br />\n\n                <input\n                    type="radio"\n                    id="create-new-process-flow"\n                    name="choose-existing-process-flow"\n                    value="choose-existing-process-flow"\n                    v-model="processFlow.type"\n                    @change="handleCreateNewProcessFlow"\n                />Choose Existing Process Flow (BPMN)\n\n                <div v-if="processFlow.type == \'choose-existing-process-flow\'">\n                    <span class="choose-existing-process-flow-dropdown-label">BPMN File</span\n                    ><i v-if="processFlow.type == \'choose-existing-process-flow\'" class="requiredIcon">*</i>\n                    <select\n                        class="choose-existing-process-flow-dropdown"\n                        name="choose-existing-process-flow"\n                        id="choose-existing-process-flow"\n                        v-model="processFlow.selectedExistingBpmnFileName"\n                        @change="handleSelectedExistingBpmnFileID"\n                        required\n                    >\n                        <option value="" disabled selected>Choose Existing Process Flow (BPMN)</option>\n                        <option v-for="bpmnFile in bpmnFiles" :id="bpmnFile.ID">\n                            {{ bpmnFile.name }}\n                        </option>\n                    </select>\n                </div>\n            </div>\n        </div>\n\n        <div class="nameInputDiv" v-if="isProcessDiagram">\n            <div>\n                <IDEInput\n                    :isRequired="true"\n                    @getValue="setNameValue"\n                    @validateStatus="setNameValidationStatus"\n                    :placeholder="`Give your ${props.createType} a name `"\n                    :type="\'text\'"\n                    info-text="Name"\n                    :validations="validations.name"\n                />\n            </div>\n        </div>\n\n        <div v-if="isScreen">\n            <div class="nameInputDiv" v-if="isEmptyPage || isQuickComponent || isQuickTemplate">\n                <IDEInput\n                    :isRequired="true"\n                    @getValue="setNameValue"\n                    @validateStatus="setNameValidationStatus"\n                    :placeholder="`Give your ${props.createType} a name `"\n                    :type="\'text\'"\n                    info-text="Name"\n                    :validations="validations.name"\n                />\n            </div>\n            <div class="nameInputDiv" v-if="isImportFromFile">\n                <span class="labelValue">Name</span>\n                <input class="nameInput" v-model="name" :placeholder="`Give your ${props.createType} a name `" />\n                <div>\n                    <input type="file" @change="upload($event)" accept=".qjson" />\n                </div>\n            </div>\n            \x3c!--  isGenerateFromEntity \n            <div v-if="isGenerateFromEntity"> \n                <input v-model="name" placeholder="Screen Name" />.qjson\n                <select v-model="selectedEntity">\n                    <option v-for="entity in entities" :value="entity">\n                        {{entity}}\n                    </option>\n                </select>\n                <select v-model="selectedGenerateScreenType">\n                    <option v-for="generateScreenType in generateScreenTypes" :value="generateScreenType">\n                        {{generateScreenType}}\n                    </option>\n                </select>\n            </div> \n            --\x3e\n        </div>\n\n        \x3c!-- New Folder --\x3e\n        <div v-if="isFolder"></div>\n\n        <div class="createButtonDiv">\n            <button\n                :style="{\n                    opacity: isProcess\n                        ? !(isNameValid && isDescValid) ||\n                          !(!!processFlow.selectedExistingBpmnFileName.length || processFlow.isNewProcessFlowNameValid)\n                            ? \'0.5\'\n                            : \'\'\n                        : !(isNameValid && isDescValid)\n                        ? \'0.5\'\n                        : \'\',\n                }"\n                class="createButton"\n                @click="create()"\n                :disabled="\n                    isProcess\n                        ? !(isNameValid && isDescValid) ||\n                          !(!!processFlow.selectedExistingBpmnFileName.length || processFlow.isNewProcessFlowNameValid)\n                        : !(isNameValid && isDescValid)\n                "\n            >\n                {{ props.duplicateFrom ? "DUPLICATE" : "CREATE" }}\n            </button>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n.createButtonDiv {\n    text-align: end;\n    padding-top: 21px;\n    height: 53px;\n    border-top: 1px solid #e0e0e0;\n    margin-top: 32px;\n    margin-left: 20px;\n    margin-right: 20px;\n    margin-bottom: 16px;\n}\n\n.createButton {\n    background-color: #151233;\n    color: white;\n    border-radius: 4px;\n    border: none;\n    width: 74px;\n    height: 32px;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 12px;\n    font-family: "ROBOTO";\n    letter-spacing: 0.01px;\n    opacity: 1;\n}\n\n.nameInput {\n    width: 100%;\n    border: 1px solid #a1a1a1;\n    border-radius: 4px;\n    height: 40px;\n    opacity: 1;\n    outline: none;\n}\n\n::placeholder {\n    padding-left: 10px;\n    padding-top: 5px;\n    color: #a1a1a1;\n    font-style: normal;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    font-size: 14px;\n    opacity: 1px;\n}\n\n.nameInputDiv {\n    padding-left: 20px;\n    padding-right: 20px;\n    padding-top: 18px;\n}\n\n.duplicateNoteDiv {\n    margin-left: 20px;\n    margin-right: 20px;\n    margin-top: 18px;\n}\n\n.labelValue {\n    color: #151233;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    opacity: 1;\n}\n.duplicateText {\n    font-weight: bold;\n    font-size: 14px;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    opacity: 1;\n}\n\n.choose-existing-process-flow-dropdown {\n    width: 511px;\n    border: 1px solid #a1a1a1;\n    border-radius: 4px;\n    height: 40px;\n    padding: 8px;\n    font-size: 14px;\n    font-family: "Roboto";\n}\n.choose-existing-process-flow-dropdown-label {\n    color: #151233;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    letter-spacing: 0px;\n    opacity: 1;\n    font-family: "Roboto";\n}\n\n.requiredIcon {\n    color: #757575;\n    font-size: 15px;\n}\n</style>\n'],sourceRoot:""}]);const s=l},7015:(e,n,a)=>{a.r(n),a.d(n,{default:()=>se});var t=a(2068),i=a(9045),o=a(1705),l=a(1407),s=a(3734),r=a(2455),d=a(9388),c=a(2996),p=a(664),u=a(7422),m=a(3900),v=a(7409),f=a(7716),y=a(9969);const A=e=>((0,t.dD)("data-v-11598e4c"),e=e(),(0,t.Cn)(),e),g=A((()=>(0,t._)("div",null,null,-1))),I={key:0,class:"nameInputDiv"},w={style:{"margin-top":"15px"}},x={key:1,class:"duplicateNoteDiv"},B={class:"labelValue"},F=(0,t.Uk)("* This new Item will be duplicated from "),C={class:"duplicateText"},h={key:2,class:"nameInputDiv"},b={key:3,class:"nameInputDiv"},k=A((()=>(0,t._)("hr",null,null,-1))),E=(0,t.Uk)("Create New Process Flow (BPMN) "),N={key:0},D=A((()=>(0,t._)("br",null,null,-1))),P=(0,t.Uk)("Choose Existing Process Flow (BPMN) "),V={key:1},T=A((()=>(0,t._)("span",{class:"choose-existing-process-flow-dropdown-label"},"BPMN File",-1))),q={key:0,class:"requiredIcon"},M=A((()=>(0,t._)("option",{value:"",disabled:"",selected:""},"Choose Existing Process Flow (BPMN)",-1))),S=["id"],j={key:4,class:"nameInputDiv"},O={key:5},U={key:0,class:"nameInputDiv"},G={key:1,class:"nameInputDiv"},R=A((()=>(0,t._)("span",{class:"labelValue"},"Name",-1))),z=["placeholder"],_={key:6},H={class:"createButtonDiv"},Z=["disabled"],Q=(0,t.aZ)({__name:"newItem",props:{parentId:null,parentName:null,parentType:null,createType:null,duplicateFrom:null},emits:["close"],setup(e,{emit:n}){const a=e,A=s.nC.resolve(u.J),Q=s.nC.resolve(p.y),W=(s.nC.resolve(r.u),s.nC.resolve(m.c)),Y=s.nC.resolve(v.s),$=(0,l.iH)();"Process Wizard"==a.createType&&($.value=Y.getModelsOfModule(A.studio.items.find((e=>e.ID==a.parentId))).bpmns);const L=(0,l.iH)(!0),X=(0,l.iH)(!1),J=(0,l.iH)({name:{minAndMaxLength:{min:3,max:40},availableCharacters:!0,nonSpaceCharacter:!0},description:{minAndMaxLength:{min:3,max:100},availableCharacters:!0,nonSpaceCharacter:!1}}),K=(0,l.iH)(!1),ee=(0,l.iH)(!1),ne=(0,l.iH)(!1),ae=(0,l.iH)(""),te=(0,l.iH)(""),ie=(0,l.iH)(!1),oe=(0,l.iH)(!1),le=(0,l.iH)(!1),se=(0,l.iH)(!1),re=(0,l.iH)(!1),de=(0,l.iH)(!1),ce=(0,l.iH)(!1),pe=(0,l.iH)(!1),ue=(0,l.iH)(!1),me=(0,l.iH)(!0),ve=(0,l.iH)({selectedExistingBpmnFileName:"",isNewProcessFlowNameValid:!1});function fe(){ie.value=oe.value=!1,re.value=de.value=ce.value=pe.value=ue.value=me.value=!1}function ye(){switch(ve.value.type){case"create-new-process-flow":ve.value.selectedExistingBpmnFileID="",ve.value.selectedExistingBpmnFileName="";break;case"choose-existing-process-flow":ve.value.isNewProcessFlowNameValid=!1,ve.value.newProcessFlowName=""}}function Ae(e){te.value=e}function ge(e){let n=e.target[e.target.selectedIndex];ve.value.selectedExistingBpmnFileID=n.id}function Ie(e){L.value=e}function we(e){ae.value=e}function xe(e){ve.value.newProcessFlowName=e}function Be(e){X.value=e}function Fe(e){ve.value.isNewProcessFlowNameValid=e}return"module"===a.parentType&&(ne.value=!0,K.value=ee.value=!1,fe()),(0,t.bv)((()=>{switch(a.createType){case"Screen":K.value=!1,re.value=!0,ne.value=!0,oe.value=!0,ie.value=se.value=le.value=!1,me.value=!0,de.value=ce.value=pe.value=ue.value=!1;break;case"Process Diagram":le.value=!1,se.value=!0,ie.value=oe.value=!1,me.value=!0;break;case"Entity":ie.value=!0,oe.value=se.value=le.value=!1,me.value=!0;break;case"Process Wizard":le.value=!0,ie.value=se.value=oe.value=!1,me.value=!0;break;case"Module":K.value=!0,ee.value=se.value=ne.value=!1,fe(),me.value=!0}})),(e,l)=>((0,t.wg)(),(0,t.iD)("div",null,[g,(0,t.kq)(" New Module "),K.value?((0,t.wg)(),(0,t.iD)("div",I,[(0,t._)("div",null,[(0,t.Wm)(y.Z,{isRequired:!0,onGetValue:we,onValidateStatus:Be,placeholder:`Give your ${a.createType} a name `,type:"text","info-text":"Name",validations:J.value.name},null,8,["placeholder","validations"])]),(0,t._)("div",w,[(0,t.Wm)(y.Z,{isRequired:!1,onGetValue:Ae,onValidateStatus:Ie,placeholder:"Description",type:"textarea","info-text":"Description",validations:J.value.description},null,8,["validations"])])])):(0,t.kq)("v-if",!0),a.duplicateFrom?((0,t.wg)(),(0,t.iD)("div",x,[(0,t._)("span",B,[F,(0,t._)("span",C,(0,i.toDisplayString)(a.duplicateFrom.name),1)])])):(0,t.kq)("v-if",!0),(0,t.kq)(" New Entity "),ie.value?((0,t.wg)(),(0,t.iD)("div",h,[(0,t._)("div",null,[(0,t.Wm)(y.Z,{isRequired:!0,onGetValue:we,onValidateStatus:Be,placeholder:`Give your ${a.createType} a name `,type:"text","info-text":"Name",validations:J.value.name},null,8,["placeholder","validations"])])])):(0,t.kq)("v-if",!0),(0,t.kq)(" New Process "),le.value?((0,t.wg)(),(0,t.iD)("div",b,[(0,t._)("div",null,[(0,t.Wm)(y.Z,{isRequired:!0,onGetValue:we,onValidateStatus:Be,placeholder:"Name",type:"text","info-text":"Process Name",validations:J.value.name},null,8,["validations"])]),k,(0,t._)("div",null,[(0,t.wy)((0,t._)("input",{type:"radio",id:"create-new-process-flow",name:"create-new-process-flow",value:"create-new-process-flow","onUpdate:modelValue":l[0]||(l[0]=e=>ve.value.type=e),onChange:ye},null,544),[[o.vModelRadio,ve.value.type]]),E,"create-new-process-flow"==ve.value.type?((0,t.wg)(),(0,t.iD)("div",N,[(0,t.Wm)(y.Z,{isRequired:!0,onGetValue:xe,onValidateStatus:Fe,placeholder:"Name",type:"text","info-text":"Process Flow Name",validations:J.value.name},null,8,["validations"])])):(0,t.kq)("v-if",!0),D,(0,t.wy)((0,t._)("input",{type:"radio",id:"create-new-process-flow",name:"choose-existing-process-flow",value:"choose-existing-process-flow","onUpdate:modelValue":l[1]||(l[1]=e=>ve.value.type=e),onChange:ye},null,544),[[o.vModelRadio,ve.value.type]]),P,"choose-existing-process-flow"==ve.value.type?((0,t.wg)(),(0,t.iD)("div",V,[T,"choose-existing-process-flow"==ve.value.type?((0,t.wg)(),(0,t.iD)("i",q,"*")):(0,t.kq)("v-if",!0),(0,t.wy)((0,t._)("select",{class:"choose-existing-process-flow-dropdown",name:"choose-existing-process-flow",id:"choose-existing-process-flow","onUpdate:modelValue":l[2]||(l[2]=e=>ve.value.selectedExistingBpmnFileName=e),onChange:ge,required:""},[M,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)($.value,(e=>((0,t.wg)(),(0,t.iD)("option",{id:e.ID},(0,i.toDisplayString)(e.name),9,S)))),256))],544),[[o.vModelSelect,ve.value.selectedExistingBpmnFileName]])])):(0,t.kq)("v-if",!0)])])):(0,t.kq)("v-if",!0),se.value?((0,t.wg)(),(0,t.iD)("div",j,[(0,t._)("div",null,[(0,t.Wm)(y.Z,{isRequired:!0,onGetValue:we,onValidateStatus:Be,placeholder:`Give your ${a.createType} a name `,type:"text","info-text":"Name",validations:J.value.name},null,8,["placeholder","validations"])])])):(0,t.kq)("v-if",!0),oe.value?((0,t.wg)(),(0,t.iD)("div",O,[re.value||de.value||ce.value?((0,t.wg)(),(0,t.iD)("div",U,[(0,t.Wm)(y.Z,{isRequired:!0,onGetValue:we,onValidateStatus:Be,placeholder:`Give your ${a.createType} a name `,type:"text","info-text":"Name",validations:J.value.name},null,8,["placeholder","validations"])])):(0,t.kq)("v-if",!0),pe.value?((0,t.wg)(),(0,t.iD)("div",G,[R,(0,t.wy)((0,t._)("input",{class:"nameInput","onUpdate:modelValue":l[3]||(l[3]=e=>ae.value=e),placeholder:`Give your ${a.createType} a name `},null,8,z),[[o.vModelText,ae.value]]),(0,t._)("div",null,[(0,t._)("input",{type:"file",onChange:l[4]||(l[4]=e=>{}),accept:".qjson"},null,32)])])):(0,t.kq)("v-if",!0),(0,t.kq)('  isGenerateFromEntity \n            <div v-if="isGenerateFromEntity"> \n                <input v-model="name" placeholder="Screen Name" />.qjson\n                <select v-model="selectedEntity">\n                    <option v-for="entity in entities" :value="entity">\n                        {{entity}}\n                    </option>\n                </select>\n                <select v-model="selectedGenerateScreenType">\n                    <option v-for="generateScreenType in generateScreenTypes" :value="generateScreenType">\n                        {{generateScreenType}}\n                    </option>\n                </select>\n            </div> \n            ')])):(0,t.kq)("v-if",!0),(0,t.kq)(" New Folder "),ee.value?((0,t.wg)(),(0,t.iD)("div",_)):(0,t.kq)("v-if",!0),(0,t._)("div",H,[(0,t._)("button",{style:(0,i.normalizeStyle)({opacity:le.value?X.value&&L.value&&(ve.value.selectedExistingBpmnFileName.length||ve.value.isNewProcessFlowNameValid)?"":"0.5":X.value&&L.value?"":"0.5"}),class:"createButton",onClick:l[5]||(l[5]=e=>{Q.execute((async()=>{if(K.value)await Q.executeUseCase(c.z,{name:ae.value,applicationID:a.parentId,description:te.value}),n("close");else{if(ee.value)return;if(ne.value){let e,t;if(ie.value)e=[{key:"entityDesigner",model:""}],t={name:ae.value,parentObjectId:a.parentId,modelBody:e,modelType:"entityDesigner",modelAdditionals:{}};else if(re.value)e=[{key:"qjson",model:""}],t={name:ae.value,parentObjectId:a.parentId,modelBody:e,modelType:"qjson",modelAdditionals:{qjsonType:"qjson"}};else if(de.value)e=[{key:"qjson",model:""}],t={name:ae.value,parentObjectId:a.parentId,modelBody:e,modelType:"qjson",modelAdditionals:{qjsonType:"quickComponent"}};else if(ce.value)e=[{key:"qjson",model:""}],t={name:ae.value,parentObjectId:a.parentId,modelBody:e,modelType:"qjson",modelAdditionals:{qjsonType:"template"}};else{if(pe.value)return void console.log("isImportFromFile");if(ue.value)return void console.log("isGenerateFromEntity");if(le.value){const e=Y.getEmptyProcessWizardModel(a.parentName);switch(ve.value.type){case"create-new-process-flow":e.usingExistingBpmnFile=!1,e.selectedExistingBpmnFile.ID="",e.processFlowName=ve.value.newProcessFlowName||ae.value;break;case"choose-existing-process-flow":e.usingExistingBpmnFile=!0,e.selectedExistingBpmnFile.ID=ve.value.selectedExistingBpmnFileID||""}t={name:ae.value,parentObjectId:a.parentId,modelType:"process",modelBody:[{key:"process",model:e}],modelAdditionals:{}}}else{if(!se.value)throw(0,f.Tr)({message:"unexpected case",type:"technical"});e=[{key:"bpmn",model:""}],t={name:ae.value,parentObjectId:a.parentId,modelBody:e,modelType:"bpmn",modelAdditionals:{isNotAutoGenerated:!0,isModifiedByUser:!0}}}}a.duplicateFrom&&(t.duplicateFrom=a.duplicateFrom);const i=await Q.executeUseCase(d.E,t);await async function(e){await W.checkout(e),W.openItem(e)}(i),n("close")}}}),{loading:!0})}),disabled:le.value?!(X.value&&L.value&&(ve.value.selectedExistingBpmnFileName.length||ve.value.isNewProcessFlowNameValid)):!(X.value&&L.value)},(0,i.toDisplayString)(a.duplicateFrom?"DUPLICATE":"CREATE"),13,Z)])]))}});var W=a(5701),Y=a.n(W),$=a(8236),L=a.n($),X=a(6080),J=a.n(X),K=a(6850),ee=a.n(K),ne=a(7182),ae=a.n(ne),te=a(9213),ie=a.n(te),oe=a(4613),le={};le.styleTagTransform=ie(),le.setAttributes=ee(),le.insert=J().bind(null,"head"),le.domAPI=L(),le.insertStyleElement=ae(),Y()(oe.Z,le),oe.Z&&oe.Z.locals&&oe.Z.locals;const se=(0,a(1419).Z)(Q,[["__scopeId","data-v-11598e4c"]])}}]);
//# sourceMappingURL=15.js.map