"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[2908,4576],{52233:(n,e,a)=>{a.d(e,{Z:()=>r});var t=a(34663),i=a.n(t),o=a(7638),p=a.n(o)()(i());p.push([n.id,'\n*[data-v-e4f0416a] {\n    font-family: "Roboto";\n}\n.container[data-v-e4f0416a] {\n    padding: 32px 20px 20px\n}\n.updateOrCreateTextAreaDiv[data-v-e4f0416a] {\n    height: 77px;\n}\n.appInfo[data-v-e4f0416a] {\n    color: #151233;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    opacity: 1;\n}\n.updateOrCreateTextarea[data-v-e4f0416a] {\n    width: 100%;\n    outline: none;\n    height: 120px;\n    border: 1px solid #A1A1A1;\n    border-radius: 4px;\n    opacity: 1;\n    resize: none;\n    margin-top: 3px;\n}\n.updateOrCreateInputDiv[data-v-e4f0416a] {\n    height: 173px;\n}\n.updateOrCreateInput[data-v-e4f0416a] {\n    width: 100%;\n    outline: none;\n    height: 40px;\n    border: 1px solid #A1A1A1;\n    border-radius: 4px;\n    opacity: 1;\n    margin-top: 3px;\n}\n.updateOrCreateRow[data-v-e4f0416a] {\n    display: flex;\n    text-align: end;\n}\n.updateOrCreateBtn[data-v-e4f0416a] {\n    background-color: #151233;\n    color: #fff;\n    border-radius: 4px;\n    /* width: 72px; */\n    height: 40px;\n    font-weight: 500;\n    font-size: 16px;\n    padding: 8px 15px;\n}\n.cancel-button[data-v-e4f0416a] {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #757575;\n    padding: 8px 16px;\n    border-radius: 4px;\n    margin-right: 4px;\n    border: none;\n    background: transparent;\n}\n[data-v-e4f0416a]::placeholder {\n    padding-left: 10px;\n    padding-top: 5px;\n    color: #A1A1A1;\n    font-style: normal;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    font-size: 14px;\n    opacity: 1px;\n}\n',"",{version:3,sources:["webpack://./src/presentation/vue3/components/application/addOrUpdateApp.vue"],names:[],mappings:";AAuGA;IACI,qBAAqB;AACzB;AACA;IACI;AACJ;AACA;IACI,YAAY;AAChB;AAEA;IACI,cAAc;IACd,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,qBAAqB;IACrB,mBAAmB;IACnB,UAAU;AAEd;AAIA;IACI,WAAW;IACX,aAAa;IACb,aAAa;IACb,yBAAyB;IACzB,kBAAkB;IAClB,UAAU;IACV,YAAY;IACZ,eAAe;AACnB;AAEA;IACI,aAAa;AAEjB;AAEA;IACI,WAAW;IACX,aAAa;IACb,YAAY;IACZ,yBAAyB;IACzB,kBAAkB;IAClB,UAAU;IACV,eAAe;AACnB;AAEA;IACI,aAAa;IACb,eAAe;AACnB;AAEA;IACI,yBAAyB;IACzB,WAAW;IACX,kBAAkB;IAClB,iBAAiB;IACjB,YAAY;IACZ,gBAAgB;IAChB,eAAe;IACf,iBAAiB;AACrB;AACA;IACI,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,cAAc;IACd,iBAAiB;IACjB,kBAAkB;IAClB,iBAAiB;IACjB,YAAY;IACZ,uBAAuB;AAC3B;AACA;IACI,kBAAkB;IAClB,gBAAgB;IAChB,cAAc;IACd,kBAAkB;IAClB,qBAAqB;IACrB,mBAAmB;IACnB,eAAe;IACf,YAAY;AAChB",sourcesContent:['<script setup lang="ts">\nimport { computed } from \'@vue/reactivity\';\nimport { ref, watch } from \'vue\'\nimport { container } from \'../../../../domain/core/diContainer\';\nimport { IApplication } from "../../../../domain/model/models"\nimport { IIDEInputDefinitions } from \'../../../../domain/presentation/IIDEInputDefinitions\';\nimport { IApplicationUseCase } from \'../../../../domain/useCase/IApplicationUseCase\';\nimport { IUseCaseExecutor } from \'../../../../domain/useCase/IUseCaseExecutor\';\nimport { IViewModel } from \'../../../../domain/viewModel/IViewModel\';\nimport IDEInput from "../../components/application/IDEInput.vue";\ninterface IAddOrUpdateAppPropsInline {\n    app?: IApplication;\n    templateName?: string;\n    organizationGroupId?: string;\n}\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst applicationUseCase = container.resolve<IApplicationUseCase>(IApplicationUseCase);\nconst viewModel = container.resolve<IViewModel>(IViewModel)\n\nconst props = defineProps<IAddOrUpdateAppPropsInline>();\nconst name = ref(props.app?.name);\nconst isAppNameValid = ref<boolean>(false);\nconst isDescriptionValid = ref<boolean>(true);\nconst description = ref(props.app?.description);\nconst selectedOrgGroup = ref(viewModel.user?.selectedOrganizationGroup?.organizationGroup)\nconst emit = defineEmits(["close"]);\n\nconst validations = ref<Record<"name" | "description", IIDEInputDefinitions["validations"]>>({\n    name: { minAndMaxLength: { min: 3, max: 25 }, availableCharacters: true, nonSpaceCharacter: true },\n    description: { minAndMaxLength: { min: 3, max: 100 }, availableCharacters: false, nonSpaceCharacter: false },\n});\n\nfunction addOrUpdateApplication() {\n    executor.execute(async () => {\n        emit("close");\n        if (props.app) {\n            await applicationUseCase.updateApplication({ ID: props.app.ID, name: name.value, description: description.value, updateReason: "userUpdate" });\n        } else {\n            await applicationUseCase.createApplication({ name: name.value!, description: description.value, templateName: props.templateName, organizationGroupId: props.organizationGroupId });\n        }\n        name.value = description.value = "";\n    }, { loading: selectedOrgGroup.value?.mainOrganizationId ? false : true , noContinueInBgBtn: true});\n}\n\nfunction appNameValidationStatus(isValid: boolean) {\n    isAppNameValid.value = isValid\n\n}\nconst isThereUpdate = () => {\n    if(props.app) {\n        return !(props.app!.name == name.value && props.app!.description == description.value)\n    }\n    else {\n        return true;\n    }\n}\nfunction descriptionValidationStatus(isValid: boolean) {\n    isDescriptionValid.value = isValid\n\n}\n\nfunction setNameValue(value: string) {\n    name.value = value\n}\n\nfunction setDescValue(desc: string) {\n    description.value = desc\n}\nfunction close() {\n    emit("close");\n}\n\nconst addButtonDisabled = computed(() => !isAppNameValid.value || !isDescriptionValid.value || !isThereUpdate());\n\n<\/script>\n\n<template>\n    <div class="container">\n        <div class=\'updateOrCreateTextAreaDiv\'>\n            <IDEInput :isRequired="true" elementId="nameInput" @getValue="setNameValue" @validateStatus="appNameValidationStatus" placeholder=""\n                :type="\'text\'" :value="props.app?.name"  info-text="Application Name" :validations="validations.name" />\n        </div>\n        <div class=\'updateOrCreateInputDiv\'>\n            <IDEInput :isRequired="false" elementId="descriptionInput" @validateStatus="descriptionValidationStatus" placeholder="" \n                :type="\'textarea\'" :value="props.app?.description"   info-text="Description" :validations="validations.description" @getValue="setDescValue" />\n        </div>\n        <div class=\'updateOrCreateRow\'>\n            <div class="col">\n                <button class="cancel-button" @click="close()">Cancel</button>\n                <button :style="{ color: addButtonDisabled ? \'#757575\' : \'#FFFFFF\' }" class=\'updateOrCreateBtn\'\n                    @click="addOrUpdateApplication()" :disabled="addButtonDisabled">{{\n                            app ? "SAVE" : "CREATE"\n                    }}</button>\n            </div>\n        </div>\n    </div>\n\n\n\n</template>\n\n<style  scoped>\n* {\n    font-family: "Roboto";\n}\n.container {\n    padding: 32px 20px 20px\n}\n.updateOrCreateTextAreaDiv {\n    height: 77px;\n}\n\n.appInfo {\n    color: #151233;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    opacity: 1;\n\n}\n\n\n\n.updateOrCreateTextarea {\n    width: 100%;\n    outline: none;\n    height: 120px;\n    border: 1px solid #A1A1A1;\n    border-radius: 4px;\n    opacity: 1;\n    resize: none;\n    margin-top: 3px;\n}\n\n.updateOrCreateInputDiv {\n    height: 173px;\n\n}\n\n.updateOrCreateInput {\n    width: 100%;\n    outline: none;\n    height: 40px;\n    border: 1px solid #A1A1A1;\n    border-radius: 4px;\n    opacity: 1;\n    margin-top: 3px;\n}\n\n.updateOrCreateRow {\n    display: flex;\n    text-align: end;\n}\n\n.updateOrCreateBtn {\n    background-color: #151233;\n    color: #fff;\n    border-radius: 4px;\n    /* width: 72px; */\n    height: 40px;\n    font-weight: 500;\n    font-size: 16px;\n    padding: 8px 15px;\n}\n.cancel-button {\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    color: #757575;\n    padding: 8px 16px;\n    border-radius: 4px;\n    margin-right: 4px;\n    border: none;\n    background: transparent;\n}\n::placeholder {\n    padding-left: 10px;\n    padding-top: 5px;\n    color: #A1A1A1;\n    font-style: normal;\n    font-family: "ROBOTO";\n    letter-spacing: 0px;\n    font-size: 14px;\n    opacity: 1px;\n}\n</style>'],sourceRoot:""}]);const r=p},38695:(n,e,a)=>{a.d(e,{T:()=>t});const t=Symbol.for("IFormValidator")},19508:(n,e,a)=>{a.d(e,{h:()=>t});const t=Symbol.for("IApplicationUseCase")},34576:(n,e,a)=>{a.r(e),a.d(e,{default:()=>E});var t=a(71093),i=a(66190),o=a(73843),p=a(5627),r=a(19508),l=a(83487),s=a(88613),d=a(38223);const A={class:"container"},c={class:"updateOrCreateTextAreaDiv"},u={class:"updateOrCreateInputDiv"},I={class:"updateOrCreateRow"},m={class:"col"},v=["disabled"],C=(0,t.aZ)({__name:"addOrUpdateApp",props:{app:null,templateName:null,organizationGroupId:null},emits:["close"],setup(n,{emit:e}){var a,C,f,x;const B=n,g=p.nC.resolve(l.y),h=p.nC.resolve(r.h),b=p.nC.resolve(s.J),y=(0,o.iH)(null===(a=B.app)||void 0===a?void 0:a.name),O=(0,o.iH)(!1),D=(0,o.iH)(!0),V=(0,o.iH)(null===(C=B.app)||void 0===C?void 0:C.description),w=(0,o.iH)(null===(x=null===(f=b.user)||void 0===f?void 0:f.selectedOrganizationGroup)||void 0===x?void 0:x.organizationGroup),U=(0,o.iH)({name:{minAndMaxLength:{min:3,max:25},availableCharacters:!0,nonSpaceCharacter:!0},description:{minAndMaxLength:{min:3,max:100},availableCharacters:!1,nonSpaceCharacter:!1}});function k(n){O.value=n}function z(n){D.value=n}function E(n){y.value=n}function S(n){V.value=n}const R=(0,o.Fl)((()=>!O.value||!D.value||!(!B.app||B.app.name!=y.value||B.app.description!=V.value)));return(a,p)=>{var r,l;return(0,t.wg)(),(0,t.iD)("div",A,[(0,t._)("div",c,[(0,t.Wm)(d.Z,{isRequired:!0,elementId:"nameInput",onGetValue:E,onValidateStatus:k,placeholder:"",type:"text",value:null===(r=B.app)||void 0===r?void 0:r.name,"info-text":"Application Name",validations:U.value.name},null,8,["value","validations"])]),(0,t._)("div",u,[(0,t.Wm)(d.Z,{isRequired:!1,elementId:"descriptionInput",onValidateStatus:z,placeholder:"",type:"textarea",value:null===(l=B.app)||void 0===l?void 0:l.description,"info-text":"Description",validations:U.value.description,onGetValue:S},null,8,["value","validations"])]),(0,t._)("div",I,[(0,t._)("div",m,[(0,t._)("button",{class:"cancel-button",onClick:p[0]||(p[0]=n=>{e("close")})},"Cancel"),(0,t._)("button",{style:(0,i.normalizeStyle)({color:(0,o.SU)(R)?"#757575":"#FFFFFF"}),class:"updateOrCreateBtn",onClick:p[1]||(p[1]=n=>function(){var n;g.execute((async()=>{e("close"),B.app?await h.updateApplication({ID:B.app.ID,name:y.value,description:V.value,updateReason:"userUpdate"}):await h.createApplication({name:y.value,description:V.value,templateName:B.templateName,organizationGroupId:B.organizationGroupId}),y.value=V.value=""}),{loading:!(null===(n=w.value)||void 0===n?void 0:n.mainOrganizationId),noContinueInBgBtn:!0})}()),disabled:(0,o.SU)(R)},(0,i.toDisplayString)(n.app?"SAVE":"CREATE"),13,v)])])])}}});var f=a(17450),x=a.n(f),B=a(29530),g=a.n(B),h=a(16199),b=a.n(h),y=a(40458),O=a.n(y),D=a(62916),V=a.n(D),w=a(92165),U=a.n(w),k=a(52233),z={};z.styleTagTransform=U(),z.setAttributes=O(),z.insert=b().bind(null,"head"),z.domAPI=g(),z.insertStyleElement=V(),x()(k.Z,z),k.Z&&k.Z.locals&&k.Z.locals;const E=(0,a(32525).Z)(C,[["__scopeId","data-v-e4f0416a"]])}}]);
//# sourceMappingURL=2908.js.map?ver=0.0.314_1714381618067