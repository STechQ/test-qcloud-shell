"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[1390],{2540:(e,n,t)=>{t.d(n,{Z:()=>c});var a=t(8375),i=t.n(a),l=t(7638),o=t.n(l)()(i());o.push([e.id,"\n.maindiv[data-v-36837bce] {\n  background: #ffffff;\n  border: 1px solid #d5d5d5;\n  border-radius: 12px;\n  margin: 24px auto;\n  padding: 32px;\n  width: calc(100% - 80px);\n  max-width: 1400px;\n  min-height: 90%;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.04);\n}\n.cert-header[data-v-36837bce] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 16px;\n}\n.cert-icon-circle[data-v-36837bce] {\n  width: 60px;\n  height: 60px;\n  background-color: #d7d7f5;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.cert-icon[data-v-36837bce] {\n  font-size: 32px;\n  color: #7575b7;\n}\n.cert-header-text[data-v-36837bce] {\n  display: flex;\n  flex-direction: column;\n}\n.cert-title[data-v-36837bce] {\n  font-weight: 500;\n  font-size: 20px;\n  color: #151233;\n}\n.cert-desc[data-v-36837bce] {\n  font-size: 14px;\n  color: #616161;\n}\n.top-bar[data-v-36837bce] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 24px;\n  margin-bottom: 16px;\n}\n.add-new-btn[data-v-36837bce] {\n  padding: 8px 16px;\n  border: 1px solid #151233;\n  background-color: transparent;\n  color: #151233;\n  border-radius: 4px;\n  font-weight: 500;\n  font-size: 14px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.search-input[data-v-36837bce] {\n  width: 220px;\n  padding: 10px 12px;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  font-size: 14px;\n  margin-right: 12px;\n  height: 40px;\n}\n.table-div[data-v-36837bce] {\n  margin-top: 12px;\n}\n.cert-table[data-v-36837bce] {\n  width: 100%;\n  background: #ffffff;\n  border: 1px solid #e3e3e3;\n  border-radius: 6px;\n  border-collapse: collapse;\n  box-shadow: none;\n}\n.cert-table th[data-v-36837bce],\n.cert-table td[data-v-36837bce] {\n  padding: 12px 24px;\n  font-size: 14px;\n  text-align: left;\n  border-bottom: 1px solid #e0e0e0;\n}\n.cert-table th[data-v-36837bce]:last-child,\n.cert-table td[data-v-36837bce]:last-child {\n  border-right: none;\n}\n.cert-table th[data-v-36837bce] {\n  background-color: #f5f5f5;\n  color: #616161;\n  font-weight: 500;\n  border-top: 1px solid #e0e0e0;\n}\n.cert-table td[data-v-36837bce] {\n  color: #212121;\n  vertical-align: middle;\n}\n.cert-table tbody tr[data-v-36837bce]:hover {\n  background-color: #fafafa;\n}\n.action-icon[data-v-36837bce] {\n  font-size: 18px;\n  margin-right: 6px;\n  cursor: pointer;\n  color: #757575;\n}\n.action-icon[data-v-36837bce]:hover {\n  color: #151233;\n}\n*[data-v-36837bce] {\n  font-family: 'Roboto', sans-serif;\n}\n.action-buttons[data-v-36837bce] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.cert-input[data-v-36837bce] {\n  width: 100%;\n  height: 300px;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  padding: 12px;\n  font-size: 14px;\n  margin-top: 12px;\n  resize: vertical;\n  box-sizing: border-box;\n}\n.cancel-btn[data-v-36837bce],\n.save-btn[data-v-36837bce] {\n  padding: 8px 16px;\n  font-size: 14px;\n  border-radius: 4px;\n  border: none;\n  cursor: pointer;\n  margin-left: 8px;\n}\n.cancel-btn[data-v-36837bce] {\n  background-color: transparent;\n  color: #757575;\n  border: 1px solid #e0e0e0;\n}\n.save-btn[data-v-36837bce] {\n  background-color: #151233;\n  color: #ffffff;\n}\n.upload-header[data-v-36837bce] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.upload-btn[data-v-36837bce] {\n  background-color: #151233;\n  color: #ffffff;\n  border: none;\n  border-radius: 4px;\n  padding: 6px 14px;\n  font-size: 14px;\n  font-weight: 500;\n  height: 35px;\n  width: 85px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.upload-btn[data-v-36837bce]:hover {\n  background-color: #2c2b4a;\n}\n\n\n\n",""]);const c=o},11390:(e,n,t)=>{t.r(n),t.d(n,{default:()=>q});var a=t(71093),i=t(46233),l=t(73843),o=t(66190),c=t(53266),d=t(91056),r=t(65416),s=t(88613),u=t(24153),p=t(91436);const v=e=>((0,a.dD)("data-v-36837bce"),e=e(),(0,a.Cn)(),e),b={class:"maindiv"},f={style:{width:"100%"}},x={key:0},g=(0,a.uE)('<div style="display:flex;flex-direction:column;gap:4px;" data-v-36837bce><div class="cert-header" data-v-36837bce><div class="cert-icon-circle" data-v-36837bce><i class="mdi mdi-certificate cert-icon" data-v-36837bce></i></div><div class="cert-header-text" data-v-36837bce><div class="cert-title" data-v-36837bce>Certificate</div><div class="cert-desc" data-v-36837bce> Manage and view certificates associated with your domains, including expiration details and domain mapping. </div></div></div></div><hr class="divider" data-v-36837bce>',2),h={class:"top-bar"},m={class:"table-div"},y={class:"cert-table"},w=v((()=>(0,a._)("thead",null,[(0,a._)("tr",{class:"thead"},[(0,a._)("th",{class:"col"},"Domain Name"),(0,a._)("th",{class:"col"},"Expire Date"),(0,a._)("th",{class:"col",style:{width:"80px"}})])],-1))),_={class:"action-buttons"},k=["onClick"],C=["onClick"],D={key:1},N={class:"upload-header"},E=v((()=>(0,a._)("div",{class:"cert-title"},"Certificate",-1))),z={class:"upload-btn"},S={style:{display:"flex","justify-content":"flex-end","margin-top":"12px"}},I=(0,a.aZ)({__name:"certificateEditor",props:{functions:null,callbacks:null},setup(e){const n=e,t=(c.nC.resolve(d.u),c.nC.resolve(r.r),c.nC.resolve(u.b),c.nC.resolve(s.J),(0,l.iH)(!1)),v=(0,l.iH)(""),I=(0,l.iH)([]);(0,a.bv)((async()=>{var e,t;const a=await(null===(t=(e=n.functions).getModel)||void 0===t?void 0:t.call(e));(null==a?void 0:a.model)&&(I.value=JSON.parse(a.model))}));const U=(0,l.iH)(null);function j(){n.callbacks.modified({model:!0})}n.functions.getModel=async()=>({model:JSON.stringify(I.value)}),n.functions.setModel=async e=>{try{const n=JSON.parse(e);I.value=JSON.parse(n.model),console.log("✅ Model successfully set:",I.value)}catch(e){console.error("❌ Failed to set model:",e)}};const A=(0,l.iH)(""),T=(0,a.Fl)((()=>I.value.filter((e=>e.domainName.toLowerCase().includes(A.value.toLowerCase())))));return(e,c)=>((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",f,[t.value?((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",N,[E,(0,a._)("label",z,[(0,a.Uk)(" UPLOAD "),(0,a._)("input",{style:{display:"none"},type:"file",id:"fileInput",multiple:"",onChange:c[2]||(c[2]=e=>async function(e){var n,t,a=document.getElementById("fileInput");console.log("selectedFiles",a);for(var i=0;i<(null===(n=null==a?void 0:a.files)||void 0===n?void 0:n.length);i++){const n=null===(t=null==a?void 0:a.files)||void 0===t?void 0:t.item(i),l=await n.text();console.log("text",l),e&&(v.value=""),v.value+=l+"\n\n"}}(v.value))},null,32)])]),(0,a.wy)((0,a._)("textarea",{class:"cert-input","onUpdate:modelValue":c[3]||(c[3]=e=>v.value=e),placeholder:"Upload your certificate file or paste the certificate content here"},null,512),[[i.vModelText,v.value]]),(0,a._)("div",S,[(0,a._)("button",{class:"cancel-btn",onClick:c[4]||(c[4]=e=>t.value=!1)},"Cancel"),(0,a._)("button",{class:"save-btn",onClick:c[5]||(c[5]=e=>async function(){var e,a;const i=function(e){try{const n=e.replace(/-----(BEGIN|END) CERTIFICATE-----/g,"").replace(/\s+/g,""),t=Uint8Array.from(atob(n),(e=>e.charCodeAt(0))),a=new p.LF(t.buffer);return{subject:a.subject,issuer:a.issuer,validFrom:a.notBefore,validTo:a.notAfter,serialNumber:a.serialNumber,publicKey:a.publicKey.algorithm.name}}catch(e){throw console.error("❌ Failed to parse cert:",e),e}}(v.value),l={id:null!==U.value?I.value[U.value].id:crypto.randomUUID(),domainName:i.subject,base64Certificate:v.value,issueDate:i.validFrom,expireDate:i.validTo};null!==U.value?I.value.splice(U.value,1,l):I.value.push(l),t.value=!1,U.value=null,v.value="",A.value="",await(null===(a=(e=n.functions).setModel)||void 0===a?void 0:a.call(e,JSON.stringify(I.value))),j()}())},(0,o.toDisplayString)(null!==U.value?"UPDATE":"DONE"),1)])])):((0,a.wg)(),(0,a.iD)("div",x,[g,(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"text",class:"search-input",placeholder:"Search certificates","onUpdate:modelValue":c[0]||(c[0]=e=>A.value=e)},null,512),[[i.vModelText,A.value]]),(0,a._)("button",{class:"add-new-btn",onClick:c[1]||(c[1]=e=>t.value=!0)},"ADD NEW")]),(0,a._)("div",m,[(0,a._)("table",y,[w,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(T),(e=>{return(0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,o.toDisplayString)(e.domainName),1),(0,a._)("td",null,(0,o.toDisplayString)((n=e.expireDate,new Date(n).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",",""))),1),(0,a._)("td",null,[(0,a._)("div",_,[(0,a._)("i",{class:"mdi mdi-pencil-outline action-icon",title:"Edit",onClick:n=>function(e){const n=I.value.findIndex((n=>n.id===e.id));-1!==n&&(U.value=n,v.value=e.base64Certificate,t.value=!0)}(e)},null,8,k),(0,a._)("i",{class:"mdi mdi-delete-outline action-icon",title:"Delete",onClick:n=>function(e){const n=I.value.findIndex((n=>n.id===e.id));-1!==n&&(I.value.splice(n,1),j())}(e)},null,8,C)])])]);var n})),128))])])])]))])]))}});var U=t(17450),j=t.n(U),A=t(29530),T=t.n(A),F=t(16199),M=t.n(F),O=t(40458),Z=t.n(O),H=t(62916),J=t.n(H),L=t(92165),B=t.n(L),K=t(2540),P={};P.styleTagTransform=B(),P.setAttributes=Z(),P.insert=M().bind(null,"head"),P.domAPI=T(),P.insertStyleElement=J(),j()(K.Z,P),K.Z&&K.Z.locals&&K.Z.locals;const q=(0,t(32525).Z)(I,[["__scopeId","data-v-36837bce"]])}}]);