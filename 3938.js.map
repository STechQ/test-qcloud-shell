{"version":3,"file":"3938.js?ver=0.0.314_1714649852497","mappings":"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","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/organization/joinOrganizationGroupDialog.vue?36b6","webpack://qcloud_shell/./src/common/promiseHelper.ts","webpack://qcloud_shell/./src/domain/core/diContainer.ts","webpack://qcloud_shell/./src/domain/infrastructure/IFormValidator.ts","webpack://qcloud_shell/./src/domain/useCase/IOrganizationGroupUseCase.ts","webpack://qcloud_shell/./src/domain/useCase/IOrganizationUseCase.ts","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/organization/joinOrganizationGroupDialog.vue?3dda","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/organization/joinOrganizationGroupDialog.vue?c01d","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/organization/joinOrganizationGroupDialog.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n*[data-v-462712dc] {\\n    font-family: 'Roboto';\\n}\\n.container[data-v-462712dc] {\\n    padding: 32px 20px 20px;\\n}\\n.organization-name-div[data-v-462712dc] {\\n    margin-bottom: 52px\\n}\\n.name-label[data-v-462712dc] {\\n    font-weight: 500;\\n    font-size: 15px;\\n    line-height: 18px;\\n    color: #151233;\\n    margin-bottom: 4px;\\n}\\n.organizaton-name[data-v-462712dc] {\\n    border: 1px solid #BCBCBC;\\n    border-radius: 4px;\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    padding: 8px 8px 8px 12px;\\n    width: 100%;\\n    font-size: 15px;\\n    color: #212121;\\n    outline: none;\\n}\\n.organizaton-name[data-v-462712dc]::placeholder {\\n    color: #BCBCBC\\n}\\n.buttons-div[data-v-462712dc] {\\n    display: flex;\\n    justify-content: end;\\n}\\n.cancel-button[data-v-462712dc] {\\n    font-weight: 500;\\n    font-size: 16px;\\n    text-align: center;\\n    color: #757575;\\n    display: flex;\\n    align-items: center;\\n    padding: 8px 16px;\\n    border-radius: 4px;\\n    margin-right: 4px;\\n    border: none;\\n    background: transparent;\\n}\\n.create-button[data-v-462712dc] {\\n    font-weight: 500;\\n    font-size: 16px;\\n    text-align: center;\\n    color: #FFFFFF;\\n    background: #151233;\\n    display: flex;\\n    align-items: center;\\n    padding: 8px 16px;\\n    border-radius: 4px;\\n    border: none;\\n}\\n.create-button[data-v-462712dc]:disabled {\\n    color: #757575\\n}\\n.button-tooltip[data-v-462712dc] {\\n    visibility: hidden;\\n    position: absolute;\\n    background: #757575;\\n    color: #FFFFFF;\\n    font-size: 11px;\\n    font-family: 'Roboto';\\n    text-align: center;\\n    border-radius: 4px;\\n    letter-spacing: 0.2px;\\n    padding: 6px 8px 6px 8px;\\n    top: 56px;\\n    left: 63px;\\n    opacity: 0;\\n}\\n.create-button:disabled:hover+.button-tooltip[data-v-462712dc] {\\n    visibility: visible;\\n    transition: opacity 0.3s ease-out 0.5s;\\n    opacity: 1;\\n}\\n.organization-group-info[data-v-462712dc] {\\n    padding: 5px 12px;\\n    color: #757575;\\n    font-size: 14px;\\n    background: #F5F5FA;\\n    border-radius: 4px;\\n    display: flex;\\n    align-items: center;\\n    margin-left: auto;\\n    width: 100%;\\n    margin-top: 20px;\\n}\\n.organization-group-info i[data-v-462712dc] {\\n    font-size: 24px;\\n    color: #151233;\\n    margin-right: 8px;\\n}\\n.organizations[data-v-462712dc] {\\n    width: 100%;\\n    font-size: 15px;\\n    height: 40px;\\n    line-height: 40px;\\n    border: 1px solid #BCBCBC;\\n    border-radius: 4px;\\n    padding: 0px 12px;\\n}\\n\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/organization/joinOrganizationGroupDialog.vue\"],\"names\":[],\"mappings\":\";AAoFA;IACI,qBAAqB;AACzB;AAEA;IACI,uBAAuB;AAC3B;AAEA;IACI;AACJ;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;IACd,kBAAkB;AACtB;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,aAAa;IACb,mBAAmB;IACnB,mBAAmB;IACnB,yBAAyB;IACzB,WAAW;IACX,eAAe;IACf,cAAc;IACd,aAAa;AACjB;AAEA;IACI;AACJ;AAEA;IACI,aAAa;IACb,oBAAoB;AAExB;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,cAAc;IACd,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,iBAAiB;IACjB,YAAY;IACZ,uBAAuB;AAC3B;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,cAAc;IACd,mBAAmB;IACnB,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,YAAY;AAChB;AAEA;IACI;AACJ;AAEA;IACI,kBAAkB;IAClB,kBAAkB;IAClB,mBAAmB;IACnB,cAAc;IACd,eAAe;IACf,qBAAqB;IACrB,kBAAkB;IAClB,kBAAkB;IAClB,qBAAqB;IACrB,wBAAwB;IACxB,SAAS;IACT,UAAU;IACV,UAAU;AACd;AAEA;IACI,mBAAmB;IACnB,sCAAsC;IACtC,UAAU;AACd;AAEA;IACI,iBAAiB;IACjB,cAAc;IACd,eAAe;IACf,mBAAmB;IACnB,kBAAkB;IAClB,aAAa;IACb,mBAAmB;IACnB,iBAAiB;IACjB,WAAW;IACX,gBAAgB;AACpB;AAEA;IACI,eAAe;IACf,cAAc;IACd,iBAAiB;AACrB;AAEA;IACI,WAAW;IACX,eAAe;IACf,YAAY;IACZ,iBAAiB;IACjB,yBAAyB;IACzB,kBAAkB;IAClB,iBAAiB;AACrB\",\"sourcesContent\":[\"<template>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"organization-name-div\\\">\\n            <label class=\\\"name-label\\\">Organization</label>\\n            <CustomSelect :options=\\\"organizationNames\\\" class=\\\"organizations\\\" :default=\\\"organizationNames[0]\\\" :placeholder=\\\"'Select'\\\"\\n                @input=\\\"selectOrgGroup\\\"></CustomSelect>\\n            <label class=\\\"name-label mt-4\\\">E-Mail</label>\\n            <IDEInput @getValue=\\\"setOwnerEmail\\\" type=\\\"mail\\\" :value=\\\"email\\\" info-text=\\\"\\\"\\n                placeholder=\\\"Group owner's e-mail\\\" />\\n            <label class=\\\"name-label mt-4\\\">Description</label>\\n            <IDEInput @getValue=\\\"setDescription\\\" type=\\\"textarea\\\" :value=\\\"description\\\" info-text=\\\"\\\"\\n                placeholder=\\\"Describe your object details\\\" />\\n            <div class=\\\"organization-group-info\\\">\\n                <i class=\\\"mdi mdi-information\\\"></i>\\n                <span>If you need the contact information of the Group Owner, please reach out to the <a style=\\\"color: #757575\\\" href=\\\"mailto:plateau@softtech.com.tr\\\">Plateau Studio Team.</a></span>\\n            </div>\\n        </div>\\n        <div class=\\\"buttons-div\\\">\\n            <button class=\\\"cancel-button\\\" @click=\\\"close()\\\">Cancel</button>\\n            <button class=\\\"create-button\\\" :disabled=\\\"isMailValid\\\" @click=\\\"joinOrganizationGroup()\\\">SEND REQUEST</button>\\n        </div>\\n    </div>\\n</template>\\n<script setup lang=\\\"ts\\\">\\nimport { computed, onBeforeMount, onMounted, ref } from 'vue';\\nimport { container } from '../../../../../domain/core/diContainer';\\nimport { IUseCaseExecutor } from '../../../../../domain/useCase/IUseCaseExecutor';\\nimport { IViewModel } from '../../../../../domain/viewModel/IViewModel';\\nimport IDEInput from \\\"../../application/IDEInput.vue\\\";\\nimport CustomSelect from \\\"../../customSelect.vue\\\";\\nimport { IOrganizationGroupUseCase } from '../../../../../domain/useCase/IOrganizationGroupUseCase';\\nimport { IOrganizationUseCase } from '../../../../../domain/useCase/IOrganizationUseCase';\\nimport { IStudioRequestRequest } from '../../../../../../../common/qCloudTemp/request';\\nimport { IAuthenticationUseCase } from '../../../../../domain/useCase/IAuthenticationUseCase';\\n\\nconst emit = defineEmits([\\\"close\\\"]);\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst organizationGroupUseCase = container.resolve<IOrganizationGroupUseCase>(IOrganizationGroupUseCase);\\nconst organizationUseCase = container.resolve<IOrganizationUseCase>(IOrganizationUseCase);\\n\\nconst user = computed(() => viewModel.user!);\\nconst selectedOrganization = ref(viewModel.user!.selectedOrganization);\\nconst email = ref(\\\"\\\");\\nconst description = ref(\\\"\\\");\\n\\nconst organizationNames = ref<Array<string>>([]);\\nconst isSelectedOrgOwned = selectedOrganization.value?.ownerUserIds ? selectedOrganization.value?.ownerUserIds.includes(user.value.userId) : selectedOrganization.value?.creatorUserId == user.value.userId;\\nconst requestedOrg = ref<string | undefined>(\\\"\\\");\\nconst isMailValid = computed(() => !email.value ? false : !/^(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\\\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\\\\.[a-zA-Z0-9-]+)*(\\\\.[a-zA-Z]{2,})$/.test(email.value)); //RFC 5322-compliant ðŸ¤”\\n\\nonBeforeMount(() => {\\n    getOrganizationNames();\\n})\\n\\nfunction close() {\\n    emit(\\\"close\\\");\\n}\\n\\nfunction selectOrgGroup(orgGroupName: string) {\\n    requestedOrg.value = orgGroupName;\\n}\\n\\nfunction getOrganizationNames() {\\n    executor.execute(async () => {\\n        organizationNames.value = await organizationUseCase.getUsersOrganizationNames();\\n    },{loading: true});\\n    // organizationNames.value = user.value.organizations.filter(org => (org.ownerUserIds ? org.ownerUserIds?.includes(user.value.userId) : org.creatorUserId == user.value.userId) && !org.organizationGroupId).map(org => org.name);\\n}\\nfunction joinOrganizationGroup() {\\n    const request: IStudioRequestRequest = {targetUserEmail: email.value, organizationName: requestedOrg.value, description: description.value, type: \\\"joinOrganizationGroup\\\"};\\n    executor.execute(async () => {\\n        await organizationGroupUseCase.sendJoinOrganizationGroupRequest(request);\\n    },{loading: true});\\n    close();\\n}\\nfunction setOwnerEmail(value: string) {\\n    email.value = value\\n}\\nfunction setDescription(value: string) {\\n    description.value = value\\n}\\n</script>\\n<style scoped>\\n* {\\n    font-family: 'Roboto';\\n}\\n\\n.container {\\n    padding: 32px 20px 20px;\\n}\\n\\n.organization-name-div {\\n    margin-bottom: 52px\\n}\\n\\n.name-label {\\n    font-weight: 500;\\n    font-size: 15px;\\n    line-height: 18px;\\n    color: #151233;\\n    margin-bottom: 4px;\\n}\\n\\n.organizaton-name {\\n    border: 1px solid #BCBCBC;\\n    border-radius: 4px;\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    padding: 8px 8px 8px 12px;\\n    width: 100%;\\n    font-size: 15px;\\n    color: #212121;\\n    outline: none;\\n}\\n\\n.organizaton-name::placeholder {\\n    color: #BCBCBC\\n}\\n\\n.buttons-div {\\n    display: flex;\\n    justify-content: end;\\n\\n}\\n\\n.cancel-button {\\n    font-weight: 500;\\n    font-size: 16px;\\n    text-align: center;\\n    color: #757575;\\n    display: flex;\\n    align-items: center;\\n    padding: 8px 16px;\\n    border-radius: 4px;\\n    margin-right: 4px;\\n    border: none;\\n    background: transparent;\\n}\\n\\n.create-button {\\n    font-weight: 500;\\n    font-size: 16px;\\n    text-align: center;\\n    color: #FFFFFF;\\n    background: #151233;\\n    display: flex;\\n    align-items: center;\\n    padding: 8px 16px;\\n    border-radius: 4px;\\n    border: none;\\n}\\n\\n.create-button:disabled {\\n    color: #757575\\n}\\n\\n.button-tooltip {\\n    visibility: hidden;\\n    position: absolute;\\n    background: #757575;\\n    color: #FFFFFF;\\n    font-size: 11px;\\n    font-family: 'Roboto';\\n    text-align: center;\\n    border-radius: 4px;\\n    letter-spacing: 0.2px;\\n    padding: 6px 8px 6px 8px;\\n    top: 56px;\\n    left: 63px;\\n    opacity: 0;\\n}\\n\\n.create-button:disabled:hover+.button-tooltip {\\n    visibility: visible;\\n    transition: opacity 0.3s ease-out 0.5s;\\n    opacity: 1;\\n}\\n\\n.organization-group-info {\\n    padding: 5px 12px;\\n    color: #757575;\\n    font-size: 14px;\\n    background: #F5F5FA;\\n    border-radius: 4px;\\n    display: flex;\\n    align-items: center;\\n    margin-left: auto;\\n    width: 100%;\\n    margin-top: 20px;\\n}\\n\\n.organization-group-info i {\\n    font-size: 24px;\\n    color: #151233;\\n    margin-right: 8px;\\n}\\n\\n.organizations {\\n    width: 100%;\\n    font-size: 15px;\\n    height: 40px;\\n    line-height: 40px;\\n    border: 1px solid #BCBCBC;\\n    border-radius: 4px;\\n    padding: 0px 12px;\\n}\\n\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export interface IPromiseData<T> {\n    promise: Promise<T>;\n    resolver: (value: T | PromiseLike<T>) => void;\n    reject: (reason?: any) => void;\n    startTimer: (timeout: number) => void;\n}\n\n//some platforms have syncronous resolve problem (ex: IOS JavascriptCore)\ndeclare var doNothing: any;\nlet syncResolved = false as boolean;\nnew Promise<void>(res => res()).then(() => syncResolved = true);\ntypeof(doNothing) != \"undefined\" && doNothing();\nconst syncResolveProblem = syncResolved === true; // platform has sync resolve problem or not\n\ntype ResolveFunc<T> = (value: T | PromiseLike<T>) => void;\n/**\n * @param timeout timeout time in ms, undefined if infinite\n */\nexport function createPromiseData<T>(timeout?: number, opt: { fixSyncResolve?: boolean } = {}): IPromiseData<T> {\n    const syncResolveFixer = (cb: ResolveFunc<T>) => syncResolveProblem && opt.fixSyncResolve ? (value: T | PromiseLike<T>) => setTimeout(() => cb(value)) : cb;\n    let resolver: ResolveFunc<T> = <any>undefined, reject: (reason?: any) => void = <any>undefined;\n    let timer: number;\n    const startTimer: IPromiseData<T>[\"startTimer\"] = (timeout: number) => {\n        if (timer) { clearTimeout(timer); }\n        timer = setTimeout(() => { reject(new Error(`The operation has timed out. timeoutValue  : ${timeout}`)); }, timeout) as unknown as number;\n    }\n\n    if (timeout) {\n        startTimer(timeout);\n    }\n\n    return {\n        startTimer,\n        promise: new Promise<T>((res, rej) => { resolver = syncResolveFixer(res); reject = rej; }),\n        resolver,\n        reject\n    };\n}","import { DependencyContainer, container, inject, injectable, singleton } from \"tsyringe\";\nimport { createPromiseData } from \"../../common/promiseHelper\";\n\ninterface IDependencyContainer extends DependencyContainer { }; // for vite vs webpack :( remember\n\nexport function cacheResolve<T>(cb: () => T) {\n    let cached: T | undefined = undefined;\n    return () => {\n        return cached || (cached = cb());\n    };\n}\n\nfunction sleep() {\n    const prom = createPromiseData<void>();\n    setTimeout(() => { prom.resolver() }, 100);\n    return prom.promise;\n}\n\nexport async function delayWithResolve<TInterface>(dependency: symbol, cb: (dep: TInterface) => void | Promise<void>) {\n    await delayTillResolve([dependency]);\n    const dep = container.resolve<TInterface>(dependency);\n    await cb(dep);\n}\nexport async function delayTillResolve(dependencies: Array<symbol>, cb?: () => void | Promise<void>) {\n    let run = false;\n    while (!run) {\n        try {\n            dependencies.forEach(dependency => container.resolve(dependency));\n            run = true;\n        } catch (err) {\n            await sleep();\n        }\n    }\n    await cb?.();\n}\n\nexport { IDependencyContainer, container, inject, injectable, singleton };\n","export interface IFormValidatorOptions {\n    maxLength?: number;\n    minLength?: number;\n    minAndMaxLength?: { min: number; max: number; };\n    email?: boolean;\n    availableCharacters?: boolean;\n    nonSpaceCharacter?: boolean;\n    customRegex?: { regex: RegExp; message: string; };\n}\n\nexport interface IFormValidatorResponseItem {\n    key: keyof IFormValidatorOptions;\n    message: string;\n    isValid: boolean;\n}\n\nexport interface IFormValidator {\n    validate(value: string, options: IFormValidatorOptions): Array<IFormValidatorResponseItem>;\n}\n\nexport const IFormValidator = Symbol.for(\"IFormValidator\");","import { IStudioRequestRequest } from \"../../../../common/qCloudTemp/request\";\nimport { IGetOrganizaionGroupDetailsByUserTypeResponse, IGetOrganizaionGroupDetailsRequest, IGetOrganizationGroupReqRequest, IGetOrganizationGroupReqResponse, IUpdateJoinOrgGroupRequest } from \"../../../../common/qCloudTemp/symDtoObjects\";\nimport { IApplication, IApplicationExtended } from \"../model/models\";\n\nexport interface IOrganizationGroupUseCase {\n    changeGroup(groupId: string | undefined, options: { noRoute?: boolean, appRefresh?: boolean, statisticPage?: boolean }): Promise<void>;\n    getOrganizationGroupDetails(request: IGetOrganizaionGroupDetailsRequest): Promise<IGetOrganizaionGroupDetailsByUserTypeResponse>;\n    getAllAppsForOrgGroup(orgGroup: IGetOrganizaionGroupDetailsByUserTypeResponse): IApplicationExtended[];\n    getOrganizationAppsByOrganizationIdForOrgGroup(orgID: string, orgGroup: IGetOrganizaionGroupDetailsByUserTypeResponse): IApplication[] | undefined;\n    deleteOrganizationFromGroup(organizationId: string): Promise<void>;\n    checkUserIsOwner(): \"Owner\" | undefined\n    sendJoinOrganizationGroupRequest(request: IStudioRequestRequest): Promise<void>;\n    updateJoinOrgGroupRequest(request: IUpdateJoinOrgGroupRequest): Promise<void>;\n    getStudioRequests(request: IGetOrganizationGroupReqRequest): Promise<IGetOrganizationGroupReqResponse[]>;\n    deleteUserStandAloneInfo(userId: string): Promise<void>;\n    goStatisticsPage(): Promise<void>;\n}\n\nexport const IOrganizationGroupUseCase = Symbol.for(\"IOrganizationGroupUseCase\");","import { IUser_SUSI } from \"../../../../common/qCloudTemp/authentication\";\nimport { IOrganization } from \"../../../../common/qCloudTemp/membership\";\nimport { IDeleteInvitationRequest, IInvitationRequest, IListInvitationsResponseItem, IListUserOrganizationsResponse, IRemoveUserFromOrganizationRequest, IUpdateInvitationRequest, IUpdateOrganizationOwnerRequest } from \"../../../../common/qCloudTemp/symDtoObjects\";\nimport { IApplication } from \"../model/models\";\n\nexport interface IOrganizationUseCase {\n    listOrganizations(): Promise<Array<IListUserOrganizationsResponse>>;\n    createOrganization(name: IOrganization[\"name\"], options: {isMainOrg?: boolean, organizationGroupId?: string}): Promise<IOrganization>;\n    changeOrganization(organizationId: string | undefined, options: { noRoute?: boolean }): Promise<void>;\n    listOrganizationInvitations(): Promise<Array<IListInvitationsResponseItem>>;\n    listOrganizationUsers(): Promise<Array<IUser_SUSI>>;\n    deleteOrganization(organizationId: string, organizationName: string): Promise<void>;\n\n    createInvitation(request: IInvitationRequest): Promise<void>;\n    deleteInvitation(request: IDeleteInvitationRequest): Promise<void>;\n    removeUserFromOrganization(request: IRemoveUserFromOrganizationRequest): Promise<void>;\n    updateOrganizationOwner(request: IUpdateOrganizationOwnerRequest): Promise<void>;\n    respondToInvitation(response: IUpdateInvitationRequest): Promise<void>;\n    getUsersOrganizationNames(): Promise<string[]>;\n}\nexport const IOrganizationUseCase = Symbol.for(\"IOrganizationUseCase\");\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-462712dc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = { class: \"organization-name-div\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"name-label\" }, \"Organization\", -1 /* HOISTED */))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"name-label mt-4\" }, \"E-Mail\", -1 /* HOISTED */))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"name-label mt-4\" }, \"Description\", -1 /* HOISTED */))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"organization-group-info\" }, [\n  /*#__PURE__*/_createElementVNode(\"i\", { class: \"mdi mdi-information\" }),\n  /*#__PURE__*/_createElementVNode(\"span\", null, [\n    /*#__PURE__*/_createTextVNode(\"If you need the contact information of the Group Owner, please reach out to the \"),\n    /*#__PURE__*/_createElementVNode(\"a\", {\n      style: {\"color\":\"#757575\"},\n      href: \"mailto:plateau@softtech.com.tr\"\n    }, \"Plateau Studio Team.\")\n  ])\n], -1 /* HOISTED */))\nconst _hoisted_7 = { class: \"buttons-div\" }\nconst _hoisted_8 = [\"disabled\"]\n\nimport { computed, onBeforeMount, onMounted, ref } from 'vue';\nimport { container } from '../../../../../domain/core/diContainer';\nimport { IUseCaseExecutor } from '../../../../../domain/useCase/IUseCaseExecutor';\nimport { IViewModel } from '../../../../../domain/viewModel/IViewModel';\nimport IDEInput from \"../../application/IDEInput.vue\";\nimport CustomSelect from \"../../customSelect.vue\";\nimport { IOrganizationGroupUseCase } from '../../../../../domain/useCase/IOrganizationGroupUseCase';\nimport { IOrganizationUseCase } from '../../../../../domain/useCase/IOrganizationUseCase';\nimport { IStudioRequestRequest } from '../../../../../../../common/qCloudTemp/request';\nimport { IAuthenticationUseCase } from '../../../../../domain/useCase/IAuthenticationUseCase';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'joinOrganizationGroupDialog',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\n\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst organizationGroupUseCase = container.resolve<IOrganizationGroupUseCase>(IOrganizationGroupUseCase);\nconst organizationUseCase = container.resolve<IOrganizationUseCase>(IOrganizationUseCase);\n\nconst user = computed(() => viewModel.user!);\nconst selectedOrganization = ref(viewModel.user!.selectedOrganization);\nconst email = ref(\"\");\nconst description = ref(\"\");\n\nconst organizationNames = ref<Array<string>>([]);\nconst isSelectedOrgOwned = selectedOrganization.value?.ownerUserIds ? selectedOrganization.value?.ownerUserIds.includes(user.value.userId) : selectedOrganization.value?.creatorUserId == user.value.userId;\nconst requestedOrg = ref<string | undefined>(\"\");\nconst isMailValid = computed(() => !email.value ? false : !/^(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*(\\.[a-zA-Z]{2,})$/.test(email.value)); //RFC 5322-compliant ðŸ¤”\n\nonBeforeMount(() => {\n    getOrganizationNames();\n})\n\nfunction close() {\n    emit(\"close\");\n}\n\nfunction selectOrgGroup(orgGroupName: string) {\n    requestedOrg.value = orgGroupName;\n}\n\nfunction getOrganizationNames() {\n    executor.execute(async () => {\n        organizationNames.value = await organizationUseCase.getUsersOrganizationNames();\n    },{loading: true});\n    // organizationNames.value = user.value.organizations.filter(org => (org.ownerUserIds ? org.ownerUserIds?.includes(user.value.userId) : org.creatorUserId == user.value.userId) && !org.organizationGroupId).map(org => org.name);\n}\nfunction joinOrganizationGroup() {\n    const request: IStudioRequestRequest = {targetUserEmail: email.value, organizationName: requestedOrg.value, description: description.value, type: \"joinOrganizationGroup\"};\n    executor.execute(async () => {\n        await organizationGroupUseCase.sendJoinOrganizationGroupRequest(request);\n    },{loading: true});\n    close();\n}\nfunction setOwnerEmail(value: string) {\n    email.value = value\n}\nfunction setDescription(value: string) {\n    description.value = value\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(CustomSelect, {\n        options: organizationNames.value,\n        class: \"organizations\",\n        default: organizationNames.value[0],\n        placeholder: 'Select',\n        onInput: selectOrgGroup\n      }, null, 8 /* PROPS */, [\"options\", \"default\"]),\n      _hoisted_4,\n      _createVNode(IDEInput, {\n        onGetValue: setOwnerEmail,\n        type: \"mail\",\n        value: email.value,\n        \"info-text\": \"\",\n        placeholder: \"Group owner's e-mail\"\n      }, null, 8 /* PROPS */, [\"value\"]),\n      _hoisted_5,\n      _createVNode(IDEInput, {\n        onGetValue: setDescription,\n        type: \"textarea\",\n        value: description.value,\n        \"info-text\": \"\",\n        placeholder: \"Describe your object details\"\n      }, null, 8 /* PROPS */, [\"value\"]),\n      _hoisted_6\n    ]),\n    _createElementVNode(\"div\", _hoisted_7, [\n      _createElementVNode(\"button\", {\n        class: \"cancel-button\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (close()))\n      }, \"Cancel\"),\n      _createElementVNode(\"button\", {\n        class: \"create-button\",\n        disabled: _unref(isMailValid),\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (joinOrganizationGroup()))\n      }, \"SEND REQUEST\", 8 /* PROPS */, _hoisted_8)\n    ])\n  ]))\n}\n}\n\n})","\n      import API from \"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./joinOrganizationGroupDialog.vue?vue&type=style&index=0&id=462712dc&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./joinOrganizationGroupDialog.vue?vue&type=style&index=0&id=462712dc&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./joinOrganizationGroupDialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./joinOrganizationGroupDialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./joinOrganizationGroupDialog.vue?vue&type=style&index=0&id=462712dc&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/studio/studio/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-462712dc\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","syncResolved","Promise","res","then","doNothing","syncResolveProblem","createPromiseData","timeout","opt","resolver","reject","timer","startTimer","clearTimeout","setTimeout","Error","promise","rej","cb","fixSyncResolve","value","cacheResolve","cached","sleep","prom","async","delayWithResolve","dependency","delayTillResolve","dep","dependencies","run","forEach","err","IFormValidator","Symbol","for","IOrganizationGroupUseCase","IOrganizationUseCase","_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_","_hoisted_4","_hoisted_5","_hoisted_6","style","href","_hoisted_7","_hoisted_8","__name","emits","setup","__props","emit","viewModel","IViewModel","executor","IUseCaseExecutor","organizationGroupUseCase","I","organizationUseCase","user","selectedOrganization","email","description","organizationNames","requestedOrg","ownerUserIds","includes","userId","creatorUserId","isMailValid","test","close","selectOrgGroup","orgGroupName","setOwnerEmail","setDescription","execute","getUsersOrganizationNames","loading","_ctx","_cache","options","default","placeholder","onInput","IDEInput","onGetValue","type","onClick","$event","disabled","request","targetUserEmail","organizationName","sendJoinOrganizationGroupRequest","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}