"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[9706],{19489:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(34663),a=t.n(i),o=t(7638),l=t.n(o)()(a());l.push([e.id,"\n.editDiv[data-v-f5be1cfe] {\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n.editButtonDiv[data-v-f5be1cfe] {\n    border-top: 1px solid #E0E0E0;\n    margin-top: 30px;\n    margin-left: 20px;\n    margin-right: 20px;\n    text-align: end;\n}\n.updateBtn[data-v-f5be1cfe] {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    width: 79px;\n    height: 32px;\n    border-radius: 4px;\n    opacity: 1;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    color: #FFFFFF;\n    letter-spacing: 0.02px;\n    opacity: 1;\n    background-color: #4F537B;\n    border: unset;\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/editItem.vue"],names:[],mappings:";AAuGA;IACI,gBAAgB;IAChB,iBAAiB;IACjB,kBAAkB;AACtB;AAEA;IACI,6BAA6B;IAC7B,gBAAgB;IAChB,iBAAiB;IACjB,kBAAkB;IAClB,eAAe;AACnB;AAEA;IACI,gBAAgB;IAChB,mBAAmB;IACnB,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,UAAU;IACV,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,cAAc;IACd,sBAAsB;IACtB,UAAU;IACV,yBAAyB;IACzB,aAAa;AACjB",sourcesContent:['<script setup lang="ts">\nimport { ref } from \'vue\'\nimport { container } from \'../../../../domain/core/diContainer\';\nimport { IUseCaseExecutor } from \'../../../../domain/useCase/IUseCaseExecutor\';\nimport { IViewModel } from \'../../../../domain/viewModel/IViewModel\';\nimport { IEditItemProps } from \'../../../../domain/presentation/dialogs/IEditItemProps\';\nimport IDEInput from "../../components/application/IDEInput.vue";\nimport { IIDEInputDefinitions } from \'../../../../domain/presentation/IIDEInputDefinitions\';\nimport { IObjectUseCase } from \'../../../../domain/useCase/IObjectUseCase\';\nimport { computed } from \'@vue/reactivity\';\nimport { IQJsonAdditionals, ModelAdditionals, ModelType } from \'../../../../../../common/qCloudTemp/quickCloud\';\nimport { IQuickEditor } from \'../../../../domain/objects/editors/IQuickEditor\';\n\n\ninterface IEditItemInline extends IEditItemProps {\n    id: string;\n    name: string;\n    description?: string;\n    prefix?: string;\n    type:  "module" | "model";\n    modelType: ModelType;\n    compType : IQJsonAdditionals;\n}\nconst props = defineProps<IEditItemInline>();\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst emit = defineEmits(["close"]);\nconst isNameValid = ref<boolean>(false);\nconst isDescriptionValid = ref<boolean>(true);\nconst targetEditor = container.resolve<IQuickEditor>(IQuickEditor)\nconst isPrefixValid = ref<boolean>(true);\nconst validations = ref<Record<"name" | "description" | "prefix", IIDEInputDefinitions["validations"]>>({\n    name: { minAndMaxLength: { min: 2, max: 40 }, availableCharacters: true, nonSpaceCharacter: true },\n    prefix: { availableCharacters: false, nonSpaceCharacter: true },\n    description: { minAndMaxLength: { min: 2, max: 100 }, availableCharacters: true, nonSpaceCharacter: false },\n});\n\nconst oldName = ref(props.name);\nconst newName = ref("");\nconst description = ref(props.description);\nconst prefix = ref(props.prefix);\nconst compType = ref(props.compType);\nconst modelType = ref(props.modelType)\nfunction edit() {\n    executor.execute(async () => {\n        const objectUseCase = container.resolve<IObjectUseCase>(IObjectUseCase);\n        await objectUseCase.updateObject(props.id, {name: props.modelType == "css" ? newName.value + ".css" : newName.value, description: description.value, prefix: prefix.value});\n        if(compType.value.qjsonType == "quickComponent"){\n            targetEditor.updateModelName?.(oldName.value, newName.value, modelType.value);\n        }\n        emit("close");\n    }, { loading: true });\n}\n\nfunction setNameValue(value: string) {\n    newName.value = value\n}\nfunction setNameValidationStatus(isValid: boolean) {\n    isNameValid.value = isValid\n}\n\nfunction setDescriptionValue(value: string) {\n    description.value = value\n}\nfunction setDescriptionValidationStatus(isValid: boolean) {\n    isDescriptionValid.value = isValid\n}\n\nfunction setPrefix(prefixValue: string) {\n    prefix.value = prefixValue\n}\nfunction setPrefixValidationStatus(isValid: boolean) {\n    isPrefixValid.value = isValid\n}\n\nconst buttonDisabled = computed(() => !isNameValid.value || !isDescriptionValid.value || !isPrefixValid.value);\n\n<\/script> \n\n<template>\n    <div class=\'editDiv\'>\n        <IDEInput :isRequired="true" @getValue="setNameValue" @validateStatus="setNameValidationStatus"\n            placeholder="" :type="\'text\'" info-text="Name" :validations="validations.name" :value="props.name.split(\'.\')[0]"  />\n        <div v-if="props.type == \'module\'">\n            <IDEInput :isRequired="false" @getValue="setPrefix" @validateStatus="setPrefixValidationStatus"\n                placeholder="" :type="\'text\'" info-text="Prefix" :validations="validations.prefix" :value="props.prefix" \n                info-hover="For applications using webSDK, the \'moduleUrlPrefix/moduleName should be entered, \n                which is the expected page url routing in the shell application where the webSDK is integrated" />\n            <IDEInput :isRequired="false" @getValue="setDescriptionValue" @validateStatus="setDescriptionValidationStatus"\n                placeholder="" :type="\'textarea\'" info-text="Description" :validations="validations.description" :value="props.description"  />\n        </div>\n        \x3c!-- <label> \n            Module Name\n            <input v-model="name" placeholder="Name" />  \n        </label>  --\x3e\n    </div>\n    <div class="editButtonDiv">\n        <button :style="{ opacity: buttonDisabled ? \'0.5\' : \'\' }" class=\'updateBtn\'\n                @click="edit()" :disabled="buttonDisabled">Update</button>\n    </div>\n</template> \n\n<style scoped>\n.editDiv {\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n\n.editButtonDiv {\n    border-top: 1px solid #E0E0E0;\n    margin-top: 30px;\n    margin-left: 20px;\n    margin-right: 20px;\n    text-align: end;\n}\n\n.updateBtn {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    width: 79px;\n    height: 32px;\n    border-radius: 4px;\n    opacity: 1;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    color: #FFFFFF;\n    letter-spacing: 0.02px;\n    opacity: 1;\n    background-color: #4F537B;\n    border: unset;\n}\n</style>'],sourceRoot:""}]);const s=l},69706:(e,n,t)=>{t.r(n),t.d(n,{default:()=>N});var i=t(71093),a=t(66190),o=t(73843),l=t(5627),s=t(83487),r=t(88613),p=t(19607),d=t(29633),u=t(4150);const c={class:"editDiv"},m={key:0},v={class:"editButtonDiv"},f=["disabled"],x=(0,i.aZ)({__name:"editItem",props:{id:null,name:null,description:null,prefix:null,type:null,modelType:null,compType:null},emits:["close"],setup(e,{emit:n}){const t=e,x=(l.nC.resolve(r.J),l.nC.resolve(s.y)),A=(0,o.iH)(!1),I=(0,o.iH)(!0),g=l.nC.resolve(u.U),h=(0,o.iH)(!0),b=(0,o.iH)({name:{minAndMaxLength:{min:2,max:40},availableCharacters:!0,nonSpaceCharacter:!0},prefix:{availableCharacters:!1,nonSpaceCharacter:!0},description:{minAndMaxLength:{min:2,max:100},availableCharacters:!0,nonSpaceCharacter:!1}}),C=(0,o.iH)(t.name),B=(0,o.iH)(""),y=(0,o.iH)(t.description),V=(0,o.iH)(t.prefix),D=(0,o.iH)(t.compType),E=(0,o.iH)(t.modelType);function w(e){B.value=e}function k(e){A.value=e}function S(e){y.value=e}function N(e){I.value=e}function T(e){V.value=e}function U(e){h.value=e}const F=(0,o.Fl)((()=>!A.value||!I.value||!h.value));return(e,s)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",c,[(0,i.Wm)(p.Z,{isRequired:!0,onGetValue:w,onValidateStatus:k,placeholder:"",type:"text","info-text":"Name",validations:b.value.name,value:t.name.split(".")[0]},null,8,["validations","value"]),"module"==t.type?((0,i.wg)(),(0,i.iD)("div",m,[(0,i.Wm)(p.Z,{isRequired:!1,onGetValue:T,onValidateStatus:U,placeholder:"",type:"text","info-text":"Prefix",validations:b.value.prefix,value:t.prefix,"info-hover":"For applications using webSDK, the 'moduleUrlPrefix/moduleName should be entered, \n                which is the expected page url routing in the shell application where the webSDK is integrated"},null,8,["validations","value"]),(0,i.Wm)(p.Z,{isRequired:!1,onGetValue:S,onValidateStatus:N,placeholder:"",type:"textarea","info-text":"Description",validations:b.value.description,value:t.description},null,8,["validations","value"])])):(0,i.kq)("v-if",!0),(0,i.kq)(' <label> \n            Module Name\n            <input v-model="name" placeholder="Name" />  \n        </label>  ')]),(0,i._)("div",v,[(0,i._)("button",{style:(0,a.normalizeStyle)({opacity:(0,o.SU)(F)?"0.5":""}),class:"updateBtn",onClick:s[0]||(s[0]=e=>{x.execute((async()=>{var e;const i=l.nC.resolve(d._);await i.updateObject(t.id,{name:"css"==t.modelType?B.value+".css":B.value,description:y.value,prefix:V.value}),"quickComponent"==D.value.qjsonType&&(null===(e=g.updateModelName)||void 0===e||e.call(g,C.value,B.value,E.value)),n("close")}),{loading:!0})}),disabled:(0,o.SU)(F)},"Update",12,f)])],64))}});var A=t(17450),I=t.n(A),g=t(29530),h=t.n(g),b=t(16199),C=t.n(b),B=t(40458),y=t.n(B),V=t(62916),D=t.n(V),E=t(92165),w=t.n(E),k=t(19489),S={};S.styleTagTransform=w(),S.setAttributes=y(),S.insert=C().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=D(),I()(k.Z,S),k.Z&&k.Z.locals&&k.Z.locals;const N=(0,t(32525).Z)(x,[["__scopeId","data-v-f5be1cfe"]])}}]);
//# sourceMappingURL=9706.js.map