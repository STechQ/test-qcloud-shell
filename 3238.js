"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[3238],{56085:(n,t,i)=>{i.d(t,{Z:()=>s});var a=i(34663),e=i.n(a),o=i(7638),A=i.n(o),l=i(79240),r=A()(e());r.i(l.Z),r.push([n.id,'\n*[data-v-70af3480] {\n    font-family: "Roboto";\n}\n.invitation-row[data-v-70af3480] {\n    display: flex;\n    justify-content: space-between;\n    margin: 0 -33px;\n    background-color: #f5f5f5;\n    padding: 10px 24px;\n    border-bottom: 1px solid #D5D5D5;\n    align-items: center;\n}\n.invitation-data[data-v-70af3480] {\n    /* flex-basis: 25%; */\n    /* text-align: center; */\n}\n.invitation-label[data-v-70af3480] {\n    font-weight: bold;\n    margin-bottom: 5px;\n}\n.invitation-value[data-v-70af3480] {\n    color: blue;\n}\n.blankapp-logo[data-v-70af3480] {\n    position: absolute;\n    top: calc((100% - 57px) / 2);\n    left: calc((100% - 57px) / 2);\n}\n.blankapp-logo-card[data-v-70af3480] {\n    width: 163px;\n    height: 119px;\n    border-radius: 4px !important;\n    position: absolute;\n    background: #eeeeee 0% 0% no-repeat padding-box;\n    border: 1px solid #d5d5d5;\n    top: 20px;\n    left: 24px;\n    cursor: pointer;\n}\nbody[data-v-70af3480] {\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    background-color: #EEEEEE !important;\n}\n.app-text[data-v-70af3480] {\n    font-size: 18px;\n    color: #151233;\n    font-weight: 500;\n    margin-left: 7px;\n    margin-top: 32px;\n}\n.createapp-container[data-v-70af3480] {\n    position: relative;\n    background: #ffffff 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n    width: 100%;\n    height: 187px;\n    min-width: 425px;\n    margin-top: 12px;\n}\n.title[data-v-70af3480] {\n    position: absolute;\n    top: 147px;\n    left: 48px;\n    color: #151233;\n    font-size: 15px;\n}\n.text[data-v-70af3480] {\n    position: absolute;\n    left: 24px;\n    top: 24px;\n}\n.card-filters[data-v-70af3480] {\n    cursor: pointer;\n    margin-top: -12px;\n}\n.create-organization-button-appList[data-v-70af3480] {\n    background: #2C5A86;\n    border-radius: 4px;\n    border: none;\n    padding: 8px 20px;\n    font-size: 17px;\n    font-weight: 500;\n    color: #FFFFFF;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    height: 48px;\n    justify-content: center;\n}\n.invitation-respond-button[data-v-70af3480] {\n    background: transparent;\n    border: none;\n    padding: 7px 16px;\n    border-radius: 4px;\n    font-weight: 500;\n    font-size: 14px;\n    color: #151233;\n}\n.button-disabled[data-v-70af3480] {\n    display: flex;\n    justify-content: center;\n}\n.select-organization[data-v-70af3480] {\n    width: 260px;\n    font-weight: 500;\n    font-size: 15px;\n    height: 36px;\n    line-height: 36px;\n}\n.button-disabled[data-v-70af3480] {\n    display: flex;\n    justify-content: center;\n}\n.button-disabled button[data-v-70af3480] {\n    cursor: default;\n    pointer-events: none;\n}\n.button-disabled:hover .premium-account-tooltip[data-v-70af3480] {\n    visibility: visible;\n    opacity: 1;\n}\n.premium-account-tooltip[data-v-70af3480] {\n    visibility: hidden;\n    opacity: 0;\n    margin-top: 36px;\n}\n',"",{version:3,sources:["webpack://./src/presentation/vue3/pages/main/applicationList.vue"],names:[],mappings:";AA+FA;IACI,qBAAqB;AACzB;AAGA;IACI,aAAa;IACb,8BAA8B;IAC9B,eAAe;IACf,yBAAyB;IACzB,kBAAkB;IAClB,gCAAgC;IAChC,mBAAmB;AACvB;AAEA;IACI,qBAAqB;IACrB,wBAAwB;AAC5B;AAEA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;AAEA;IACI,WAAW;AACf;AAEA;IACI,kBAAkB;IAClB,4BAA4B;IAC5B,6BAA6B;AACjC;AAEA;IACI,YAAY;IACZ,aAAa;IACb,6BAA6B;IAC7B,kBAAkB;IAClB,+CAA+C;IAC/C,yBAAyB;IACzB,SAAS;IACT,UAAU;IACV,eAAe;AACnB;AAEA;IACI,SAAS;IACT,UAAU;IACV,gBAAgB;IAChB,oCAAoC;AACxC;AAEA;IACI,eAAe;IACf,cAAc;IACd,gBAAgB;IAChB,gBAAgB;IAChB,gBAAgB;AACpB;AAEA;IACI,kBAAkB;IAClB,+CAA+C;IAC/C,mBAAmB;IACnB,WAAW;IACX,aAAa;IACb,gBAAgB;IAChB,gBAAgB;AACpB;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,UAAU;IACV,cAAc;IACd,eAAe;AACnB;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,SAAS;AACb;AAEA;IACI,eAAe;IACf,iBAAiB;AACrB;AAEA;IACI,mBAAmB;IACnB,kBAAkB;IAClB,YAAY;IACZ,iBAAiB;IACjB,eAAe;IACf,gBAAgB;IAChB,cAAc;IACd,aAAa;IACb,mBAAmB;IACnB,mBAAmB;IACnB,YAAY;IACZ,uBAAuB;AAC3B;AAEA;IACI,uBAAuB;IACvB,YAAY;IACZ,iBAAiB;IACjB,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,cAAc;AAClB;AAEA;IACI,aAAa;IACb,uBAAuB;AAC3B;AAEA;IACI,YAAY;IACZ,gBAAgB;IAChB,eAAe;IACf,YAAY;IACZ,iBAAiB;AACrB;AAEA;IACI,aAAa;IACb,uBAAuB;AAC3B;AAEA;IACI,eAAe;IACf,oBAAoB;AACxB;AAEA;IACI,mBAAmB;IACnB,UAAU;AACd;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,gBAAgB;AACpB",sourcesContent:['<script setup lang="ts">\nimport { computed, defineAsyncComponent, ref } from "vue";\nimport { container } from "../../../../domain/core/diContainer";\nimport { IDialog } from "../../../../domain/presentation/IDialog";\nimport { IRouter } from "../../../../domain/presentation/IRouter";\nimport { IAuthenticationUseCase } from "../../../../domain/useCase/IAuthenticationUseCase";\nimport { IOrganizationUseCase } from "../../../../domain/useCase/IOrganizationUseCase";\nimport { IUseCaseExecutor } from "../../../../domain/useCase/IUseCaseExecutor";\nimport { IViewModel } from "../../../../domain/viewModel/IViewModel";\nimport OrgApplications from "../../components/organizationApplications.vue"\n\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst router = container.resolve<IRouter>(IRouter);\nconst dialog = container.resolve<IDialog>(IDialog);\nconst organization = container.resolve<IOrganizationUseCase>(IOrganizationUseCase);\nconst authentication = container.resolve<IAuthenticationUseCase>(IAuthenticationUseCase);\n\nconst routerParams = router.getRouteParams<{ orgId?: string }>();\nconst selectedOrganizationId = computed(() => routerParams.orgId);\n\n\nasync function onOrganizationSelect(id?: string) {\n    await executor.execute<void>(async () => {\n        await organization.changeOrganization(id, {});\n    }, { loading: true, noContinueInBgBtn: true });\n}\nfunction respondToInvitation(accept: boolean, invitationId: string, organizationId?: string) {\n    executor.execute(async () => {\n        await organization.respondToInvitation({ accept, invitationId });\n        // await organization.listOrganizations();\n        await authentication.signIn({});\n        if (accept) {\n            if (selectedOrganizationId.value && selectedOrganizationId.value?.length > 0) {\n                await onOrganizationSelect(selectedOrganizationId.value);\n            }\n            else {\n                await onOrganizationSelect(organizationId!);\n            }\n        }\n    }, { loading: true, noContinueInBgBtn: true });\n}\n\nfunction CreateApp(templateName?: string) {\n    dialog.showDialog(\n        defineAsyncComponent(() => import(`../../components/application/addOrUpdateApp.vue`)),\n        { closable: true, title: "Create Application", height: "383px", width: "466px" },\n        { templateName }\n    );\n}\n\n\nexecutor.execute(async () => {\n    // if (!(selectedOrganizationId.value && selectedOrganizationId.value?.length > 0) && viewModel.user!.organizations.length > 0) {\n        await onOrganizationSelect(selectedOrganizationId.value);\n    // }\n}, { loading: false })\n\n<\/script>\n\n<template>\n    <div>\n        <div v-for="invitation in viewModel.user?.invitations" class="invitation-row" :key="invitation.id">\n            <div class="invitation-data">\n                <img src="../../../../images/profile-image-dark-in-menu.svg" style="margin-right: 16px;" />\n                <span><b>{{ invitation.inviter.name + \' \' + invitation.inviter.lastName }}</b> invited you to join <b>{{\n                    invitation.organizationName }}</b> organization.</span>\n            </div>\n            <div class="invitation-data">\n                <button class="invitation-respond-button"\n                    @click="respondToInvitation(true, invitation.id, invitation.organizationId)"><i class="mdi mdi-check"\n                        style="color:#29C660; font-size: 16px; margin-right: 4px;"></i>Accept</button>\n                <button class="invitation-respond-button" @click="respondToInvitation(false, invitation.id)"><i\n                        class="mdi mdi-close" style="color:#FF6B6B; font-size: 16px; margin-right: 4px;"></i>Reject</button>\n            </div>\n        </div>\n        <p class="app-text">Create New Application</p>\n        <div v-if="viewModel.user?.organizations && viewModel.user?.organizations.length > 0" class="createapp-container">\n            <div class="text"></div>\n            <div class="blankapp-logo-card" @click="CreateApp()">\n                <img src="../../../../images/blank-app.svg" alt="" class="blankapp-logo" />\n            </div>\n            <p class="title">Blank Application</p>\n            <div class="blankapp-logo-card" style="left: 211px" @click="CreateApp(\'newAppTemplate1\')">\n                <img src="../../../../images/template-app.svg" alt="" class="blankapp-logo" />\n            </div>\n            <p class="title" style="left: 226px">Template Application</p>\n        </div>\n        <OrgApplications :apps="viewModel.apps"></OrgApplications>\n    </div>\n</template>\n\n<style scoped>\n@import url("../../../../styles/IDE3.css");\n\n* {\n    font-family: "Roboto";\n}\n\n\n.invitation-row {\n    display: flex;\n    justify-content: space-between;\n    margin: 0 -33px;\n    background-color: #f5f5f5;\n    padding: 10px 24px;\n    border-bottom: 1px solid #D5D5D5;\n    align-items: center;\n}\n\n.invitation-data {\n    /* flex-basis: 25%; */\n    /* text-align: center; */\n}\n\n.invitation-label {\n    font-weight: bold;\n    margin-bottom: 5px;\n}\n\n.invitation-value {\n    color: blue;\n}\n\n.blankapp-logo {\n    position: absolute;\n    top: calc((100% - 57px) / 2);\n    left: calc((100% - 57px) / 2);\n}\n\n.blankapp-logo-card {\n    width: 163px;\n    height: 119px;\n    border-radius: 4px !important;\n    position: absolute;\n    background: #eeeeee 0% 0% no-repeat padding-box;\n    border: 1px solid #d5d5d5;\n    top: 20px;\n    left: 24px;\n    cursor: pointer;\n}\n\nbody {\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    background-color: #EEEEEE !important;\n}\n\n.app-text {\n    font-size: 18px;\n    color: #151233;\n    font-weight: 500;\n    margin-left: 7px;\n    margin-top: 32px;\n}\n\n.createapp-container {\n    position: relative;\n    background: #ffffff 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n    width: 100%;\n    height: 187px;\n    min-width: 425px;\n    margin-top: 12px;\n}\n\n.title {\n    position: absolute;\n    top: 147px;\n    left: 48px;\n    color: #151233;\n    font-size: 15px;\n}\n\n.text {\n    position: absolute;\n    left: 24px;\n    top: 24px;\n}\n\n.card-filters {\n    cursor: pointer;\n    margin-top: -12px;\n}\n\n.create-organization-button-appList {\n    background: #2C5A86;\n    border-radius: 4px;\n    border: none;\n    padding: 8px 20px;\n    font-size: 17px;\n    font-weight: 500;\n    color: #FFFFFF;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    height: 48px;\n    justify-content: center;\n}\n\n.invitation-respond-button {\n    background: transparent;\n    border: none;\n    padding: 7px 16px;\n    border-radius: 4px;\n    font-weight: 500;\n    font-size: 14px;\n    color: #151233;\n}\n\n.button-disabled {\n    display: flex;\n    justify-content: center;\n}\n\n.select-organization {\n    width: 260px;\n    font-weight: 500;\n    font-size: 15px;\n    height: 36px;\n    line-height: 36px;\n}\n\n.button-disabled {\n    display: flex;\n    justify-content: center;\n}\n\n.button-disabled button {\n    cursor: default;\n    pointer-events: none;\n}\n\n.button-disabled:hover .premium-account-tooltip {\n    visibility: visible;\n    opacity: 1;\n}\n\n.premium-account-tooltip {\n    visibility: hidden;\n    opacity: 0;\n    margin-top: 36px;\n}\n</style>\n'],sourceRoot:""}]);const s=r},38945:(n,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"9a830afdb3af3bb0515b62ea00be093f.svg"},90585:(n,t,i)=>{i.d(t,{m:()=>a});const a=Symbol.for("IAuthenticationUseCase")},4625:(n,t,i)=>{i.d(t,{M:()=>a});const a=Symbol.for("IOrganizationUseCase")},43238:(n,t,i)=>{i.r(t),i.d(t,{default:()=>G});var a=i(71093),e=i(73843),o=i(66190),A=i(38945),l=i(59146),r=i(21060),s=i(5627),p=i(91056),d=i(1937),c=i(90585),g=i(4625),u=i(83487),C=i(88613),v=i(43500);const I=n=>((0,a.dD)("data-v-70af3480"),n=n(),(0,a.Cn)(),n),f={class:"invitation-data"},B=I((()=>(0,a._)("img",{src:A.Z,style:{"margin-right":"16px"}},null,-1))),m={class:"invitation-data"},x=["onClick"],b=I((()=>(0,a._)("i",{class:"mdi mdi-check",style:{color:"#29C660","font-size":"16px","margin-right":"4px"}},null,-1))),h=["onClick"],k=I((()=>(0,a._)("i",{class:"mdi mdi-close",style:{color:"#FF6B6B","font-size":"16px","margin-right":"4px"}},null,-1))),w=I((()=>(0,a._)("p",{class:"app-text"},"Create New Application",-1))),y={key:0,class:"createapp-container"},z=I((()=>(0,a._)("div",{class:"text"},null,-1))),E=[I((()=>(0,a._)("img",{src:l.Z,alt:"",class:"blankapp-logo"},null,-1)))],U=I((()=>(0,a._)("p",{class:"title"},"Blank Application",-1))),_=[I((()=>(0,a._)("img",{src:r.Z,alt:"",class:"blankapp-logo"},null,-1)))],O=I((()=>(0,a._)("p",{class:"title",style:{left:"226px"}},"Template Application",-1))),D=(0,a.aZ)({__name:"applicationList",setup(n){const t=s.nC.resolve(C.J),A=s.nC.resolve(u.y),l=s.nC.resolve(d.v5),r=s.nC.resolve(p.u),I=s.nC.resolve(g.M),D=s.nC.resolve(c.m),S=l.getRouteParams(),Z=(0,a.Fl)((()=>S.orgId));async function F(n){await A.execute((async()=>{await I.changeOrganization(n,{})}),{loading:!0,noContinueInBgBtn:!0})}function j(n,t,i){A.execute((async()=>{var a;await I.respondToInvitation({accept:n,invitationId:t}),await D.signIn({}),n&&(Z.value&&(null===(a=Z.value)||void 0===a?void 0:a.length)>0?await F(Z.value):await F(i))}),{loading:!0,noContinueInBgBtn:!0})}function M(n){r.showDialog((0,a.RC)((()=>Promise.all([i.e(6233),i.e(8223),i.e(2908)]).then(i.bind(i,34576)))),{closable:!0,title:"Create Application",height:"383px",width:"466px"},{templateName:n})}return A.execute((async()=>{await F(Z.value)}),{loading:!1}),(n,i)=>{var A,l,r;return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(null===(A=(0,e.SU)(t).user)||void 0===A?void 0:A.invitations,(n=>((0,a.wg)(),(0,a.iD)("div",{class:"invitation-row",key:n.id},[(0,a._)("div",f,[B,(0,a._)("span",null,[(0,a._)("b",null,(0,o.toDisplayString)(n.inviter.name+" "+n.inviter.lastName),1),(0,a.Uk)(" invited you to join "),(0,a._)("b",null,(0,o.toDisplayString)(n.organizationName),1),(0,a.Uk)(" organization.")])]),(0,a._)("div",m,[(0,a._)("button",{class:"invitation-respond-button",onClick:t=>j(!0,n.id,n.organizationId)},[b,(0,a.Uk)("Accept")],8,x),(0,a._)("button",{class:"invitation-respond-button",onClick:t=>j(!1,n.id)},[k,(0,a.Uk)("Reject")],8,h)])])))),128)),w,(null===(l=(0,e.SU)(t).user)||void 0===l?void 0:l.organizations)&&(null===(r=(0,e.SU)(t).user)||void 0===r?void 0:r.organizations.length)>0?((0,a.wg)(),(0,a.iD)("div",y,[z,(0,a._)("div",{class:"blankapp-logo-card",onClick:i[0]||(i[0]=n=>M())},E),U,(0,a._)("div",{class:"blankapp-logo-card",style:{left:"211px"},onClick:i[1]||(i[1]=n=>M("newAppTemplate1"))},_),O])):(0,a.kq)("v-if",!0),(0,a.Wm)(v.Z,{apps:(0,e.SU)(t).apps},null,8,["apps"])])}}});var S=i(17450),Z=i.n(S),F=i(29530),j=i.n(F),M=i(16199),T=i.n(M),Y=i(40458),R=i.n(Y),V=i(62916),N=i.n(V),q=i(92165),P=i.n(q),W=i(56085),L={};L.styleTagTransform=P(),L.setAttributes=R(),L.insert=T().bind(null,"head"),L.domAPI=j(),L.insertStyleElement=N(),Z()(W.Z,L),W.Z&&W.Z.locals&&W.Z.locals;const G=(0,i(32525).Z)(D,[["__scopeId","data-v-70af3480"]])}}]);
//# sourceMappingURL=3238.js.map?ver=0.0.314_1714381618067