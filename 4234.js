"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[4234],{80125:(M,e,l)=>{l.d(e,{Z:()=>n});var t=l(8375),i=l.n(t),a=l(7638),o=l.n(a)()(i());o.push([M.id,"\n.disabled[data-v-96d5b1de] {\n  opacity: 0.6;\n}\n",""]);const n=o},85187:(M,e,l)=>{l.d(e,{Z:()=>n});var t=l(8375),i=l.n(t),a=l(7638),o=l.n(a)()(i());o.push([M.id,"\n.findAll-highlight {\n  background-color: #D0D1E9 !important;\n}\n",""]);const n=o},70346:(M,e,l)=>{l.r(e),l.d(e,{default:()=>O});var t=l(71093),i=l(66190),a=l(73843),o=l(5627),n=l(88613),A=l(69700),s=l(38221);const d=(0,t.aZ)({__name:"monacoEditor",props:{lang:String,width:{type:[String,Number],default:"98%"},height:{type:[String,Number],default:"90%"},isReadOnly:{type:Boolean,default:!1}},emits:["onCodePasted","updateUndoRedoState"],setup(M,{expose:e,emit:l}){const o=M;let n,d,u;(0,t.bv)((()=>{s.Z.init().then((M=>{u=M;const e={automaticLayout:!0,readOnly:o.isReadOnly},t=M.editor.create(document.getElementById("editor"),e);d=t,n=()=>t,M.languages.typescript.typescriptDefaults.setCompilerOptions({moduleResolution:M.languages.typescript.ModuleResolutionKind.NodeJs,module:M.languages.typescript.ModuleKind.CommonJS}),t.onDidChangeModelContent((()=>{l("updateUndoRedoState",g(),c())}))}))}));const D=()=>{n().onDidPaste((function(M){l("onCodePasted")}))},g=()=>{var M;return null!==(M=n().getModel().canUndo())&&void 0!==M&&M},c=()=>{var M;return null!==(M=n().getModel().canRedo())&&void 0!==M&&M};(0,t.ic)((()=>{D()}));const j=(0,t.Fl)((()=>{let{width:M,height:e}=o;return{width:M,height:e}}));return e({setMonacoLang:M=>{n()._modelData.model.setLanguage(M)},getCodeValue:()=>n().getValue(),setCodeValue:M=>{n().setValue(M)},setSelections:M=>{n().setSelections(M)},getSelections:()=>n().getSelections(),setScrollTop:M=>{n().setScrollTop(M)},getScrollTop:()=>n().getScrollTop(),insertText:M=>{const e=n();if(!e)return;var l=e.getPosition();const t=l.column,i=l.lineNumber;var a={identifier:{major:1,minor:1},range:new A.e6(i,t,i,t),text:M.text,forceMoveMarkers:!0};e.executeEdits("my-source",[a])},onPasteCode:D,style:j,undo:()=>{n().trigger("keyboard","undo",null)},redo:()=>{n().trigger("keyboard","redo",null)},canUndo:g,canRedo:c,highlightCssResults:M=>{if(!d||!u)return;if(!d.getModel())return;const e=M.map((M=>{var e;return{range:new u.Range(M.detail.lineNumber,M.detail.column,M.detail.lineNumber,M.detail.column+((null===(e=M.detail.searchValue)||void 0===e?void 0:e.length)||1)),options:{inlineClassName:"findAll-highlight"}}}));d.deltaDecorations([],e)}}),(0,t.YP)((()=>o.isReadOnly),(M=>{console.log("Watch props.isReadOnly function called with args:",M),n().updateOptions({readOnly:o.isReadOnly})})),(M,e)=>((0,t.wg)(),(0,t.iD)("div",{id:"editor",style:(0,i.normalizeStyle)((0,a.SU)(j))},null,4))}});var u=l(17450),D=l.n(u),g=l(29530),c=l.n(g),j=l(16199),I=l.n(j),w=l(40458),N=l.n(w),r=l(62916),y=l.n(r),T=l(92165),z=l.n(T),C=l(85187),L={};L.styleTagTransform=z(),L.setAttributes=N(),L.insert=I().bind(null,"head"),L.domAPI=c(),L.insertStyleElement=y(),D()(C.Z,L),C.Z&&C.Z.locals&&C.Z.locals;const x=d,p=(0,t.aZ)({__name:"fileEditor",props:{functions:null,callbacks:null,isReadOnly:{type:Boolean}},setup(M){const e=M,l=(0,a.iH)(),A=(0,a.iH)(!0),s=o.nC.resolve(n.J);e.functions.getModel=async()=>{const M=l.value.getScrollTop(),e=l.value.getSelections(),t=l.value.style.width,i=l.value.style.height;return{model:l.value.getCodeValue(),state:{scrollTop:M,selections:e,width:t,height:i,checkout:A.value}}},e.functions.setModel=async(M,e,t)=>{var i,a,o,n;l.value.setMonacoLang(t),l.value.style.width=e.width?e.width:"98%",l.value.style.height=e.height?e.height:"90%",e.scrollTop&&(null===(a=(i=l.value).setScrollTop)||void 0===a||a.call(i,e.scrollTop)),e.selections&&(null===(n=(o=l.value).setSelections)||void 0===n||n.call(o,e.selections)),A.value=!e.checkout||!e.checkout,l.value.style.resize="none",l.value.style.outline="none",l.value.setCodeValue(M)},e.functions.insertText=async(M,t)=>{l.value.insertText({text:M}),e.callbacks.modified({model:!0})},e.functions.undo=()=>{var M;null===(M=l.value)||void 0===M||M.undo()},e.functions.redo=()=>{var M;null===(M=l.value)||void 0===M||M.redo()},e.functions.findCssFileResult=async M=>{l.value.highlightCssResults(M)};const d=(M,e)=>{s.studio.topMenu&&(s.studio.topMenu.dynamicButtons.find((M=>"undo"==M.ID)).disabled=!M,s.studio.topMenu.dynamicButtons.find((M=>"redo"==M.ID)).disabled=!e)},u={select:()=>{e.callbacks.modified({state:!0})},scroll:()=>{e.callbacks.modified({state:!0})},change:()=>{e.callbacks.modified({model:!0})},keydown:M=>{const l=M,t=l.code.toLowerCase();l.shiftKey||l.ctrlKey||t.startsWith("arrow")||e.callbacks.modified({model:!0})},resize:()=>{e.callbacks.modified({state:!0})},input:()=>{e.callbacks.modified({model:!0})}},D=M=>{const e=M?l.value.$el.addEventListener:l.value.$el.removeEventListener;Object.keys(u).forEach((M=>e.call(l.value.$el,M,u[M])))};return(0,t.bv)((()=>{D(!0)})),(0,t.Jd)((()=>{D(!1)})),(M,a)=>((0,t.wg)(),(0,t.j4)(x,{ref_key:"editor",ref:l,class:(0,i.normalizeClass)({disabled:A.value}),onOnCodePasted:a[0]||(a[0]=M=>e.callbacks.modified({model:!0})),onUpdateUndoRedoState:d,isReadOnly:A.value},null,8,["class","isReadOnly"]))}});var m=l(80125),h={};h.styleTagTransform=z(),h.setAttributes=N(),h.insert=I().bind(null,"head"),h.domAPI=c(),h.insertStyleElement=y(),D()(m.Z,h),m.Z&&m.Z.locals&&m.Z.locals;const O=(0,l(32525).Z)(p,[["__scopeId","data-v-96d5b1de"]])},94748:M=>{M.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII="},6161:M=>{M.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},51096:M=>{M.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="}}]);