"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[2064],{49324:(n,e,i)=>{i.d(e,{Z:()=>s});var a=i(51864),t=i.n(a),o=i(60352),l=i.n(o)()(t());l.push([n.id,"\n*[data-v-e3cd60e0] {\n        font-family: 'Roboto';\n}\n.container[data-v-e3cd60e0] {\n        padding: 32px 20px 20px;\n}\n.name-label[data-v-e3cd60e0] {\n        font-weight: 500;\n        font-size: 15px;\n        line-height: 18px;\n        color: #151233;\n        margin-bottom: 4px;\n}\n.e-mail-input[data-v-e3cd60e0] {\n        border: 1px solid #BCBCBC;\n        border-radius: 4px;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        padding: 8px 8px 8px 12px;\n        width: 95%;\n        font-size: 15px;\n        color: #212121;\n        outline: none;\n}\n.e-mail-input[data-v-e3cd60e0]::placeholder {\n        color: #BCBCBC\n}\n.buttons-div[data-v-e3cd60e0] {\n        display: flex;\n        justify-content: end;\n}\n.cancel-button[data-v-e3cd60e0] {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #757575;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        margin-right: 4px;\n        border: none;\n        background: transparent;\n}\n.send-invite-button[data-v-e3cd60e0] {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #FFFFFF;\n        background: #151233;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        border: none;\n}\n.send-invite-button[data-v-e3cd60e0]:disabled {\n        opacity: 0.5;\n}\n.button-tooltip[data-v-e3cd60e0] {\n        visibility: hidden;\n        position: absolute;\n        background: #757575;\n        color: #FFFFFF;\n        font-size: 11px;\n        font-family: 'Roboto';\n        text-align: center;\n        border-radius: 4px;\n        letter-spacing: 0.2px;\n        padding: 6px 8px 6px 8px;\n        top: 56px;\n        left: 63px;\n        opacity: 0;\n}\n.send-invite-button:disabled:hover + .button-tooltip[data-v-e3cd60e0] {\n        visibility: visible;\n        transition: opacity 0.3s ease-out 0.5s;\n        opacity: 1;\n}\n.remove-field[data-v-e3cd60e0] {\n        display: none;\n        padding: 0 5px;\n        width: 5%;\n}\n.e-mail-addresses[data-v-e3cd60e0] {\n        display: flex;\n        margin-bottom: 10px;\n}\n.e-mail-input:hover + .remove-field[data-v-e3cd60e0],\n    .remove-field[data-v-e3cd60e0]:hover {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 24px;\n        cursor: pointer;\n}\n.multiple-address-info[data-v-e3cd60e0] {\n        font-size: 14px;\n        line-height: 16px;\n        display: flex;\n        align-items: center;\n        padding: 12px;\n        margin: 20px 0 52px;\n        background: #F5F5FA;\n        border-radius: 4px;\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/organization/invitePeopleDialog.vue"],names:[],mappings:";AAgHI;QACI,qBAAqB;AACzB;AACA;QACI,uBAAuB;AAC3B;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,kBAAkB;AACtB;AACA;QACI,yBAAyB;QACzB,kBAAkB;QAClB,aAAa;QACb,mBAAmB;QACnB,mBAAmB;QACnB,yBAAyB;QACzB,UAAU;QACV,eAAe;QACf,cAAc;QACd,aAAa;AACjB;AACA;QACI;AACJ;AACA;QACI,aAAa;QACb,oBAAoB;AACxB;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,kBAAkB;QAClB,cAAc;QACd,aAAa;QACb,mBAAmB;QACnB,iBAAiB;QACjB,kBAAkB;QAClB,iBAAiB;QACjB,YAAY;QACZ,uBAAuB;AAC3B;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,kBAAkB;QAClB,cAAc;QACd,mBAAmB;QACnB,aAAa;QACb,mBAAmB;QACnB,iBAAiB;QACjB,kBAAkB;QAClB,YAAY;AAChB;AACA;QACI,YAAY;AAChB;AACA;QACI,kBAAkB;QAClB,kBAAkB;QAClB,mBAAmB;QACnB,cAAc;QACd,eAAe;QACf,qBAAqB;QACrB,kBAAkB;QAClB,kBAAkB;QAClB,qBAAqB;QACrB,wBAAwB;QACxB,SAAS;QACT,UAAU;QACV,UAAU;AACd;AACA;QACI,mBAAmB;QACnB,sCAAsC;QACtC,UAAU;AACd;AACA;QACI,aAAa;QACb,cAAc;QACd,SAAS;AACb;AACA;QACI,aAAa;QACb,mBAAmB;AACvB;AACA;;QAEI,aAAa;QACb,mBAAmB;QACnB,uBAAuB;QACvB,eAAe;QACf,eAAe;AACnB;AACA;QACI,eAAe;QACf,iBAAiB;QACjB,aAAa;QACb,mBAAmB;QACnB,aAAa;QACb,mBAAmB;QACnB,mBAAmB;QACnB,kBAAkB;AACtB",sourcesContent:['<template>\n    <div class="container">\n        <div class="label-div">\n            <label class="name-label">Email Adresses</label>\n        </div>\n        <div style="overflow: auto; max-height: 470px;">\n            <div v-for="(field, index) in invitations" :key="index" class="e-mail-addresses">\n                <input class="e-mail-input" :ref="\'field-\' + index" v-model="field.mail" @paste="handlePaste($event, index)" size="50" @change="addField()"\n                    placeholder="name@example.com" />\n                <span class="remove-field" @click="removeField(index)"><i class="mdi mdi-close"></i></span>\n             </div>\n        </div>\n       \n        <div class="multiple-address-info">\n            <i class="mdi mdi-information" style="font-size: 24px; color: #151233; margin-right: 4px;"></i>\n            <span>You can copy and paste multiple email addresses at once by using \';\' between items.</span>\n        </div>\n        <div class="buttons-div">\n            <button class="cancel-button" @click="close()">Cancel</button>\n            <button id="sendButton" class="send-invite-button" :disabled="checkInvalidEmails()" @click="inviteMember()">SEND INVITATION</button>\n            <span class="button-tooltip" style="top: 340px; left: 470px; z-index: 1; width: 174px;">Email addresses must be valid.</span>\n        </div>\n    </div>\n</template>\n<script setup lang="ts">\n    import { ref } from "vue";\n    import { container } from "../../../../../domain/core/diContainer";\n    import { IOrganizationUseCase } from "../../../../../domain/useCase/IOrganizationUseCase";\n    import { IUseCaseExecutor } from "../../../../../domain/useCase/IUseCaseExecutor";\n    import { IViewModel } from "../../../../../domain/viewModel/IViewModel";\n    import { IRouter } from "../../../../../domain/presentation/IRouter";\n    \n    interface IInvitationItem {\n        mail: string;\n        name?: string;\n        id?: string;\n    }\n    type InvitationList = Array<IInvitationItem>;\n    const viewModel = container.resolve<IViewModel>(IViewModel);\n    const organization = container.resolve<IOrganizationUseCase>(IOrganizationUseCase);\n    const executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\n    const router = container.resolve<IRouter>(IRouter);\n    const selectedOrganizationId = ref(viewModel.user?.selectedOrganization?.id);\n    const emit = defineEmits(["close"]);\n\n    const invitations = ref<InvitationList>([{ mail: "" }, { mail: "" },{ mail: "" }]);\n    const addField = (value?: IInvitationItem) => {\n        let emptyInputCount: number = 0;\n        invitations.value.forEach(element => {\n            if(element.mail == "") {\n                emptyInputCount++\n            }\n        });\n        if(emptyInputCount == 1) {\n            invitations.value.push(value || { mail: "" });\n        }\n    };\n    function close() {\n        emit("close");\n    }\n    const removeField = (index: number) => {\n        if (invitations.value.length <= 1) { insertField(0, undefined, true); return false; }\n        invitations.value.splice(index, 1); return true;\n    };\n    const checkInvalidEmails = () => {\n        let isAllEmailsValid = false;\n        invitations.value.forEach(invite => {\n            if(invite.mail != \'\' && !validateMail(invite.mail)) {\n                isAllEmailsValid = true;\n                return isAllEmailsValid;\n            }\n        });\n        return isAllEmailsValid;\n    }\n    const insertField = (index: number, value: IInvitationItem | undefined, override: boolean) => {\n        value = value || { mail: "" };\n        if (override) {\n            invitations.value.splice(index, 1, value);\n        } else {\n            invitations.value.splice(index, 0, value);\n        }\n    };\n    const handlePaste = (event: ClipboardEvent, index: number) => {\n        const { clipboardData } = event;\n        if (!clipboardData) { return; }\n\n        event.preventDefault();\n        const text = clipboardData.getData(\'text\');\n        const values = text.split(/[\\s;]+/);\n\n        const override = invitations.value[index].mail == "";\n\n        insertField(index, { mail: values[0] }, override);\n        values.slice(1).forEach((value, curIndex) => insertField(index + curIndex + 1, { mail: value }, false));\n    }\n    function onManageOrganization() {\n        router.push(`/organization/manage/${selectedOrganizationId.value}`);\n    }\n    const inviteMember = async () => {\n        executor.execute(async () => {\n            const invProm = organization.createInvitation({ invitations: invitations.value.map(inv => ({ email: inv.mail })) });\n            await invProm;\n            while (removeField(0));\n            await close();\n            await onManageOrganization();\n        }, { loading: true });\n    };\n    const validateMail = (email: string) => !email ? true : /^(?=.{1,64}@)[a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+(\\.[a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*(\\.[a-zA-Z]{2,})$/.test(email); //RFC 5322-compliant ðŸ¤”\n    // /(?:[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*|"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/.test(email); // ðŸ¤¯ https://www.w3resource.com/javascript/form/email-validation.php // ne halt ettiÄŸini anlamadÄ±m, isterseniz iÃ§inde 1Â @ ve 1 . var mÄ± diye de bakabiliriz. ðŸ˜‚\n\n<\/script>\n<style scoped>\n    * {\n        font-family: \'Roboto\';\n    }\n    .container {\n        padding: 32px 20px 20px;\n    }\n    .name-label {\n        font-weight: 500;\n        font-size: 15px;\n        line-height: 18px;\n        color: #151233;\n        margin-bottom: 4px;\n    }\n    .e-mail-input {\n        border: 1px solid #BCBCBC;\n        border-radius: 4px;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        padding: 8px 8px 8px 12px;\n        width: 95%;\n        font-size: 15px;\n        color: #212121;\n        outline: none;\n    }\n    .e-mail-input::placeholder {\n        color: #BCBCBC\n    }   \n    .buttons-div {\n        display: flex;\n        justify-content: end;\n    }\n    .cancel-button {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #757575;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        margin-right: 4px;\n        border: none;\n        background: transparent;\n    }\n    .send-invite-button {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #FFFFFF;\n        background: #151233;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        border: none;\n    }\n    .send-invite-button:disabled {\n        opacity: 0.5;\n    }\n    .button-tooltip {\n        visibility: hidden;\n        position: absolute;\n        background: #757575;\n        color: #FFFFFF;\n        font-size: 11px;\n        font-family: \'Roboto\';\n        text-align: center;\n        border-radius: 4px;\n        letter-spacing: 0.2px;\n        padding: 6px 8px 6px 8px;\n        top: 56px;\n        left: 63px;\n        opacity: 0;\n    }\n    .send-invite-button:disabled:hover + .button-tooltip {\n        visibility: visible;\n        transition: opacity 0.3s ease-out 0.5s;\n        opacity: 1;\n    } \n    .remove-field {\n        display: none;\n        padding: 0 5px;\n        width: 5%;\n    }\n    .e-mail-addresses {\n        display: flex;\n        margin-bottom: 10px;\n    }\n    .e-mail-input:hover + .remove-field,\n    .remove-field:hover {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 24px;\n        cursor: pointer;\n    }\n    .multiple-address-info {\n        font-size: 14px;\n        line-height: 16px;\n        display: flex;\n        align-items: center;\n        padding: 12px;\n        margin: 20px 0 52px;\n        background: #F5F5FA;\n        border-radius: 4px;\n    }\n</style>'],sourceRoot:""}]);const s=l},52064:(n,e,i)=>{i.r(e),i.d(e,{default:()=>O});var a=i(62068),t=i(51705),o=i(81407),l=i(3734),s=i(25320),d=i(80664),A=i(67422),r=i(35078);const c=n=>((0,a.dD)("data-v-e3cd60e0"),n=n(),(0,a.Cn)(),n),p={class:"container"},m=c((()=>(0,a._)("div",{class:"label-div"},[(0,a._)("label",{class:"name-label"},"Email Adresses")],-1))),u={style:{overflow:"auto","max-height":"470px"}},v=["onUpdate:modelValue","onPaste"],x=["onClick"],C=[c((()=>(0,a._)("i",{class:"mdi mdi-close"},null,-1)))],B=c((()=>(0,a._)("div",{class:"multiple-address-info"},[(0,a._)("i",{class:"mdi mdi-information",style:{"font-size":"24px",color:"#151233","margin-right":"4px"}}),(0,a._)("span",null,"You can copy and paste multiple email addresses at once by using ';' between items.")],-1))),f={class:"buttons-div"},b=["disabled"],g=c((()=>(0,a._)("span",{class:"button-tooltip",style:{top:"340px",left:"470px","z-index":"1",width:"174px"}},"Email addresses must be valid.",-1))),h=(0,a.aZ)({__name:"invitePeopleDialog",emits:["close"],setup(n,{emit:e}){var i,c;const h=l.nC.resolve(A.J),Q=l.nC.resolve(s.M),y=l.nC.resolve(d.y),I=l.nC.resolve(r.v5),z=(0,o.iH)(null===(c=null===(i=h.user)||void 0===i?void 0:i.selectedOrganization)||void 0===c?void 0:c.id),k=(0,o.iH)([{mail:""},{mail:""},{mail:""}]);function w(){e("close")}const F=n=>k.value.length<=1?(_(0,void 0,!0),!1):(k.value.splice(n,1),!0),E=()=>{let n=!1;return k.value.forEach((e=>{if(""!=e.mail&&!U(e.mail))return n=!0,n})),n},_=(n,e,i)=>{e=e||{mail:""},i?k.value.splice(n,1,e):k.value.splice(n,0,e)},U=n=>!n||/^(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,})$/.test(n);return(n,e)=>((0,a.wg)(),(0,a.iD)("div",p,[m,(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(k.value,((n,i)=>((0,a.wg)(),(0,a.iD)("div",{key:i,class:"e-mail-addresses"},[(0,a.wy)((0,a._)("input",{class:"e-mail-input",ref_for:!0,ref:"field-"+i,"onUpdate:modelValue":e=>n.mail=e,onPaste:n=>((n,e)=>{const{clipboardData:i}=n;if(!i)return;n.preventDefault();const a=i.getData("text").split(/[\s;]+/),t=""==k.value[e].mail;_(e,{mail:a[0]},t),a.slice(1).forEach(((n,i)=>_(e+i+1,{mail:n},!1)))})(n,i),size:"50",onChange:e[0]||(e[0]=n=>(n=>{let e=0;k.value.forEach((n=>{""==n.mail&&e++})),1==e&&k.value.push({mail:""})})()),placeholder:"name@example.com"},null,40,v),[[t.vModelText,n.mail]]),(0,a._)("span",{class:"remove-field",onClick:n=>F(i)},C,8,x)])))),128))]),B,(0,a._)("div",f,[(0,a._)("button",{class:"cancel-button",onClick:e[1]||(e[1]=n=>w())},"Cancel"),(0,a._)("button",{id:"sendButton",class:"send-invite-button",disabled:E(),onClick:e[2]||(e[2]=n=>(async()=>{y.execute((async()=>{const n=Q.createInvitation({invitations:k.value.map((n=>({email:n.mail})))});for(await n;F(0););await w(),await void I.push(`/organization/manage/${z.value}`)}),{loading:!0})})())},"SEND INVITATION",8,b),g])]))}});var Q=i(75701),y=i.n(Q),I=i(8236),z=i.n(I),k=i(6080),w=i.n(k),F=i(56850),E=i.n(F),_=i(87182),U=i.n(_),Z=i(39213),D=i.n(Z),M=i(49324),V={};V.styleTagTransform=D(),V.setAttributes=E(),V.insert=w().bind(null,"head"),V.domAPI=z(),V.insertStyleElement=U(),y()(M.Z,V),M.Z&&M.Z.locals&&M.Z.locals;const O=(0,i(51419).Z)(h,[["__scopeId","data-v-e3cd60e0"]])}}]);
//# sourceMappingURL=2064.js.map