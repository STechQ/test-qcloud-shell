"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[3243],{16620:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(8375),a=t.n(o),i=t(7638),l=t.n(i)()(a());l.push([e.id,"\n.container[data-v-e355d40c] {\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    padding: 32px 20px 20px;\n    display: flex;\n    flex-direction: column;\n}\n.content-wrapper[data-v-e355d40c] {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: auto;\n}\n.bottom-section[data-v-e355d40c] {\n    margin-top: auto;\n}\n.footer[data-v-e355d40c] {\n    position: relative;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: end;\n    margin-top: 20px;\n}\n.cancel-button[data-v-e355d40c] {\n    border-radius: 4px;\n    user-select: none;\n    font-style: normal;\n    font-weight: 500;\n    font-family: \"ROBOTO\";\n    font-size: 15px;\n    color: #757575;\n    padding: 10px 16px;\n    cursor: pointer;\n    margin-right: 4px;\n    border: none;\n    background: transparent;\n}\n.save-button[data-v-e355d40c] {\n    background: #151233;\n    border-radius: 4px;\n    user-select: none;\n    font-weight: 500;\n    font-size: 15px;\n    color: #ffffff;\n    padding: 10px 16px;\n    cursor: pointer;\n    border: none;\n}\n.save-button[data-v-e355d40c]:disabled {\n    color: #757575;\n    cursor: not-allowed;\n}\n.button-disable .save-button:hover+.button-tooltip[data-v-e355d40c],\n.publish-info:hover .button-tooltip[data-v-e355d40c] {\n    visibility: visible;\n    transition: opacity 0.3s ease-out 1s;\n    opacity: 1;\n}\n.button-tooltip[data-v-e355d40c] {\n    visibility: hidden;\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    font-family: 'Roboto';\n    text-align: center;\n    border-radius: 4px;\n    letter-spacing: 0.2px;\n    padding: 6px 8px 6px 8px;\n    top: 56px;\n    left: 63px;\n    opacity: 0;\n}\n.publish-info[data-v-e355d40c] {\n    color: #757575;\n    font-size: 20px;\n    margin-left: 10px;\n}\n.select-environment[data-v-e355d40c] {\n    width: 100%;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    margin-top: 4px;\n}\n",""]);const s=l},55287:(e,n,t)=>{t.d(n,{P:()=>o});const o=Symbol.for("ICreateWorkflowExportJob")},29307:(e,n,t)=>{t.d(n,{w:()=>o});const o=Symbol.for("IFileDisplayerUseCase")},62376:(e,n,t)=>{t.d(n,{q:()=>o});const o=Symbol.for("IListMultiModelVersions")},17379:(e,n,t)=>{t.d(n,{y:()=>o});const o=Symbol.for("IListMultiModuleVersions")},15772:(e,n,t)=>{t.d(n,{M:()=>o});const o=Symbol.for("IModelSelectionValidator")},61483:(e,n,t)=>{t.r(n),t.d(n,{default:()=>j});var o=t(71093),a=t(66190),i=t(73843),l=t(5627),s=t(55287),r=t(83487),c=t(88613),d=t(84874),u=t(40918),p=t(64740),v=t(28518),f=t(50419),m=t(74381),y=t(15772),x=t(37530),h=t(13348);const b={class:"container"},g={class:"content-wrapper"},w={class:"bottom-section"},k={key:0,class:"info"},I={class:(0,a.normalizeClass)(["footer","export"])},S=["disabled"],F=(0,o.aZ)({__name:"workflowExportDialog",emits:["close"],setup(e,{emit:n}){const t=l.nC.resolve(c.J),a=l.nC.resolve(r.y),F=l.nC.resolve(d.B),C=l.nC.resolve(p.t),O=l.nC.resolve(f.L),D=l.nC.resolve(y.M),T=(0,i.iH)([]),U=(0,i.iH)([]),_=(0,i.iH)(""),E=(0,i.iH)({backgroundColor:"#F5F5FA",color:"#373737",fontSize:"20px",iconColor:"#F3CA40",marginTop:"20px"}),P=(0,o.Fl)((()=>!(A&&W.value&&M.value&&Z.value&&K.value&&!j.value&&A.value))),A=(0,o.Fl)((()=>T.value.some((e=>e.checked||e.anyChildChecked)))),K=(0,o.Fl)((()=>D.checkVersionOfItems(T.value))),Z=(0,o.Fl)((()=>D.validateRootQjsonForWF(U.value))),z=(0,o.Fl)((()=>function(){const e=D.checkWorkflowExecutionItems(U.value);return{...e,allItemsOK:e.getUserOK&&e.notifyOK&&e.preFormOK&&e.iPaasEndPointOK}}())),M=(0,o.Fl)((()=>z.value.allItemsOK)),W=(0,i.iH)(!1),j=(0,o.Fl)((()=>D.checkSettingsFilesSelected())),q=(0,o.Fl)((()=>A.value?K.value?Z.value?M.value?W.value?void 0:_.value:`${function(){let e="Please include the following items in your export selection: ";const n=z.value,t=[];return n.getUserOK||t.push('"getUser"'),n.notifyOK||t.push('"notify"'),n.preFormOK||t.push('"TaskPreview"'),n.iPaasEndPointOK||t.push('"IPaaS_Endpoint"'),e+=t.join(", "),e}()}`:"Please make sure that the 'root' UI page is selected for export.":"There are no items ready to publish. At least one of your items must be ready to publish.":"Please select at least one item to export."));function H(){a.execute((async()=>{const e=await D.validateDependencies(T.value,"Export");_.value=e.dependencyErrorStr,W.value=e.validation}),{loading:!1})}function B(e,n){const t=T.value.findIndex((n=>n.id===e.id));-1!==t?T.value[t]={...e}:T.value.push({...e});const o=U.value.findIndex((n=>n.id===e.id));e.checked?-1!==o?U.value[o]=e:U.value.push(e):-1!==o&&U.value.splice(o,1),n&&H()}return(0,o.bv)((async()=>{H()})),(e,r)=>((0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("div",g,[(0,o.Wm)(x.Z,{screenType:"Export",onGetItem:B,searchable:!0})]),(0,o._)("div",w,[(0,i.SU)(P)?((0,o.wg)(),(0,o.iD)("div",k,[(0,i.SU)(j)?((0,o.wg)(),(0,o.j4)(m.Z,{key:0,customIconClass:"mdi mdi-alert",customStyle:E.value,isSlot:!0},{default:(0,o.w5)((()=>[(0,o.Uk)(" Some settings files in your application are currently unassigned. To continue, please navigate to the "),(0,o._)("span",{onClick:r[0]||(r[0]=e=>function(){n("close");const e=l.nC.resolve(h.y);a.execute((async()=>{await e.openAppSettingsUI()}),{loading:!0})}()),style:{"font-weight":"bold","text-decoration":"underline",cursor:"pointer"}}," Settings page "),(0,o.Uk)(" and assign all necessary files ")])),_:1},8,["customStyle"])):(0,o.kq)("v-if",!0),(0,i.SU)(P)&&(0,i.SU)(q)?((0,o.wg)(),(0,o.j4)(m.Z,{key:1,customIconClass:"mdi mdi-alert",infoText:(0,i.SU)(q),customStyle:E.value},null,8,["infoText","customStyle"])):(0,o.kq)("v-if",!0)])):(0,o.kq)("v-if",!0),(0,o._)("div",I,[(0,o._)("button",{class:"cancel-button",onClick:r[1]||(r[1]=n=>e.close())},"Cancel"),(0,o._)("button",{class:"save-button",disabled:(0,i.SU)(P),onClick:r[2]||(r[2]=e=>async function(){a.execute((async()=>{const e=function(){const e=Array();return U.value.forEach((n=>{const o=[{ID:(a=n).id,version:a.version||"latest"}];var a;o&&o.length>0&&(F.traverseAllItems((e=>("model"!=e.objectType||"workflow"!=e.modelType||o.some((n=>n.ID!=e.ID))||u.$.parseWorkflowModelBodyWFE(function(e){const n=C.extractRuntimeModel(e);return{appId:t.studio.appId,organizationId:t.user.selectedOrganization.id,modelID:v.x.embedIdType(e.ID,e.modelType),name:e.name,type:e.modelType,modelBody:n,updateDate:e.updateDate&&new Date(e.updateDate).valueOf(),version:e.version}}(e),"notification",(e=>{O.showNotification({text:e,type:"error"})})),"continue"))),Array.prototype.push.apply(e,o))})),e}();await a.executeUseCase(s.P,{items:e}),n("close")}),{loading:!0})}())},"DOWNLOAD",8,S)])])]))}});var C=t(17450),O=t.n(C),D=t(29530),T=t.n(D),U=t(16199),_=t.n(U),E=t(40458),P=t.n(E),A=t(62916),K=t.n(A),Z=t(92165),z=t.n(Z),M=t(16620),W={};W.styleTagTransform=z(),W.setAttributes=P(),W.insert=_().bind(null,"head"),W.domAPI=T(),W.insertStyleElement=K(),O()(M.Z,W),M.Z&&M.Z.locals&&M.Z.locals;const j=(0,t(32525).Z)(F,[["__scopeId","data-v-e355d40c"]])}}]);