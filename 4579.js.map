{"version":3,"file":"4579.js?ver=0.0.308_1709208284814","mappings":"8KAGA,MAAMA,GAA0B,IAAAC,GAAoB,OAAQ,CAC1DC,IAAK,aACLC,KAAM,8CACL,MAAO,GACJC,GAA0B,IAAAH,GAAoB,OAAQ,CAC1DC,IAAK,aACLC,KAAM,+DACL,MAAO,GACJE,GAA0B,IAAAJ,GAAoB,OAAQ,CAC1DC,IAAK,aACLC,KAAM,6EACL,MAAO,GACJG,GAA0B,QAAmB,4dAAmf,GCVtiB,GDuB4B,QAAiB,CAC3CC,OAAQ,sBACRC,MAAO,CACLC,UAAW,KACXC,UAAW,MAEbC,MAAMC,GAER,MAAMJ,EAAQI,EAMd,IAAIC,EAmBJ,OAlBAL,EAAMC,UAAUK,SAAWC,UAEhB,CAAEC,MAAO,CAAEC,WADMJ,EAAYK,iBACNC,MAAO,eAEzCX,EAAMC,UAAUW,SAAWL,MAAOC,EAAOG,KACrCE,QAAQC,IAAI,kBAAmBN,GAE/BH,EAAYU,iBAAiBP,EAAMC,MAEnCJ,EAAYW,GAAG,wBAAwB,KAAOhB,EAAME,UAAUe,SAAS,CAACN,OAAO,EAAOH,OAAO,GAAM,GAAE,GAGzG,SAAU,KACNH,EAAc,IAAI,IAAJ,CAAY,CAACa,KAAM,KAAKC,UAAW,wBAAwB,IAKtE,CAACC,EAAUC,MACR,WAAc,QAAoB,KAAW,KAAM,CACzD7B,EACAI,EACAC,GACA,QAAoB,iGACpBC,GACC,IAEL,G","sources":["webpack://qcloud_shell/./src/presentation/vue3/editors/processDesignEditor.vue?d312","webpack://qcloud_shell/./src/presentation/vue3/editors/processDesignEditor.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"link\", {\n  rel: \"stylesheet\",\n  href: \"../../vendor/bpmn-js/assets/diagram-js.css\"\n}, null, -1 /* HOISTED */)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"link\", {\n  rel: \"stylesheet\",\n  href: \"../../vendor/bpmn-js/assets/bpmn-font/css/bpmn-embedded.css\"\n}, null, -1 /* HOISTED */)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"link\", {\n  rel: \"stylesheet\",\n  href: \"../../vendor/bpmn-js-properties-panel/assets/bpmn-js-properties-panel.css\"\n}, null, -1 /* HOISTED */)\nconst _hoisted_4 = /*#__PURE__*/_createStaticVNode(\"<link rel=\\\"stylesheet\\\" href=\\\"../../vendor/bpmn-js-token-simulation/assets/css/bpmn-js-token-simulation.css\\\"><link rel=\\\"stylesheet\\\" href=\\\"https://unpkg.com/@bpmn-io/form-js@0.5.1/dist/assets/form-js.css\\\"><div class=\\\"content with-diagram\\\"><div class=\\\"canvas\\\" style=\\\"width:100%;height:500px;\\\" id=\\\"processEditorCanvas\\\"></div><div style=\\\"border:1px solid #aaa;height:500px;overflow-x:hidden;overflow-y:auto;\\\" class=\\\"properties-panel-parent\\\" id=\\\"js-properties-panel\\\"></div></div>\", 3)\n\nimport { onMounted, ref } from \"vue\";\nimport { IProcessDesignEditorProps } from \"../../../application/objects/editors/processDesignEditorImpl\";\nimport Modeler from \"@stechquick/plateau-process-designer\";\nimport { IModel } from \"../../../domain/model/models\";\n//import { exportTest } from \"@stechquick/plateau-process-designer\";\n\ninterface IProps {\n    functions: IProcessDesignEditorProps[\"functions\"];\n    callbacks: IProcessDesignEditorProps[\"callbacks\"];\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'processDesignEditor',\n  props: {\n    functions: null,\n    callbacks: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n    functions: IProcessDesignEditorProps[\"functions\"];\n    callbacks: IProcessDesignEditorProps[\"callbacks\"];\n};\n\n\nlet bpmnModeler!: Modeler;\nprops.functions.getModel = async () => {\n    let xml: string = await bpmnModeler.getDiagramXML();\n    return { model: { bpmn: xml}, state: \"stateValue\" };\n};\nprops.functions.setModel = async (model, state) => {\n    console.log(\"incomming model\", model);\n    // model.bpmn.then((xml: string) => bpmnModeler.importDiagramXML(xml));\n    bpmnModeler.importDiagramXML(model.bpmn);\n    // setInterval(() => {if (bpmnModeler.isModified()) props.callbacks.modified({state: false, model: true})}, 5000);\n    bpmnModeler.on('commandStack.changed', () => {props.callbacks.modified({state: false, model: true})});\n};\n\nonMounted(() => {\n    bpmnModeler = new Modeler({lang: 'tr',container: \"#processEditorCanvas\"});\n});\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _hoisted_3,\n    _createCommentVNode(\"  link rel=\\\"stylesheet\\\" href=\\\"../vendor/bpmn-js-token-simulation/assets/css/normalize.css\\\" / \"),\n    _hoisted_4\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","import script from \"./processDesignEditor.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./processDesignEditor.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","_","rel","href","_hoisted_2","_hoisted_3","_hoisted_4","__name","props","functions","callbacks","setup","__props","bpmnModeler","getModel","async","model","bpmn","getDiagramXML","state","setModel","console","log","importDiagramXML","on","modified","lang","container","_ctx","_cache"],"sourceRoot":""}