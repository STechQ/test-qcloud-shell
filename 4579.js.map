{"version":3,"file":"4579.js?ver=0.0.296_1706016063694","mappings":"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","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?73cb","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?d26f","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?b0f8","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n*[data-v-ff7534fe] {\\n    font-family: \\\"Roboto\\\";\\n}\\n.container[data-v-ff7534fe] {\\n      padding: 0px 20px;\\n}\\nul[data-v-ff7534fe] {\\n    list-style-type: none;\\n}\\n.release-info-up[data-v-ff7534fe]{\\n      display: flex;\\n      font-family: 'Material Design Icons';\\n      font-style: normal;\\n      font-weight: 400;\\n      font-size: 24px;\\n      line-height: 24px;\\n      color: #151233;\\n}\\n.release-info-icon-up[data-v-ff7534fe] {\\n      width: 24px;\\n      height: 24px;\\n      font-family: 'Material Design Icons';\\n      font-style: normal;\\n      font-weight: 400;\\n      font-size: 24px;\\n      line-height: 24px;\\n      text-align: center;\\n      color: #151233;\\n      flex: none;\\n      order: 0;\\n      flex-grow: 0;\\n}\\n.check-in-definition-text[data-v-ff7534fe]{\\n      margin-left:8px;\\n      font-family: 'Roboto';\\n      font-style: normal;\\n      font-size: 14px;\\n      color: #757575;\\n}\\n.check-in-info-div[data-v-ff7534fe]{\\n    margin: 20px 0px;\\n      padding: 12px;\\n      gap: 8px;\\n      width: 570px;\\n    height: 72px;\\n      background: #F5F5FA;\\n      border-radius: 4px;\\n}\\n.createLi[data-v-ff7534fe] {\\n    cursor: pointer;\\n}\\n.move-to-item[data-v-ff7534fe] {\\n    padding-top: 1px;\\n    padding-right: 20px;\\n}\\n.move-to-item[data-v-ff7534fe]:not(.item-disabled):hover {\\n    background: #D5D5D5;\\n}\\n.item-disabled[data-v-ff7534fe] {\\n    opacity: 0.5;\\n}\\n.buttons-div[data-v-ff7534fe] {\\n      display: flex;\\n      justify-content: end;\\n      margin-top: 52px;\\n      padding: 0 20px;\\n}\\n.cancel-button[data-v-ff7534fe] {\\n      font-weight: 500;\\n      font-size: 16px;\\n      text-align: center;\\n      color: #757575;\\n      display: flex;\\n      align-items: center;\\n      padding: 8px 16px;\\n      border-radius: 4px;\\n      margin-right: 4px;\\n      border: none;\\n      background: transparent;\\n}\\n.move-button[data-v-ff7534fe] {\\n      font-weight: 500;\\n      font-size: 16px;\\n      text-align: center;\\n      color: #FFFFFF;\\n      background: #151233;\\n      display: flex;\\n      align-items: center;\\n      padding: 8px 16px;\\n      border-radius: 4px;\\n      border: none;\\n}\\n.move-button[data-v-ff7534fe]:disabled {\\n      color: #757575;\\n}\\n\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/moveItem.vue\"],\"names\":[],\"mappings\":\";AAkHE;IACE,qBAAqB;AACvB;AACA;MACI,iBAAiB;AAErB;AACA;IACE,qBAAqB;AACvB;AACA;MACI,aAAa;MACb,oCAAoC;MACpC,kBAAkB;MAClB,gBAAgB;MAChB,eAAe;MACf,iBAAiB;MACjB,cAAc;AAClB;AAEA;MACI,WAAW;MACX,YAAY;MACZ,oCAAoC;MACpC,kBAAkB;MAClB,gBAAgB;MAChB,eAAe;MACf,iBAAiB;MACjB,kBAAkB;MAClB,cAAc;MACd,UAAU;MACV,QAAQ;MACR,YAAY;AAChB;AACA;MACI,eAAe;MACf,qBAAqB;MACrB,kBAAkB;MAClB,eAAe;MACf,cAAc;AAClB;AACA;IACE,gBAAgB;MACd,aAAa;MACb,QAAQ;MACR,YAAY;IACd,YAAY;MACV,mBAAmB;MACnB,kBAAkB;AACtB;AACA;IACE,eAAe;AACjB;AAEA;IACE,gBAAgB;IAChB,mBAAmB;AACrB;AAEA;IACE,mBAAmB;AACrB;AAEA;IACE,YAAY;AACd;AACA;MACI,aAAa;MACb,oBAAoB;MACpB,gBAAgB;MAChB,eAAe;AACnB;AACA;MACI,gBAAgB;MAChB,eAAe;MACf,kBAAkB;MAClB,cAAc;MACd,aAAa;MACb,mBAAmB;MACnB,iBAAiB;MACjB,kBAAkB;MAClB,iBAAiB;MACjB,YAAY;MACZ,uBAAuB;AAC3B;AACA;MACI,gBAAgB;MAChB,eAAe;MACf,kBAAkB;MAClB,cAAc;MACd,mBAAmB;MACnB,aAAa;MACb,mBAAmB;MACnB,iBAAiB;MACjB,kBAAkB;MAClB,YAAY;AAChB;AACA;MACI,cAAc;AAClB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { onUnmounted, ref, onMounted } from \\\"vue\\\";\\nimport { PathHelper } from \\\"../../../../../../common/helpers/pathHelper\\\";\\nimport { container } from '../../../../domain/core/diContainer';\\nimport { IMoveItemInline } from '../../../../domain/presentation/dialogs/IMoveItemProps';\\nimport { ITreeItem, ITreeView } from \\\"../../../../domain/presentation/ITreeView\\\";\\nimport { FileDisplayerExternalData, IFileDisplayerUseCase } from \\\"../../../../domain/useCase/IFileDisplayerUseCase\\\";\\nimport { FileExplorerConstants, IFileExplorer } from \\\"../../../../domain/useCase/IFileExplorer\\\";\\nimport { IMoveTargetRequired, IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\\nimport { IViewModelManager } from \\\"../../../../domain/viewModel/IViewModelManager\\\";\\nimport { IQJsonAdditionals } from \\\"../../../../../../common/qCloudTemp/quickCloud\\\";\\n\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);\\nconst param = defineProps<{ param: IMoveItemInline }>();\\nconst props = param.param;\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst viewModelManager = container.resolve<IViewModelManager>(IViewModelManager);\\nconst emit = defineEmits([\\\"close\\\"]);\\nconst rootDiv = ref<HTMLDivElement>();\\nconst fileDisplayerUC = container.resolve<IFileDisplayerUseCase>(IFileDisplayerUseCase);\\nconst fileExplorer = container.resolve<IFileExplorer>(IFileExplorer);\\n\\nlet selected: ITreeItem<FileDisplayerExternalData> | undefined = undefined;\\nlet treeView: ITreeView<FileDisplayerExternalData>;\\nconst selectedIsRootPage = ref<boolean>(false);\\nonMounted(() => {\\n  const app = viewModelManager.getCurrentApplication()!;\\n  if (props.itemToBeMoved.objectType == \\\"folder\\\") {\\n    fileExplorer.cloneFilterFolderItems(props.itemToBeMoved.ID, (item) => {\\n      if (selectedIsRootPage.value) { return false; }\\n      if (item.externalData.objectType != \\\"model\\\") { return true; }\\n      if ((item.externalData.additionals as IQJsonAdditionals | undefined)?.isRootPage) { selectedIsRootPage.value = true; }\\n      return false;\\n    });\\n  } else {\\n    selectedIsRootPage.value = (props.itemToBeMoved.additionals as IQJsonAdditionals | undefined)?.isRootPage || false;\\n  }\\n  treeView = fileDisplayerUC.createFileExplorerClone(rootDiv.value!,\\n  {\\n    displayFilterer: item => {\\n      if (selectedIsRootPage.value && item.objectType == \\\"module\\\") { return false; }\\n      if (item.objectType == \\\"module\\\" && item.shareType == \\\"version\\\" && item.mainOwner != app.ID) { return false; } // can not move to version imported modules\\n      if (item.objectType == \\\"model\\\"){ return false; }\\n      if (item.ID == FileExplorerConstants.uiSettingsID) { return false; }\\n      return true;\\n    },\\n    cb: { select: item => selected = item },\\n    additionalRoot: { externalData: app, id: app.ID, name: app.name },\\n  });\\n});\\n\\nonUnmounted(() => {\\n  treeView.reset();\\n});\\n\\nasync function move() {\\n  await executor.execute(async () => {\\n    if (!selected) { return; }\\n    let target: Partial<IMoveTargetRequired>;\\n    switch (selected.externalData.objectType) {\\n      case \\\"model\\\": throw new Error(\\\"unexpected target\\\");\\n      case \\\"folder\\\":\\n        const folder = selected.externalData;\\n        target = {\\n          address: { name: props.itemToBeMoved.name, path: PathHelper.join(folder.path , folder.name) },\\n          owner: folder.owner.ID != props.itemToBeMoved.owner.ID ? { id: folder.owner.ID, type: folder.owner.objectType } : undefined,\\n        };\\n        break;\\n      case \\\"module\\\":\\n        const module = selected.externalData;\\n        target = { owner: { id: module.ID, type: \\\"module\\\" }, address: { path: \\\"/\\\", name: \\\"\\\" } };\\n        break;\\n      case \\\"application\\\":\\n        const application = selected.externalData;\\n        target = { owner: { id: application.ID, type: \\\"application\\\" }, address: { path: \\\"/\\\", name: \\\"\\\" } };\\n        break;\\n    }\\n    await moveUseCase.moveItem(props.itemToBeMoved, target);\\n    emit(\\\"close\\\");\\n  }, { loading: true });\\n}\\n\\nfunction close() {\\n  emit(\\\"close\\\");\\n}\\n\\n</script> \\n\\n<template>\\n  <div class=\\\"container\\\">\\n    <div v-if=\\\"selectedIsRootPage\\\" class=\\\"check-in-info-div\\\">\\n        <span class=\\\"release-info-up\\\">\\n            <i class=\\\"mdi mdi-information release-info-icon-up\\\" /> \\n            <span class=\\\"check-in-definition-text\\\">\\n              Selected items contains the start screen page. <br>\\n              Modules are hidden because they cannot contain the start screen page.\\n            </span>\\n        </span>\\n    </div>\\n    <div id=\\\"content-area\\\" class=\\\"popover__content\\\">\\n      <div ref=\\\"rootDiv\\\" style=\\\"height: 100%\\\" class=\\\"errorDiv\\\"></div>\\n      <div class=\\\"buttons-div\\\">\\n        <button class=\\\"cancel-button\\\" @click=\\\"close()\\\">Cancel</button>\\n        <button class=\\\"move-button\\\" @click=\\\"move()\\\">MOVE</button>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n\\n<style scoped>\\n  * {\\n    font-family: \\\"Roboto\\\";\\n  }\\n  .container {\\n      padding: 0px 20px;\\n      \\n  }\\n  ul {\\n    list-style-type: none;\\n  }\\n  .release-info-up{\\n      display: flex;\\n      font-family: 'Material Design Icons';\\n      font-style: normal;\\n      font-weight: 400;\\n      font-size: 24px;\\n      line-height: 24px;\\n      color: #151233;\\n  }\\n\\n  .release-info-icon-up {\\n      width: 24px;\\n      height: 24px;\\n      font-family: 'Material Design Icons';\\n      font-style: normal;\\n      font-weight: 400;\\n      font-size: 24px;\\n      line-height: 24px;\\n      text-align: center;\\n      color: #151233;\\n      flex: none;\\n      order: 0;\\n      flex-grow: 0;\\n  }\\n  .check-in-definition-text{\\n      margin-left:8px;\\n      font-family: 'Roboto';\\n      font-style: normal;\\n      font-size: 14px;\\n      color: #757575;\\n  }\\n  .check-in-info-div{\\n    margin: 20px 0px;\\n      padding: 12px;\\n      gap: 8px;\\n      width: 570px;\\n    height: 72px;\\n      background: #F5F5FA;\\n      border-radius: 4px;\\n  }\\n  .createLi {\\n    cursor: pointer;\\n  }\\n\\n  .move-to-item {\\n    padding-top: 1px;\\n    padding-right: 20px;\\n  }\\n\\n  .move-to-item:not(.item-disabled):hover {\\n    background: #D5D5D5;\\n  }\\n\\n  .item-disabled {\\n    opacity: 0.5;\\n  }\\n  .buttons-div {\\n      display: flex;\\n      justify-content: end;\\n      margin-top: 52px;\\n      padding: 0 20px;\\n  }\\n  .cancel-button {\\n      font-weight: 500;\\n      font-size: 16px;\\n      text-align: center;\\n      color: #757575;\\n      display: flex;\\n      align-items: center;\\n      padding: 8px 16px;\\n      border-radius: 4px;\\n      margin-right: 4px;\\n      border: none;\\n      background: transparent;\\n  }\\n  .move-button {\\n      font-weight: 500;\\n      font-size: 16px;\\n      text-align: center;\\n      color: #FFFFFF;\\n      background: #151233;\\n      display: flex;\\n      align-items: center;\\n      padding: 8px 16px;\\n      border-radius: 4px;\\n      border: none;\\n  }\\n  .move-button:disabled {\\n      color: #757575;\\n  }\\n\\n</style>\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ff7534fe\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"check-in-info-div\"\n}\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"release-info-up\" }, [\n  /*#__PURE__*/_createElementVNode(\"i\", { class: \"mdi mdi-information release-info-icon-up\" }),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"check-in-definition-text\" }, [\n    /*#__PURE__*/_createTextVNode(\" Selected items contains the start screen page. \"),\n    /*#__PURE__*/_createElementVNode(\"br\"),\n    /*#__PURE__*/_createTextVNode(\" Modules are hidden because they cannot contain the start screen page. \")\n  ])\n], -1 /* HOISTED */))\nconst _hoisted_4 = [\n  _hoisted_3\n]\nconst _hoisted_5 = {\n  id: \"content-area\",\n  class: \"popover__content\"\n}\nconst _hoisted_6 = { class: \"buttons-div\" }\n\nimport { onUnmounted, ref, onMounted } from \"vue\";\nimport { PathHelper } from \"../../../../../../common/helpers/pathHelper\";\nimport { container } from '../../../../domain/core/diContainer';\nimport { IMoveItemInline } from '../../../../domain/presentation/dialogs/IMoveItemProps';\nimport { ITreeItem, ITreeView } from \"../../../../domain/presentation/ITreeView\";\nimport { FileDisplayerExternalData, IFileDisplayerUseCase } from \"../../../../domain/useCase/IFileDisplayerUseCase\";\nimport { FileExplorerConstants, IFileExplorer } from \"../../../../domain/useCase/IFileExplorer\";\nimport { IMoveTargetRequired, IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\nimport { IViewModelManager } from \"../../../../domain/viewModel/IViewModelManager\";\nimport { IQJsonAdditionals } from \"../../../../../../common/qCloudTemp/quickCloud\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'moveItem',\n  props: {\n    param: null\n  },\n  emits: [\"close\"],\n  setup(__props: any, { emit }) {\n\nconst param = __props as { param: IMoveItemInline };\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);\n\nconst props = param.param;\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst viewModelManager = container.resolve<IViewModelManager>(IViewModelManager);\n\nconst rootDiv = ref<HTMLDivElement>();\nconst fileDisplayerUC = container.resolve<IFileDisplayerUseCase>(IFileDisplayerUseCase);\nconst fileExplorer = container.resolve<IFileExplorer>(IFileExplorer);\n\nlet selected: ITreeItem<FileDisplayerExternalData> | undefined = undefined;\nlet treeView: ITreeView<FileDisplayerExternalData>;\nconst selectedIsRootPage = ref<boolean>(false);\nonMounted(() => {\n  const app = viewModelManager.getCurrentApplication()!;\n  if (props.itemToBeMoved.objectType == \"folder\") {\n    fileExplorer.cloneFilterFolderItems(props.itemToBeMoved.ID, (item) => {\n      if (selectedIsRootPage.value) { return false; }\n      if (item.externalData.objectType != \"model\") { return true; }\n      if ((item.externalData.additionals as IQJsonAdditionals | undefined)?.isRootPage) { selectedIsRootPage.value = true; }\n      return false;\n    });\n  } else {\n    selectedIsRootPage.value = (props.itemToBeMoved.additionals as IQJsonAdditionals | undefined)?.isRootPage || false;\n  }\n  treeView = fileDisplayerUC.createFileExplorerClone(rootDiv.value!,\n  {\n    displayFilterer: item => {\n      if (selectedIsRootPage.value && item.objectType == \"module\") { return false; }\n      if (item.objectType == \"module\" && item.shareType == \"version\" && item.mainOwner != app.ID) { return false; } // can not move to version imported modules\n      if (item.objectType == \"model\"){ return false; }\n      if (item.ID == FileExplorerConstants.uiSettingsID) { return false; }\n      return true;\n    },\n    cb: { select: item => selected = item },\n    additionalRoot: { externalData: app, id: app.ID, name: app.name },\n  });\n});\n\nonUnmounted(() => {\n  treeView.reset();\n});\n\nasync function move() {\n  await executor.execute(async () => {\n    if (!selected) { return; }\n    let target: Partial<IMoveTargetRequired>;\n    switch (selected.externalData.objectType) {\n      case \"model\": throw new Error(\"unexpected target\");\n      case \"folder\":\n        const folder = selected.externalData;\n        target = {\n          address: { name: props.itemToBeMoved.name, path: PathHelper.join(folder.path , folder.name) },\n          owner: folder.owner.ID != props.itemToBeMoved.owner.ID ? { id: folder.owner.ID, type: folder.owner.objectType } : undefined,\n        };\n        break;\n      case \"module\":\n        const module = selected.externalData;\n        target = { owner: { id: module.ID, type: \"module\" }, address: { path: \"/\", name: \"\" } };\n        break;\n      case \"application\":\n        const application = selected.externalData;\n        target = { owner: { id: application.ID, type: \"application\" }, address: { path: \"/\", name: \"\" } };\n        break;\n    }\n    await moveUseCase.moveItem(props.itemToBeMoved, target);\n    emit(\"close\");\n  }, { loading: true });\n}\n\nfunction close() {\n  emit(\"close\");\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (selectedIsRootPage.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _hoisted_4))\n      : _createCommentVNode(\"v-if\", true),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createElementVNode(\"div\", {\n        ref_key: \"rootDiv\",\n        ref: rootDiv,\n        style: {\"height\":\"100%\"},\n        class: \"errorDiv\"\n      }, null, 512 /* NEED_PATCH */),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"button\", {\n          class: \"cancel-button\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (close()))\n        }, \"Cancel\"),\n        _createElementVNode(\"button\", {\n          class: \"move-button\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (move()))\n        }, \"MOVE\")\n      ])\n    ])\n  ]))\n}\n}\n\n})","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=0&id=ff7534fe&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=0&id=ff7534fe&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./moveItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./moveItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./moveItem.vue?vue&type=style&index=0&id=ff7534fe&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/studio/studio/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ff7534fe\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","_hoisted_1","class","_hoisted_2","key","_hoisted_4","n","_withScopeId","_","_hoisted_5","_hoisted_6","__name","props","param","emits","setup","__props","emit","executor","IUseCaseExecutor","moveUseCase","IMoveUseCase","viewModelManager","IViewModel","IViewModelManager","rootDiv","fileDisplayerUC","IFileDisplayerUseCase","fileExplorer","IFileExplorer","selected","treeView","selectedIsRootPage","app","getCurrentApplication","itemToBeMoved","objectType","cloneFilterFolderItems","ID","item","value","externalData","additionals","isRootPage","createFileExplorerClone","displayFilterer","shareType","mainOwner","cb","select","additionalRoot","name","reset","_ctx","_cache","ref_key","ref","style","onClick","$event","async","execute","target","Error","folder","address","path","owner","type","undefined","moveItem","loading","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}