"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[4633],{91868:(e,n,o)=>{o.d(n,{Z:()=>s});var i=o(8375),t=o.n(i),l=o(7638),a=o.n(l)()(t());a.push([e.id,"\n.appitems-header[data-v-27729182] {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin: 0 0 8px 0;\n}\n.appitems-header-right[data-v-27729182] {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    margin-right: 16px;\n}\n.switch-container[data-v-27729182] {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    white-space: nowrap;\n}\n.switch-label[data-v-27729182] {\n    font-size: 14px;\n    line-height: 16px;\n    color: #212121\n}\n.collapse-icon[data-v-27729182] {\n    cursor: pointer;\n    font-size: 20px;\n    color: #151233;\n}\n.modules-selected-checkbox[data-v-27729182] {\n    cursor: pointer;\n}\n.modules-selected-text[data-v-27729182] {\n    font: normal normal normal 14px/19px Roboto;\n    color: #757575;\n    margin-left: 30px;\n}\n.text-number[data-v-27729182] {\n    font: normal normal bold 14px/19px Roboto;\n    color: #212121;\n}\n.modules-datatable[data-v-27729182] {\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n}\n.modules-datatable[data-v-27729182]::-webkit-scrollbar-thumb {\n    background: #bcbcbc 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n}\n.modules-datatable[data-v-27729182]::-webkit-scrollbar-thumb:hover {\n        background: #555555 0% 0% no-repeat padding-box;\n}\n.mobile-publish-text[data-v-27729182],\n.web-publish-text[data-v-27729182] {\n    padding: 5px 12px;\n    margin-bottom: 52px;\n    width: 100%;\n    color: #757575;\n    font-size: 14px;\n    background: #F5F5FA;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n}\n.mobile-publish-text i[data-v-27729182],\n.web-publish-text i[data-v-27729182] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 4px;\n}\n.stop-working-search[data-v-27729182] {\n    margin-bottom: 15px;\n}\n.stop-working-search .search-input-wrapper[data-v-27729182] {\n    position: relative;\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n}\n.stop-working-search .search-icon[data-v-27729182] {\n    position: absolute;\n    padding: 0 0 4px 4px;\n    color: #757575;\n    font-size: 18px;\n}\n.stop-working-search .search-input[data-v-27729182] {\n    width: 856px;\n    height: 32px;\n    padding: 8px 36px 8px 36px;\n    background: #FFFFFF;\n    border: 1px solid #E0E0E0;\n    border-radius: 4px;\n    font-size: 14px;\n    font-family: 'Roboto';\n}\n.stop-working-search .search-input[data-v-27729182]:focus {\n    outline: none;\n    border-color: #151233;\n}\n.stop-working-search .clear-icon[data-v-27729182] {\n    position: absolute;\n    right: 10px;\n    color: #757575;\n    font-size: 18px;\n    cursor: pointer;\n}\n.no-results[data-v-27729182] {\n    padding: 20px;\n    text-align: center;\n    color: #757575;\n    font-style: italic;\n    border: 1px solid #E0E0E0;\n    border-radius: 4px;\n}\n.no-files-message[data-v-27729182] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 257px;\n  width: 856px;\n  font-size: 15px;\n  font-weight: 400;\n  color: #666;\n  text-align: center;\n  background-color: #F5F5F5;\n  border: 1px solid #E3E3E3;\n  border-radius: 8px;\n}\n.files-header[data-v-27729182] {\n  font-family: 'Roboto'; \n  margin: 12px 0 8px 0;\n  font-size: 15px;\n  font-weight: 500;\n  color: #151233;\n}\n",""]);const s=a},95924:(e,n,o)=>{o.d(n,{Z:()=>s});var i=o(8375),t=o.n(i),l=o(7638),a=o.n(l)()(t());a.push([e.id,"\n.row-container[data-v-1c8383b0] {\n\twidth: 100%;\n\theight: 36px;\n\tposition: relative;\n\tbackground: #ffffff 0% 0% no-repeat padding-box;\n\tborder: 1px solid #e0e0e0;\n}\n.icon-container[data-v-1c8383b0] {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 16px;\n\theight: 16px;\n\ttop: 6px;\n}\n.app-tier-model-icon[data-v-1c8383b0] {\n\twidth: 16px;\n\theight: 16px;\n}\n.imported-lock-badge[data-v-1c8383b0] {\n\tposition: absolute;\n\ttop: 10px !important;\n    right: 1px !important;\n    background-color: #FF6B6B !important;\n    border-radius: 99px !important;\n    padding: 1px !important;\n\tline-height: 1; \n\tpointer-events: none;\n}\n.imported-lock-badge .mdi-lock[data-v-1c8383b0] {\n\tcolor: white;\n\tfont-size: 8px;\n\tdisplay: block;\n}\n.app-tier-model-name[data-v-1c8383b0] {\n\tposition: absolute;\n\ttop: 9px;\n\tfont: normal normal normal 14px/19px Roboto;\n\tcolor: #212121;\n}\n.app-tier-model-name.disabled[data-v-1c8383b0] {\n\tcolor: #D5D5D5;\n}\n.version-text[data-v-1c8383b0] {\n\tmargin: 10px 7px 10px auto;\n\tdisplay: table;\n\tfont: normal normal normal 12px/16px Roboto;\n\tcolor: #757575;\n\tcursor: pointer;\n\tuser-select: none;\n}\n.version-text.disabled[data-v-1c8383b0] {\n\tpointer-events: none;\n\tcursor: pointer;\n}\n.chevron[data-v-1c8383b0] {\n\tposition: absolute;\n\tcolor: #757575;\n\tfont-size: 24px;\n}\n.button-tooltip[data-v-1c8383b0] {\n\tvisibility: hidden;\n\tposition: absolute;\n\tbackground: #757575;\n\tcolor: #FFFFFF;\n\tfont-size: 11px;\n\tfont-family: 'Roboto';\n\ttext-align: center;\n\tborder-radius: 4px;\n\tletter-spacing: 0.2px;\n\tpadding: 6px 8px 6px 8px;\n\ttop: 56px;\n\tleft: 63px;\n\topacity: 0;\n}\n.button-disable .save-button:hover+.button-tooltip[data-v-1c8383b0],\n.start-screen:hover .button-tooltip[data-v-1c8383b0],\n.row-container:hover .button-tooltip[data-v-1c8383b0],\n.publish-info:hover .button-tooltip[data-v-1c8383b0] {\n\tvisibility: visible;\n\ttransition: opacity 0.3s ease-out 1s;\n\topacity: 1;\n}\n.bpmn-color[data-v-1c8383b0] {\n\tcolor: #007c77;\n}\n.process-color[data-v-1c8383b0] {\n\tcolor: #007c77;\n}\n.entity-designer-color[data-v-1c8383b0] {\n\tcolor: #e9724c;\n}\n.qjson-color[data-v-1c8383b0] {\n\tcolor: #449dd1;\n}\n.yaml-color[data-v-1c8383b0] {\n\tcolor: #449dd1;\n}\n.namedcomp-color[data-v-1c8383b0] {\n\tcolor: #212121;\n}\n.app-settings-color[data-v-1c8383b0] {\n\tcolor: #151233;\n}\n.js-color[data-v-1c8383b0] {\n\tcolor: #449dd1;\n}\n.css-color[data-v-1c8383b0] {\n\tcolor: #151233;\n}\n",""]);const s=a},95790:(e,n,o)=>{o.d(n,{Z:()=>s});var i=o(8375),t=o.n(i),l=o(7638),a=o.n(l)()(t());a.push([e.id,'\n*[data-v-61306b24] {\n    font-family: "Roboto";\n}\n.info-div[data-v-61306b24] {\n    background: #F5F5FA;\n    border-radius: 4px;\n    width: 100%;\n}\n.info-text[data-v-61306b24] {\n    color: #757575;\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n}\n.info-text i[data-v-61306b24] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 8px;\n}\n.text-area[data-v-61306b24] {\n    border-radius: 4px;\n    color: #212121;\n    padding: 0px 8px;\n    font-size: 12px;\n    height: 32px;\n    font-weight: 500;\n    background: #FFFFFF;\n    display: flex;\n    align-items: center;\n    margin-top: 10px;\n}\n.copy-icon[data-v-61306b24] {\n    font-size: 16px;\n    color: #151233;\n    margin-left: auto;\n    font-weight: 400;\n    cursor: pointer;\n}\n.icon-tooltip[data-v-61306b24] {\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    text-align: center;\n    border-radius: 4px;\n    padding: 5px 8px;\n    right: 35px;\n    top: 200px;\n}\n',""]);const s=a},86388:(e,n,o)=>{o.d(n,{Z:()=>fe});var i=o(71093),t=o(46233),l=o(66190),a=o(73843),s=o(5627),d=o(91056),r=o(83487),c=o(88613),p=o(54848),u=o(67457),v=o(66059);const m=e=>((0,i.dD)("data-v-1c8383b0"),e=e(),(0,i.Cn)(),e),h=["id"],y=["src"],f={key:2,class:"imported-lock-badge"},g=[m((()=>(0,i._)("i",{class:"mdi mdi-lock"},null,-1)))],b={key:0,class:"start-screen"},k=[m((()=>(0,i._)("i",{class:"mdi mdi-home-outline"},null,-1))),m((()=>(0,i._)("span",{class:"button-tooltip",style:{top:"-30px",left:"2px","z-index":"1",width:"80px"}},"Start Screen",-1)))],x=m((()=>(0,i._)("div",null,null,-1))),T={key:0},w={key:1,class:(0,l.normalizeClass)(["mdi mdi-pencil-outline version-icon"])},S={key:0,class:(0,l.normalizeClass)(["mdi mdi-pencil-outline version-icon"])},C={key:2,class:"button-tooltip",style:{"z-index":"1",width:"300px"}},D=(0,i.aZ)({__name:"exportDialogItem",props:{handleItemCheckEvent:{type:Function},startScreen:null,versionDialog:{type:Function},handleCollapse:{type:Function},item:null,moduleVersionDialog:{type:Function},hideVersionInfo:{type:Boolean},usedScreenType:null},setup(e,{expose:n}){const o=e,t=s.nC.resolve(p.B),d=(0,i.Fl)((()=>`mdi mdi-menu${o.item.collapsed?"-right":"-down"} chevron`));function r(){o.handleItemCheckEvent(o.item)}function c(){o.item.version&&"latest"!==o.item.version&&(o.item.imported?o.moduleVersionDialog(o.item):o.versionDialog(o.item))}function m(e){const n=t.findModel(e.id);return"appSettings"===(null==n?void 0:n.usageType)}n({handleModuleCountCheckboxEvent:function(){return o.item.checked}});const D=(0,i.Fl)((()=>25*(o.item.level||0)));function I(e){const n=v.o.getModelVisualInfo(e.type,void 0),o=n.type;switch(o){case"icon":return{type:o,color:n.color,icon:n.icon};case"svg":return{type:o,src:n.src,activeSrc:n.activeSrc}}}return(n,t)=>{var s,p,v,F;return(0,i.wg)(),(0,i.iD)("div",{class:"row-container",id:o.usedScreenType+"-model-select-"+e.item.id},[e.item.children&&(null===(s=e.item.children)||void 0===s?void 0:s.length)>0?((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,l.normalizeClass)((0,a.SU)(d)),onClick:t[0]||(t[0]=n=>o.handleCollapse(e.item,!0)),style:(0,l.normalizeStyle)({cursor:"pointer",left:(e.item.level?(0,a.SU)(D)-20:4)+"px"})},null,6)):(0,i.kq)("v-if",!0),(0,i.Wm)(u.Z,{style:(0,l.normalizeStyle)({top:"8px",cursor:"pointer",left:(0,a.SU)(D)+(e.item.level?20:43)+"px",position:"absolute"}),check:e.item.checked||e.item.allChildChecked,minus:!e.item.allChildChecked&&e.item.anyChildChecked,disabled:e.item.disabled,onClick:r},null,8,["style","check","minus","disabled"]),(0,i._)("div",{class:"icon-container",style:(0,l.normalizeStyle)({left:(0,a.SU)(D)+(e.item.level?45:69)+"px"})},["svg"==I(e.item).type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:I(e.item).src,style:{width:"13px",marginTop:"-2px",marginLeft:"2px"}},null,8,y)):"icon"==I(e.item).type?((0,i.wg)(),(0,i.iD)("i",{key:1,class:(0,l.normalizeClass)("app-tier-model-icon "+I(e.item).icon),style:(0,l.normalizeStyle)({color:I(e.item).color})},null,6)):(0,i.kq)("v-if",!0),e.item.imported&&"module"===e.item.type?((0,i.wg)(),(0,i.iD)("div",f,g)):(0,i.kq)("v-if",!0)],4),(0,i._)("span",{style:(0,l.normalizeStyle)({left:(0,a.SU)(D)+(e.item.level?71:91)+"px"}),class:(0,l.normalizeClass)(["app-tier-model-name",e.item.disabled?"disabled":""])},[(0,i.Uk)((0,l.toDisplayString)(null===(p=e.item)||void 0===p?void 0:p.name)+" ",1),(null===(v=e.startScreen)||void 0===v?void 0:v.ID)==e.item.id?((0,i.wg)(),(0,i.iD)("span",b,k)):(0,i.kq)("v-if",!0)],6),"folder"==e.item.type||o.hideVersionInfo?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[x,"module"!=e.item.type?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,l.normalizeClass)(["version-text",!e.item.disabled&&!(null===(F=e.item.parent)||void 0===F?void 0:F.imported)||m(e.item)?"":"disabled"]),onClick:c},[(0,i.Uk)((0,l.toDisplayString)(e.item.version?e.item.version:"latest")+" ",1),e.item.nextVersionPreview?((0,i.wg)(),(0,i.iD)("span",T," â†’ "+(0,l.toDisplayString)(e.item.nextVersionPreview),1)):(0,i.kq)("v-if",!0),e.item.version&&"latest"!=e.item.version?((0,i.wg)(),(0,i.iD)("i",w)):(0,i.kq)("v-if",!0)],2)):e.item.imported&&"module"==e.item.type?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"version-text",onClick:t[1]||(t[1]=n=>e.moduleVersionDialog(e.item))},[(0,i.Uk)((0,l.toDisplayString)(e.item.version?e.item.version:"latest")+" ",1),e.item.version&&"latest"!=e.item.version?((0,i.wg)(),(0,i.iD)("i",S)):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0),e.item.disabled&&!e.item.version?((0,i.wg)(),(0,i.iD)("span",C,' No version available for publishing. Please click "Save and Version" option from save menu and release a new major version for this item. ')):(0,i.kq)("v-if",!0)],64))],8,h)}}});var I=o(17450),F=o.n(I),E=o(29530),U=o.n(E),z=o(16199),_=o.n(z),M=o(40458),V=o.n(M),B=o(62916),P=o.n(B),A=o(92165),j=o.n(A),q=o(95924),Z={};Z.styleTagTransform=j(),Z.setAttributes=V(),Z.insert=_().bind(null,"head"),Z.domAPI=U(),Z.insertStyleElement=P(),F()(q.Z,Z),q.Z&&q.Z.locals&&q.Z.locals;var H=o(32525);const O=(0,H.Z)(D,[["__scopeId","data-v-1c8383b0"]]);var R=o(29307),W=o(3329),L=o(29633),Q=o(72549),N=o(62376),Y=o(17379),$=o(15772);const J=e=>((0,i.dD)("data-v-27729182"),e=e(),(0,i.Cn)(),e),K={style:{display:"flex","flex-direction":"column",flex:"1"}},G={key:0,class:"stop-working-search"},X={class:"search-input-wrapper"},ee=J((()=>(0,i._)("i",{class:"mdi mdi-magnify search-icon"},null,-1))),ne={key:0,class:"files-header"},oe={class:"appitems-header"},ie={key:0,class:"appitems-header-left"},te={class:"text-number"},le={class:"text-number"},ae={key:1,class:"appitems-header-right"},se=["title"],de={key:0,class:"switch-container"},re=J((()=>(0,i._)("span",{class:"switch-label"},"Show modified items only",-1))),ce={key:0,class:"mobile-publish-text"},pe=J((()=>(0,i._)("i",{class:"mdi mdi-information"},null,-1))),ue={key:1,class:"no-results"},ve={key:2,class:"no-files-message"},me=(0,i.aZ)({__name:"appItemsTable",props:{screenType:null,maxHeight:null,hideVersionInfo:{type:Boolean},checkedPageIds:null,versionType:null,moduleId:null,searchable:{type:Boolean},syncPublishTargets:{type:Function},disabled:{type:Boolean},title:null},emits:["getItem"],setup(e,{emit:n}){const v=e,m=s.nC.resolve(c.J),h=s.nC.resolve(p.B),y=s.nC.resolve(d.u),f=s.nC.resolve(r.y),g=s.nC.resolve(R.w),b=s.nC.resolve(L._),k=s.nC.resolve($.M),x=(0,a.iH)([]),T=(0,a.iH)([]),w=(0,a.iH)(""),S=(0,a.iH)(),C=(0,i.Fl)((()=>J("publish"))),D=(0,i.Fl)((()=>J("checkin"))),I=(0,a.iH)(),F=(0,a.iH)(),E=(0,a.iH)(),U=(0,i.Fl)((()=>A.value)),z=(0,a.iH)(0),_=(0,i.Fl)((()=>x.value.filter((e=>!e.children)).length)),M=(0,i.Fl)((()=>_.value==z.value||!(z.value>0)&&void 0)),V=(0,a.iH)({}),B=(0,a.iH)(!1),P=(0,i.Fl)((()=>B.value?"mdi-expand-all":"mdi-collapse-all"));let A=(0,a.iH)(!1);const j=(0,i.Fl)((()=>!x.value.some((e=>!e.children&&q.value.has(e.id))))),q=(0,i.Fl)((()=>{if("BulkSave"!==v.screenType||!0!==A.value)return new Set(x.value.map((e=>e.id)));const e=new Set;return x.value.forEach((n=>{if((e=>"module"!==e.type&&"folder"!==e.type)(n)&&(e=>!0===(null==e?void 0:e.isModified)||!0===(null==e?void 0:e.modified))(n))for(let o=n;o;o=o.parent)e.add(o.id)})),e})),Z={Export:"480px",Deploy:"320px",BulkSave:"200px",Release:"300px"};function H(){if(w.value.trim()){const e=w.value.toLowerCase().trim();T.value=x.value.filter((n=>n.name.toLowerCase().includes(e)))}else T.value=x.value}function J(e){if(!S.value)return new Map;const n=new Map;for(const[o,i]of S.value.entries()){const t=i.filter((n=>n.historyType===e));t&&t.length>0&&n.set(o,t)}return n}function me(e){A.value=e,localStorage.setItem("itemsTableSwitchState",String(e))}function he({newItem:e}){const n="module"===e.type||"folder"===e.type;("Stop Working"!==v.screenType||n||e.isCheckedOut)&&("BulkSave"!==v.screenType||!e.isUnmodifiableTotal&&e.isCheckedOut)&&x.value.push(e)}function ye(){const e=(n,o)=>{var i,t,l,a,s,d,r,c,p,u,h,y,f,g,k,x,T;const w=n.externalData;if("application"==w.objectType)throw new Error("unexpected item type");let S,C=b.getFullPath(w,"self").split("/").length-1;switch(w.objectType){case"folder":S={id:w.ID,name:w.name,type:"folder",collapsed:!1,level:C,children:null===(i=n.children)||void 0===i?void 0:i.map((n=>e(n,{ownerModule:o.ownerModule}))),isCheckedOut:!0,path:w.path},null===(t=S.children)||void 0===t||t.forEach((e=>e.parent=S)),ze(S,!1);break;case"model":if(o.ownerModule)if(S={id:w.ID,name:w.name,type:w.modelType,level:C},o.ownerModule.isImportedModule){const e=null===(d=o.ownerModule.relatedModelHistories)||void 0===d?void 0:d.find((e=>e.modelID==w.ID));S={...S,checked:"Stop Working"!=v.screenType&&("OnlyQjson"==v.screenType?v.checkedPageIds&&ge(w.ID,v.checkedPageIds):!!Ie(w)||w.isUnmodifiableTotal),disabled:null!==(r=v.disabled)&&void 0!==r&&r,version:null!==(c=null==e?void 0:e.version)&&void 0!==c?c:w.version,ownerName:w.owner.name,ownerType:w.owner.objectType,path:"appSettings"==w.usageType||"appAssetList"==w.usageType?"/":w.path,isUnmodifiableTotal:w.isUnmodifiableTotal,isCheckedOut:w.checkedOut,imported:!!e||"fromOuterOrg",isModified:!1,usageType:null==w?void 0:w.usageType}}else{const e=ke(w);S={...S,checked:"Stop Working"!=v.screenType&&("BulkSave"===v.screenType?!!(null===(l=w.modified)||void 0===l?void 0:l.model):"OnlyQjson"===v.screenType?v.checkedPageIds&&ge(w.ID,v.checkedPageIds):!!(e&&"appSettings"!=w.usageType||Ie(w))||w.isUnmodifiableTotal),disabled:null!==(a=v.disabled)&&void 0!==a?a:!(["OnlyQjson","Stop Working","BulkSave"].includes(v.screenType)||e&&"appSettings"!=w.usageType||v.moduleId||"appSettings"!=w.usageType||"css"==w.modelType||"container"==w.modelType||w.isUnmodifiableTotal),version:!o.ownerModule.isImportedModule&&w.isUnmodifiableTotal?"latest":e,ownerName:w.owner.name,ownerType:w.owner.objectType,path:"appSettings"==w.usageType||"appAssetList"==w.usageType?"/":w.path,isUnmodifiableTotal:w.isUnmodifiableTotal,isCheckedOut:w.checkedOut,nextVersionPreview:"BulkSave"==v.screenType&&v.versionType&&"latest"!==e?xe(e||void 0,v.versionType):void 0,isModified:!!(null===(s=w.modified)||void 0===s?void 0:s.model),usageType:null==w?void 0:w.usageType}}else{const e=ke(w);S={id:w.ID,name:w.name,checked:"Stop Working"!=v.screenType&&("BulkSave"===v.screenType?!!(null===(p=w.modified)||void 0===p?void 0:p.model):"OnlyQjson"===v.screenType?v.checkedPageIds&&ge(w.ID,v.checkedPageIds):!!(e&&"appSettings"!=w.usageType||Ie(w))||w.isUnmodifiableTotal),disabled:null!==(u=v.disabled)&&void 0!==u?u:!(["OnlyQjson","Stop Working","BulkSave"].includes(v.screenType)||e&&"appSettings"!=w.usageType||"appSettings"!=w.usageType||"css"==w.modelType||"container"==w.modelType||w.isUnmodifiableTotal),type:w.modelType,version:w.isUnmodifiableTotal?"latest":e,ownerName:w.owner.name,ownerType:w.owner.objectType,level:C,path:"appSettings"==w.usageType||"appAssetList"==w.usageType?"/":w.path,isUnmodifiableTotal:w.isUnmodifiableTotal,isCheckedOut:w.checkedOut,nextVersionPreview:"BulkSave"==v.screenType&&v.versionType&&"latest"!==e?xe(e||void 0,v.versionType):void 0,isModified:!!(null===(h=w.modified)||void 0===h?void 0:h.model),usageType:null==w?void 0:w.usageType}}break;case"module":const b=Fe(w),D=null===(y=w.relatedApplications.find((e=>e.applicationID==m.studio.appId)))||void 0===y?void 0:y.importedVersion,F=b?null===(k=null===(g=null===(f=I.value)||void 0===f?void 0:f.get(w.ID))||void 0===g?void 0:g.find((e=>e.version==D)))||void 0===k?void 0:k.relatedModelHistories:void 0;S={id:w.ID,collapsed:!1,name:w.name,type:"module",imported:b,version:D,isUnmodifiableTotal:b,isCheckedOut:!b,children:null===(x=n.children)||void 0===x?void 0:x.map((n=>e(n,{ownerModule:{isImportedModule:b,moduleVersion:D,relatedModelHistories:F}})))},null===(T=S.children)||void 0===T||T.forEach((e=>e.parent=S)),ze(S,!1)}return S},n=e=>{var o;he({newItem:e}),null===(o=e.children)||void 0===o||o.forEach(n)};return{converter:e,traverser:n}}function fe(){"Release"==v.screenType&&v.moduleId?function(e){const n=g.cloneFileExplorerTreeView({displayFilterer:(n,o)=>{switch(n.objectType){case"application":return!1;case"module":return v.moduleId==n.ID;case"folder":return n.owner.ID==e&&o;case"model":return n.owner.ID==e}}}),{converter:o,traverser:i}=ye(),t=n.map((e=>o(e,{})));null==t||t.forEach(i)}(v.moduleId):function(){var e;if("OnlyQjson"!=v.screenType){const n=m.studio.items.find((e=>"App Settings"==e.name)),o=ke(n),i=n&&{id:n.ID,name:n.name,checked:"Stop Working"!=v.screenType&&("BulkSave"!=v.screenType||be(n)),disabled:null!==(e=v.disabled)&&void 0!==e&&e,type:n.modelType,version:o||"latest",isUnmodifiableTotal:n.isUnmodifiableTotal,isCheckedOut:n.checkedOut,nextVersionPreview:"BulkSave"==v.screenType&&v.versionType&&o?xe(o,v.versionType):void 0,isModified:be(n)};n&&i&&he({newItem:i})}const n=g.cloneFileExplorerTreeView({displayFilterer:(e,n)=>{switch(e.ID){case W.oA.uiAssetListID:case W.oA.uiSettingsID:return!1}switch(e.objectType){case"application":return!1;case"module":case"model":return!0;case"folder":return n}}}),{converter:o,traverser:i}=ye();n.map((e=>o(e,{}))).forEach(i)}(),function(){var e;for(let n=x.value.length-1;n>=0;n--){const o=x.value[n];if("module"===o.type||"folder"===o.type){const i=(null!==(e=o.children)&&void 0!==e?e:[]).map((e=>e.id)),t=x.value.some((e=>i.includes(e.id)));t||x.value.splice(n,1)}}}()}function ge(e,n){return n.some((n=>n==e))}function be(e){var n;return"model"===(null==e?void 0:e.objectType)&&!0===(null===(n=e.modified)||void 0===n?void 0:n.model)}function ke(e){return k.getItemMaxVersion(e,C.value,D.value,v.screenType)}function xe(e,n){if(!e||"latest"===e)return"major"===n?"1.0":"0.1";const o=e.split(".").map((e=>parseInt(e)));let i=o[0]||0,t=o[1]||0;return"major"===n?(i++,t=0):"minor"===n&&t++,`${i}.${t}`}function Te(e,n){var o,i;if(e.disabled||e.checked)return;e.checked=!0,e.parent&&ze(e.parent,n);const t=null===(i=null===(o=E.value)||void 0===o?void 0:o.get(e.id))||void 0===i?void 0:i.dependedTo;t&&t.forEach((e=>{x.value.forEach((o=>{var i;if("module"==o.type&&!o.allChildChecked){const t=null===(i=o.children)||void 0===i?void 0:i.find((n=>!n.checked&&n.id==e));return t&&Te(t,n),void ze(o,n)}o.checked||o.id!=e||(Te(o,n),o.parent&&ze(o.parent,n))}))}))}function we(e,n){var o,i,t,l,a,s;const d=null===(o=E.value)||void 0===o?void 0:o.get(n.id);null===(i=E.value)||void 0===i||i.set(n.id,{dependedBy:(null==d?void 0:d.dependedBy)||Array(),dependedTo:(null===(s=null===(a=null===(l=null===(t=C.value)||void 0===t?void 0:t.get(n.id))||void 0===l?void 0:l.find((n=>n.version==e)))||void 0===a?void 0:a.dependentModels)||void 0===s?void 0:s.map((e=>e.modelId)))||Array()})}function Se(e){var n,t;if("latest"==e.version||!e.version)return;const l={id:e.id,state:{checked:e.checked},text:e.name,type:e.type,version:e.version},a=null===(n=C.value)||void 0===n?void 0:n.has(e.id),s={clickedNode:l,cb:n=>{e.version=n,we(n,e),"BulkSave"==v.screenType&&v.versionType&&"latest"!==n?(e.nextVersionPreview=xe(n,v.versionType),x.value=[]):e.nextVersionPreview=void 0,l.state.checked&&De(e,void 0,!0)}};a&&(s.versions=null===(t=C.value)||void 0===t?void 0:t.get(e.id)),y.showDialog((0,i.RC)((()=>o.e(7045).then(o.bind(o,10531)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},s)}function Ce(e){var n;"latest"!=e.version&&e.version&&y.showDialog((0,i.RC)((()=>o.e(6005).then(o.bind(o,45872)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},{module:{ID:e.id},versions:null===(n=I.value)||void 0===n?void 0:n.get(e.id),cb:n=>{var o;e.version=n.version,null===(o=e.children)||void 0===o||o.forEach((e=>{const o=n.relatedModelHistories.find((n=>n.modelID==e.id));e.version=null==o?void 0:o.version,we(null==o?void 0:o.version,e)}))}})}function De(e,o,i){["module","folder"].includes(e.type)||(null!=o&&o!=e.checked&&(e.checked?z.value++:z.value--),n("getItem",e,i))}function Ie(e){if("css"==e.modelType||"Release"==v.screenType&&v.moduleId)return!0;const n=m.studio.items.filter((e=>"model"==e.objectType&&"appSettings"==e.modelType))[0].modelBody;return!!(n?n[0].model:"").includes(e.ID)}(0,i.bv)((async()=>{await f.execute((async()=>{if(await Promise.all([f.executeUseCase(N.q,{}).then((e=>S.value=e)),f.executeUseCase(Y.y,{}).then((e=>I.value=e))]),fe(),"BulkSave"===v.screenType){const e=localStorage.getItem("itemsTableSwitchState");A.value=!!e&&"true"===e}"OnlyQjson"==v.screenType&&(x.value=x.value.filter((e=>"qjson"==e.type&&"appSettings"!=e.usageType||"folder"==e.type||"module"==e.type))),F.value=m.studio.items.find((e=>{var n;return null===(n=e.additionals)||void 0===n?void 0:n.isRootPage})),function(){const e=n=>{n.children&&n.children.length>0?n.children.forEach(e):De(n)};x.value.filter((e=>!e.parent)).forEach(e)}(),H(),z.value=x.value.filter((e=>!e.children&&e.checked)).length,"Deploy"==v.screenType&&v.syncPublishTargets&&v.syncPublishTargets()}),{loading:!0})})),(0,i.YP)([w,x],(()=>{H()}),{deep:!0}),(0,i.YP)((()=>v.versionType),((e,n)=>{"BulkSave"==v.screenType&&e!==n&&(x.value=[],fe())})),(0,i.YP)((()=>v.disabled),((e,n)=>{"OnlyQjson"==v.screenType&&e!==n&&(x.value=[],fe(),x.value=x.value.filter((e=>"qjson"==e.type&&"appSettings"!=e.usageType||"folder"==e.type||"module"==e.type)))}));const Fe=e=>b.isModuleImported(e);function Ee(e,n,o){var i;e.collapsed=void 0!==o?o:!e.collapsed,n&&(null===(i=e.children)||void 0===i||i.forEach((o=>{const i=document.getElementById(v.screenType+"-model-select-"+o.id);i&&(i.style.display=e.collapsed?"none":"block",Ee(o,n,e.collapsed))})))}function Ue(e){var n;if(e.disabled||function(e){var n,o;if("BulkSave"==v.screenType){if("appSettings"===e.type)return!1;const n=h.findModel(e.id);if(n&&Ie(n))return!1;if("appAssetList"===(null==n?void 0:n.usageType))return!1}const i=null===(o=null===(n=E.value)||void 0===n?void 0:n.get(e.id))||void 0===o?void 0:o.dependedBy;return!!i&&i.some((e=>x.value.some((n=>{var o;return"module"==n.type&&n.anyChildChecked?null===(o=n.children)||void 0===o?void 0:o.some((n=>n.checked&&n.id==e)):n.id==e&&n.checked}))))}(e))return;const o=e.checked,i=[],t=new Set,l=(e,n)=>{var o,a;if(!e.disabled)if(n)if("module"===e.type||"folder"===e.type){const n=e.checked;!0!==n&&(e.checked=!0,i.push({node:e,prev:n}),e.parent&&t.add(e.parent)),null===(o=e.children)||void 0===o||o.forEach((e=>l(e,!0)))}else{const n=e.checked;n||(Te(e,!0),e.checked!==n&&(i.push({node:e,prev:n}),e.parent&&t.add(e.parent)))}else{const n=e.checked;!1!==n&&(e.checked=!1,i.push({node:e,prev:n}),e.parent&&t.add(e.parent)),null===(a=e.children)||void 0===a||a.forEach((e=>l(e,!1)))}};if("module"!==e.type&&"folder"!==e.type)e.checked?(e.checked=!1,ze(e.parent,!0),_e(e,o)):(Te(e,!0),_e(e,o));else{const a=(null===(n=e.children)||void 0===n?void 0:n.filter((e=>!e.disabled)))||[];if(a.length>0){if(e.allChildChecked){if(a.forEach((e=>l(e,!1))),e.checked){const n=e.checked;e.checked=!1,i.push({node:e,prev:n}),e.parent&&t.add(e.parent)}}else if(a.forEach((e=>l(e,!0))),!e.checked){const n=e.checked;e.checked=!0,i.push({node:e,prev:n}),e.parent&&t.add(e.parent)}for(const{node:e,prev:n}of i)_e(e,n);t.forEach((e=>ze(e,!0)))}else e.checked=!e.checked,e.allChildChecked=!1,_e(e,o)}"Deploy"==v.screenType&&v.syncPublishTargets&&v.syncPublishTargets()}function ze(e,n){if(!e||!e.children||0===e.children.length)return;const o=e.children.filter((e=>!e.disabled)),i=o.length>0&&o.every((e=>e.checked&&(!e.children||e.allChildChecked))),t=o.some((e=>e.checked||!!e.children&&e.anyChildChecked));e.allChildChecked=i,e.anyChildChecked=t,e.checked=!!i,!e.anyChildChecked&&e.checked&&(e.checked=!1,_e(e,!0)),n&&e.parent&&ze(e.parent,!0)}function _e(e,n){De(e,n,!0);const o=V.value[e.id];if(o&&"function"==typeof o.handleModuleCountCheckboxEvent)try{o.handleModuleCountCheckboxEvent()}catch(e){console.warn("external component handleModuleCountCheckboxEvent error:",e)}}return(e,n)=>((0,i.wg)(),(0,i.iD)("div",K,[v.searchable?((0,i.wg)(),(0,i.iD)("div",G,[(0,i._)("div",X,[ee,(0,i.wy)((0,i._)("input",{type:"text",class:"search-input",placeholder:"Search files...","onUpdate:modelValue":n[0]||(n[0]=e=>w.value=e)},null,512),[[t.vModelText,w.value]]),w.value?((0,i.wg)(),(0,i.iD)("i",{key:0,class:"mdi mdi-close clear-icon",onClick:n[1]||(n[1]=e=>w.value="")})):(0,i.kq)("v-if",!0)]),v.title?((0,i.wg)(),(0,i.iD)("div",ne,(0,l.toDisplayString)(v.title),1)):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0),(0,i._)("div",oe,[(0,a.SU)(_)>0?((0,i.wg)(),(0,i.iD)("div",ie,[(0,i.Wm)(u.Z,{class:(0,l.normalizeClass)(["modules-selected-checkbox","Deploy"==v.screenType?"deploy":""]),minus:0==(0,a.SU)(M),check:1==(0,a.SU)(M),onClick:n[2]||(n[2]=e=>function(e){const n=new Set,o=[],i=t=>{var l;if(!q.value.has(t.id)||t.disabled)return;const a=t.checked;a!==e&&(t.checked=e,o.push({node:t,prev:a}),t.parent&&n.add(t.parent)),null===(l=t.children)||void 0===l||l.forEach((e=>i(e)))},t=x.value.filter((e=>!e.disabled&&!e.parent&&q.value.has(e.id)));for(const e of t)i(e);for(const{node:e,prev:n}of o)_e(e,n);n.forEach((e=>ze(e,!0))),z.value=x.value.reduce(((e,n)=>e+(!n.children&&n.checked?1:0)),0),"Deploy"==v.screenType&&v.syncPublishTargets&&v.syncPublishTargets()}(!(0,a.SU)(M)))},null,8,["class","minus","check"]),(0,i._)("div",{class:(0,l.normalizeClass)(["modules-selected-text","Deploy"==v.screenType?"deploy":""])},[(0,i._)("span",te,(0,l.toDisplayString)(z.value),1),(0,i.Uk)(" of "),(0,i._)("span",le,(0,l.toDisplayString)((0,a.SU)(_)),1),(0,i.Uk)(" items selected ")],2)])):(0,i.kq)("v-if",!0),(0,a.SU)(_)>0?((0,i.wg)(),(0,i.iD)("div",ae,[(0,i._)("i",{class:(0,l.normalizeClass)(["mdi",(0,a.SU)(P)," collapse-icon"]),onClick:n[3]||(n[3]=e=>(B.value=!B.value,void x.value.forEach((e=>{Ee(e,!0,B.value)})))),title:"mdi-expand-all"==(0,a.SU)(P)?"Expand All":"Collapse All"},null,10,se),"BulkSave"===v.screenType?((0,i.wg)(),(0,i.iD)("div",de,[(0,i.Wm)(Q.Z,{onChange:me,value:(0,a.SU)(U)},null,8,["value"]),re])):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0)]),(0,i._)("div",{class:"modules-datatable",style:(0,l.normalizeStyle)({maxHeight:v.maxHeight||Z[v.screenType]||"none"})},["BulkSave"===v.screenType&&(0,a.SU)(j)?((0,i.wg)(),(0,i.iD)("div",ce,[pe,(0,i.Uk)(" No modified items to show. ")])):(0,i.kq)("v-if",!0),0===T.value.length&&w.value.trim()?((0,i.wg)(),(0,i.iD)("div",ue," No files match your search query. ")):(0,i.kq)("v-if",!0),"Stop Working"!=v.screenType||0!==T.value.length||w.value.trim()?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:3},(0,i.Ko)(T.value,(e=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(O,{handleItemCheckEvent:Ue,startScreen:F.value,versionDialog:Se,handleCollapse:Ee,item:e,moduleVersionDialog:Ce,hideVersionInfo:v.hideVersionInfo,usedScreenType:v.screenType,ref_for:!0,ref:n=>{return i=n,void((o=e.id)&&(V.value[o]=i));var o,i}},null,8,["startScreen","item","hideVersionInfo","usedScreenType"])])),[[t.vShow,"BulkSave"!==v.screenType||(0,a.SU)(q).has(e.id)]]))),128)):((0,i.wg)(),(0,i.iD)("div",ve," There are no files to stop working on. "))],4)]))}});var he=o(91868),ye={};ye.styleTagTransform=j(),ye.setAttributes=V(),ye.insert=_().bind(null,"head"),ye.domAPI=U(),ye.insertStyleElement=P(),F()(he.Z,ye),he.Z&&he.Z.locals&&he.Z.locals;const fe=(0,H.Z)(me,[["__scopeId","data-v-27729182"]])},74381:(e,n,o)=>{o.d(n,{Z:()=>D});var i=o(71093),t=o(66190),l=o(46233),a=o(73843);const s={class:"info-text"},d=["innerHTML"],r={key:0,class:"text-area"},c={class:"icon-tooltip"},p=(0,i.aZ)({__name:"studioInfoComp",props:{isSlot:{type:Boolean},infoText:null,textAreaValue:null,customIconClass:null,customStyle:null},setup(e){const n=e,o=(0,a.iH)(!1);return(e,a)=>{var p,u,v,m;return(0,i.wg)(),(0,i.iD)("div",{class:"info-div",style:(0,t.normalizeStyle)({...n.customStyle,padding:n.textAreaValue?"12px":"5px 12px",background:(null===(p=n.customStyle)||void 0===p?void 0:p.backgroundColor)||"#F5F5FA"})},[(0,i._)("div",s,[(0,i._)("i",{class:(0,t.normalizeClass)(n.customIconClass?n.customIconClass:"mdi mdi-information"),style:(0,t.normalizeStyle)({color:null===(u=n.customStyle)||void 0===u?void 0:u.iconColor,fontSize:null===(v=n.customStyle)||void 0===v?void 0:v.iconSize})},null,6),(0,i._)("span",{style:(0,t.normalizeStyle)({color:(null===(m=n.customStyle)||void 0===m?void 0:m.color)||"#757575"})},[n.isSlot?(0,i.WI)(e.$slots,"default",{key:0},(()=>[(0,i.Uk)((0,t.toDisplayString)(n.infoText),1)])):((0,i.wg)(),(0,i.iD)("span",{key:1,innerHTML:n.infoText},null,8,d))],4)]),n.textAreaValue?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Uk)((0,t.toDisplayString)(n.textAreaValue)+" ",1),(0,i._)("i",{class:"mdi mdi-content-copy copy-icon",onClick:a[0]||(a[0]=e=>{n.textAreaValue&&(navigator.clipboard.writeText(n.textAreaValue),o.value=!0,setTimeout((()=>{o.value=!1}),2e3))})}),(0,i.wy)((0,i._)("span",c,"Text copied!",512),[[l.vShow,o.value]])])):(0,i.kq)("v-if",!0)],4)}}});var u=o(17450),v=o.n(u),m=o(29530),h=o.n(m),y=o(16199),f=o.n(y),g=o(40458),b=o.n(g),k=o(62916),x=o.n(k),T=o(92165),w=o.n(T),S=o(95790),C={};C.styleTagTransform=w(),C.setAttributes=b(),C.insert=f().bind(null,"head"),C.domAPI=h(),C.insertStyleElement=x(),v()(S.Z,C),S.Z&&S.Z.locals&&S.Z.locals;const D=(0,o(32525).Z)(p,[["__scopeId","data-v-61306b24"]])}}]);