"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[8932],{65870:(n,o,i)=>{i.d(o,{Z:()=>p});var r=i(34663),a=i.n(r),t=i(7638),e=i.n(t)()(a());e.push([n.id,"\n.update-org-group-div[data-v-4bf08c15] {\n        width: 85%; \n        display: flex; \n        justify-content: end;\n        position: absolute;\n        top: 80px;\n        right: 36px;\n}\n.update-btn[data-v-4bf08c15] {\n        border: 1px solid #151233;\n        border-radius: 4px;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        color: #151233;\n        display: flex;\n        align-items: center;\n        font-weight: 500;\n}\n.org-group-info-type[data-v-4bf08c15] {\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        background: #FFFFFF;\n        margin-right: 37px;\n        padding: 24px 24px 18px;\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n}\n.org-group-info-type[data-v-4bf08c15]:last-child {\n        margin-right: 0;\n}\n.org-group-info-type-name[data-v-4bf08c15] {\n        font-weight: 500;\n        font-size: 20px;\n        line-height: 23px;\n        color: #757575;\n        margin-bottom: 20px;\n        min-width: 100px;\n        flex: 1;\n}\n.org-group-info[data-v-4bf08c15] {\n        font-weight: 500;\n        font-size: 28px;\n        line-height: 33px;\n        color: #151233;\n}\n.org-name[data-v-4bf08c15] {\n        font-size: 30px;\n        line-height: 32px;\n        color: #151233;\n        display: flex;\n}\n.user-app-header[data-v-4bf08c15] {\n        font-weight: 500;\n        font-size: 24px;\n        line-height: 28px;\n        color: #151233;\n        margin-bottom: 20px;\n}\n.user-app-list[data-v-4bf08c15]  {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        width: 100%;\n}\ntd[data-v-4bf08c15]:hover {\n        background-color: none !important;\n}\n.user-app-list  tr[data-v-4bf08c15]:hover:not(:last-child):not(:first-child) {\n        background-color: #EEEEEE;\n}\n.user-app-list  th[data-v-4bf08c15]\n        {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 18px 36px\n}\n.user-app-list  td[data-v-4bf08c15] {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 20px 36px;\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n}\n.user-app-list  .thead[data-v-4bf08c15] {\n        background: #F5F5F5;\n        color: #616161;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n}\n.org-group-tabs[data-v-4bf08c15] {\n        display: flex;\n        align-items: center;\n        width: 100%;\n        margin-bottom: 20px;\n        padding: 24px 32px;\n}\n.org-group-tabs div[data-v-4bf08c15] {\n        color: #A1A1A1;\n        font-weight: 500;\n        font-size: 14px;\n        width: 111px;\n        padding-bottom: 8px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        border: 2px solid transparent;\n}\n.active-category[data-v-4bf08c15] {\n        color: #151233 !important; \n        border-bottom: 2px solid !important\n}\n.org-group-org-info[data-v-4bf08c15] {\n        background: #FFFFFF;\n        border-radius: 8px;\n}\n.org-div[data-v-4bf08c15] {\n        border-bottom: 1px solid #0000002F;\n        padding: 24px;\n}\n.org-div[data-v-4bf08c15]:last-child {\n        border-bottom: none;\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/pages/backoffice/organizationGroup.vue"],names:[],mappings:";AA4HI;QACI,UAAU;QACV,aAAa;QACb,oBAAoB;QACpB,kBAAkB;QAClB,SAAS;QACT,WAAW;AACf;AACA;QACI,yBAAyB;QACzB,kBAAkB;QAClB,mBAAmB;QACnB,eAAe;QACf,cAAc;QACd,aAAa;QACb,mBAAmB;QACnB,gBAAgB;AACpB;AACA;QACI,yBAAyB;QACzB,8CAA8C;QAC9C,mBAAmB;QACnB,mBAAmB;QACnB,kBAAkB;QAClB,uBAAuB;QACvB,aAAa;QACb,sBAAsB;QACtB,OAAO;AACX;AACA;QACI,eAAe;AACnB;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,mBAAmB;QACnB,gBAAgB;QAChB,OAAO;AACX;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;AAClB;AACA;QACI,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,aAAa;AAEjB;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,mBAAmB;AACvB;AACA;QACI,mBAAmB;QACnB,yBAAyB;QACzB,8CAA8C;QAC9C,mBAAmB;QACnB,WAAW;AACf;AACA;QACI,iCAAiC;AACrC;AACA;QACI,yBAAyB;AAC7B;AACA;;QAEI,gCAAgC;QAChC;AACJ;AACA;QACI,gCAAgC;QAChC,kBAAkB;QAClB,cAAc;QACd,eAAe;QACf,iBAAiB;AACrB;AACA;QACI,mBAAmB;QACnB,cAAc;QACd,gBAAgB;QAChB,eAAe;QACf,iBAAiB;AACrB;AACA;QACI,aAAa;QACb,mBAAmB;QACnB,WAAW;QACX,mBAAmB;QACnB,kBAAkB;AACtB;AACA;QACI,cAAc;QACd,gBAAgB;QAChB,eAAe;QACf,YAAY;QACZ,mBAAmB;QACnB,aAAa;QACb,uBAAuB;QACvB,mBAAmB;QACnB,eAAe;QACf,6BAA6B;AACjC;AACA;QACI,yBAAyB;QACzB;AACJ;AACA;QACI,mBAAmB;QACnB,kBAAkB;AACtB;AACA;QACI,kCAAkC;QAClC,aAAa;AACjB;AACA;QACI,mBAAmB;AACvB",sourcesContent:['\n<script setup lang="ts">\n    import { IApplication } from "@stechquick/plateau-comm/dist/common/shrimp/interfaces/quickCloud/quickCloud";\n    import { ref, onBeforeMount, defineAsyncComponent } from "vue";\n    import { IGetOrganizaionGroupDetailsResponse } from "../../../../../../common/qCloudTemp/symDtoObjects";\n    import { container } from "../../../../domain/core/diContainer";\n    import { IDialog } from "../../../../domain/presentation/IDialog";\n    import { IRouter } from "../../../../domain/presentation/IRouter";\n    import { IBackofficeUseCase } from "../../../../domain/useCase/IBackofficeUseCase";\n    import { IUseCaseExecutor } from "../../../../domain/useCase/IUseCaseExecutor";\n    import { IOrganization } from "../../../../../../common/qCloudTemp/membership";\n    import UserList from "../../components/backoffice/user/userList.vue";\n    import AppList from "../../components/backoffice/application/applicationList.vue";\n\n    interface IOrganizationData extends IOrganization {\n        showOrgInfo: boolean;\n    }\n    interface IApplicationData extends IApplication {\n        organizationId?: string;\n    }\n    const router = container.resolve<IRouter>(IRouter);\n    const executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\n    const backofficeUseCase = container.resolve<IBackofficeUseCase>(IBackofficeUseCase);\n    const dialog = container.resolve<IDialog>(IDialog);\n\n    const routerParams = router.getRouteParams<{ organizationGroupID: string }>();\n    backofficeUseCase.setBreadcrumb(["Organization Groups", "Organization Group Detail"]);\n    const orgGroup = ref<IGetOrganizaionGroupDetailsResponse>();\n    const allAppsOfOrgGroup = ref<Array<IApplicationData>>([]);\n    const totalOrgGroup = ref(true);\n    const byOrganization = ref(false);\n    const organizations = ref<Array<IOrganizationData>>();\n\n    onBeforeMount(() => {\n        getOrganizationGroupDetails();\n    })\n    function getOrganizationGroupDetails() {\n        executor.execute(async () => {\n            orgGroup.value = await backofficeUseCase.getOrganizationGroupDetails({organizationGroupId: routerParams.organizationGroupID});\n            allAppsOfOrgGroup.value = backofficeUseCase.getAllAppsForOrgGroup(orgGroup.value!);\n            setOrgIdsofApps();\n            organizations.value = orgGroup.value.organizations.map((org) => {\n                const organizationData: IOrganizationData = { ...org, showOrgInfo: false };\n                return organizationData; \n            });\n        }, { loading: true });\n    }\n    function setOrgIdsofApps() {\n        orgGroup.value?.organizationApplications.forEach(orgApp => {\n            allAppsOfOrgGroup.value.forEach(app => orgApp.applications.forEach(item => {\n                if(item.ID == app.ID) {\n                    app.organizationId = orgApp.organizationId;\n                }\n            }))\n        })\n    }\n    function openUpdateOrgGroupDialog() {\n        const closeCb = (reason: "close" | "outclick" | "component") => {\n            if(reason == "component") {\n                getOrganizationGroupDetails();\n            }\n        }\n        dialog.showDialog(\n            defineAsyncComponent(() => import(`../../components/dialogs/backoffice/addOrUpdateOrgGroup.vue`)),\n            { closable: true, title: "Update Organization Group", width: "542px", maxHeight: "379px", closeCb }, {orgGroup: orgGroup.value?.organizationGroup}\n        );\n    }\n    function getAppsByOrganizationId(orgId: string) {\n        const orgApps = backofficeUseCase.getOrganizationAppsByOrganizationIdForOrgGroup(orgId, orgGroup.value!);\n        return orgApps!;\n    }\n    function getUserPerOrganization(orgId: string) {\n        return backofficeUseCase.getUsersPerOrganizationForOrgGroup(orgId, orgGroup.value!);\n    }\n<\/script>\n<template>\n    <div class="update-org-group-div">\n        <button class="update-btn" @click="openUpdateOrgGroupDialog()"><i class="mdi mdi-cog" style="font-size: 20px; margin-right: 4px"></i><span>UPDATE ORGANIZATION GROUP</span></button>\n    </div>  \n    <div  style="display: flex; margin-bottom: 32px;">\n        <div class="org-group-info-type">\n            <div class="org-group-info-type-name">Name</div>\n            <div class="org-group-info">{{ orgGroup?.organizationGroup.name }}</div>\n        </div>\n        <div class="org-group-info-type">\n            <div class="org-group-info-type-name">Description</div>\n            <div class="org-group-info">{{ orgGroup?.organizationGroup.description }}</div>\n        </div>\n        <div class="org-group-info-type">\n            <div class="org-group-info-type-name">Total User Count</div>\n            <div class="org-group-info">{{ orgGroup?.users.length }}</div>\n        </div>\n        <div class="org-group-info-type">\n            <div class="org-group-info-type-name">Total App Count</div>\n            <div class="org-group-info">{{ allAppsOfOrgGroup.length }}</div>\n        </div>\n    </div>\n    <div class="org-group-org-info">\n        <div class="org-group-tabs">\n            <div  :class="totalOrgGroup ? \'active-category\' : \'\'" @click="totalOrgGroup = true; byOrganization = false">Total</div>\n            <div  :class="byOrganization ? \'active-category\' : \'\'" @click="totalOrgGroup = false; byOrganization = true">Organizations</div>\n        </div>    \n        <div style="padding: 0 24px" v-if="totalOrgGroup">\n            <UserList v-if="orgGroup" :users="orgGroup.users" :displayOrgNames="true"></UserList>\n            <AppList v-if="orgGroup" :apps="allAppsOfOrgGroup" :displayOrgName="true"></AppList>\n        </div>\n        <div v-if="byOrganization">\n            <div v-for="organization in organizations" :key="organization.id" class="org-div">\n                <div class="org-name" :style="{marginBottom: organization.showOrgInfo ? \'20px\' : \'0px\', borderBottom: organization.showOrgInfo ? \'1px solid black\' : \'none\', paddingBottom: organization.showOrgInfo ? \'10px\': \'0\'}">\n                    <span><i class="mdi mdi-chart-pie" style="color: #E65100; margin-right: 10px"></i>{{ organization.name }}</span>\n                    <div @click="organization.showOrgInfo = !organization.showOrgInfo" style="cursor: pointer; margin-left: auto">\n                        <i v-if="!organization.showOrgInfo" class="mdi mdi-chevron-down"></i>\n                        <i v-else class="mdi mdi-chevron-up"></i>\n                    </div>\n                </div>\n                <div v-if="organization.showOrgInfo">\n                    <UserList :users="getUserPerOrganization(organization.id)"></UserList>\n                    <AppList :apps="getAppsByOrganizationId(organization.id)"></AppList>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<style scoped>\n    .update-org-group-div {\n        width: 85%; \n        display: flex; \n        justify-content: end;\n        position: absolute;\n        top: 80px;\n        right: 36px;\n    }\n    .update-btn {\n        border: 1px solid #151233;\n        border-radius: 4px;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        color: #151233;\n        display: flex;\n        align-items: center;\n        font-weight: 500;\n    }\n    .org-group-info-type {\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        background: #FFFFFF;\n        margin-right: 37px;\n        padding: 24px 24px 18px;\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n    }\n    .org-group-info-type:last-child {\n        margin-right: 0;\n    }\n    .org-group-info-type-name {\n        font-weight: 500;\n        font-size: 20px;\n        line-height: 23px;\n        color: #757575;\n        margin-bottom: 20px;\n        min-width: 100px;\n        flex: 1;\n    }\n    .org-group-info {\n        font-weight: 500;\n        font-size: 28px;\n        line-height: 33px;\n        color: #151233; \n    }\n    .org-name {\n        font-size: 30px;\n        line-height: 32px;\n        color: #151233;\n        display: flex;\n   \n    }\n    .user-app-header {\n        font-weight: 500;\n        font-size: 24px;\n        line-height: 28px;\n        color: #151233;\n        margin-bottom: 20px;\n    }\n    .user-app-list  {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        width: 100%;\n    }\n    td:hover {\n        background-color: none !important;\n    }\n    .user-app-list  tr:hover:not(:last-child):not(:first-child) {\n        background-color: #EEEEEE;\n    }\n    .user-app-list  th\n        {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 18px 36px\n    }\n    .user-app-list  td {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 20px 36px;\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .user-app-list  .thead {\n        background: #F5F5F5;\n        color: #616161;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .org-group-tabs {\n        display: flex;\n        align-items: center;\n        width: 100%;\n        margin-bottom: 20px;\n        padding: 24px 32px;\n    }\n    .org-group-tabs div {\n        color: #A1A1A1;\n        font-weight: 500;\n        font-size: 14px;\n        width: 111px;\n        padding-bottom: 8px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        border: 2px solid transparent;\n    }\n    .active-category {\n        color: #151233 !important; \n        border-bottom: 2px solid !important\n    }\n    .org-group-org-info {\n        background: #FFFFFF;\n        border-radius: 8px;\n    }\n    .org-div {\n        border-bottom: 1px solid #0000002F;\n        padding: 24px;\n    }\n    .org-div:last-child {\n        border-bottom: none;\n    }\n</style>'],sourceRoot:""}]);const p=e},38932:(n,o,i)=>{i.r(o),i.d(o,{default:()=>$});var r=i(71093),a=i(66190),t=i(73843),e=i(5627),p=i(91056),s=i(1937),g=i(20559),A=i(83487),l=i(43695),d=i(44570);const c=n=>((0,r.dD)("data-v-4bf08c15"),n=n(),(0,r.Cn)(),n),u={class:"update-org-group-div"},f=[c((()=>(0,r._)("i",{class:"mdi mdi-cog",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),c((()=>(0,r._)("span",null,"UPDATE ORGANIZATION GROUP",-1)))],m={style:{display:"flex","margin-bottom":"32px"}},v={class:"org-group-info-type"},C=c((()=>(0,r._)("div",{class:"org-group-info-type-name"},"Name",-1))),x={class:"org-group-info"},B={class:"org-group-info-type"},b=c((()=>(0,r._)("div",{class:"org-group-info-type-name"},"Description",-1))),h={class:"org-group-info"},y={class:"org-group-info-type"},z=c((()=>(0,r._)("div",{class:"org-group-info-type-name"},"Total User Count",-1))),I={class:"org-group-info"},O={class:"org-group-info-type"},Q=c((()=>(0,r._)("div",{class:"org-group-info-type-name"},"Total App Count",-1))),k={class:"org-group-info"},G={class:"org-group-org-info"},w={class:"org-group-tabs"},E={key:0,style:{padding:"0 24px"}},F={key:1},D=c((()=>(0,r._)("i",{class:"mdi mdi-chart-pie",style:{color:"#E65100","margin-right":"10px"}},null,-1))),U=["onClick"],_={key:0,class:"mdi mdi-chevron-down"},T={key:1,class:"mdi mdi-chevron-up"},j={key:0},P=(0,r.aZ)({__name:"organizationGroup",setup(n){const o=e.nC.resolve(s.v5),c=e.nC.resolve(A.y),P=e.nC.resolve(g.X),R=e.nC.resolve(p.u),Z=o.getRouteParams();P.setBreadcrumb(["Organization Groups","Organization Group Detail"]);const q=(0,t.iH)(),L=(0,t.iH)([]),H=(0,t.iH)(!0),N=(0,t.iH)(!1),S=(0,t.iH)();function W(){c.execute((async()=>{var n;q.value=await P.getOrganizationGroupDetails({organizationGroupId:Z.organizationGroupID}),L.value=P.getAllAppsForOrgGroup(q.value),null===(n=q.value)||void 0===n||n.organizationApplications.forEach((n=>{L.value.forEach((o=>n.applications.forEach((i=>{i.ID==o.ID&&(o.organizationId=n.organizationId)}))))})),S.value=q.value.organizations.map((n=>({...n,showOrgInfo:!1})))}),{loading:!0})}function X(n){return P.getOrganizationAppsByOrganizationIdForOrgGroup(n,q.value)}return(0,r.wF)((()=>{W()})),(n,o)=>{var t,e,p;return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",u,[(0,r._)("button",{class:"update-btn",onClick:o[0]||(o[0]=n=>function(){var n;R.showDialog((0,r.RC)((()=>Promise.all([i.e(9607),i.e(3547)]).then(i.bind(i,21142)))),{closable:!0,title:"Update Organization Group",width:"542px",maxHeight:"379px",closeCb:n=>{"component"==n&&W()}},{orgGroup:null===(n=q.value)||void 0===n?void 0:n.organizationGroup})}())},f)]),(0,r._)("div",m,[(0,r._)("div",v,[C,(0,r._)("div",x,(0,a.toDisplayString)(null===(t=q.value)||void 0===t?void 0:t.organizationGroup.name),1)]),(0,r._)("div",B,[b,(0,r._)("div",h,(0,a.toDisplayString)(null===(e=q.value)||void 0===e?void 0:e.organizationGroup.description),1)]),(0,r._)("div",y,[z,(0,r._)("div",I,(0,a.toDisplayString)(null===(p=q.value)||void 0===p?void 0:p.users.length),1)]),(0,r._)("div",O,[Q,(0,r._)("div",k,(0,a.toDisplayString)(L.value.length),1)])]),(0,r._)("div",G,[(0,r._)("div",w,[(0,r._)("div",{class:(0,a.normalizeClass)(H.value?"active-category":""),onClick:o[1]||(o[1]=n=>{H.value=!0,N.value=!1})},"Total",2),(0,r._)("div",{class:(0,a.normalizeClass)(N.value?"active-category":""),onClick:o[2]||(o[2]=n=>{H.value=!1,N.value=!0})},"Organizations",2)]),H.value?((0,r.wg)(),(0,r.iD)("div",E,[q.value?((0,r.wg)(),(0,r.j4)(l.Z,{key:0,users:q.value.users,displayOrgNames:!0},null,8,["users"])):(0,r.kq)("v-if",!0),q.value?((0,r.wg)(),(0,r.j4)(d.Z,{key:1,apps:L.value,displayOrgName:!0},null,8,["apps"])):(0,r.kq)("v-if",!0)])):(0,r.kq)("v-if",!0),N.value?((0,r.wg)(),(0,r.iD)("div",F,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(S.value,(n=>{return(0,r.wg)(),(0,r.iD)("div",{key:n.id,class:"org-div"},[(0,r._)("div",{class:"org-name",style:(0,a.normalizeStyle)({marginBottom:n.showOrgInfo?"20px":"0px",borderBottom:n.showOrgInfo?"1px solid black":"none",paddingBottom:n.showOrgInfo?"10px":"0"})},[(0,r._)("span",null,[D,(0,r.Uk)((0,a.toDisplayString)(n.name),1)]),(0,r._)("div",{onClick:o=>n.showOrgInfo=!n.showOrgInfo,style:{cursor:"pointer","margin-left":"auto"}},[n.showOrgInfo?((0,r.wg)(),(0,r.iD)("i",T)):((0,r.wg)(),(0,r.iD)("i",_))],8,U)],4),n.showOrgInfo?((0,r.wg)(),(0,r.iD)("div",j,[(0,r.Wm)(l.Z,{users:(o=n.id,P.getUsersPerOrganizationForOrgGroup(o,q.value))},null,8,["users"]),(0,r.Wm)(d.Z,{apps:X(n.id)},null,8,["apps"])])):(0,r.kq)("v-if",!0)]);var o})),128))])):(0,r.kq)("v-if",!0)])],64)}}});var R=i(17450),Z=i.n(R),q=i(29530),L=i.n(q),H=i(16199),N=i.n(H),S=i(40458),W=i.n(S),X=i(62916),Y=i.n(X),J=i(92165),M=i.n(J),K=i(65870),V={};V.styleTagTransform=M(),V.setAttributes=W(),V.insert=N().bind(null,"head"),V.domAPI=L(),V.insertStyleElement=Y(),Z()(K.Z,V),K.Z&&K.Z.locals&&K.Z.locals;const $=(0,i(32525).Z)(P,[["__scopeId","data-v-4bf08c15"]])}}]);
//# sourceMappingURL=8932.js.map