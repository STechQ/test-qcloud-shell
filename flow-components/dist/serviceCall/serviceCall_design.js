/*! For license information please see serviceCall_design.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.flowcomponent=t(require("react")):e.flowcomponent=t(e.react)}(this,(e=>(()=>{"use strict";var t={6094:(e,t,o)=>{var s=o(8156),r=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),p=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,o){var s,a={},c=null,l=null;for(s in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)n.call(t,s)&&!i.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:r,type:e,key:c,ref:l,props:a,_owner:p.current}}t.jsx=a,t.jsxs=a},4512:(e,t,o)=>{e.exports=o(6094)},8156:t=>{t.exports=e}},o={};function s(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{s.r(r),s.d(r,{default:()=>u});var e=s(4512),t=s(8156);const o={width:"80px"},n=s=>{const{NameDiv:r,DescDiv:n}=s.react.prop,{ExpressionComp:p}=s.react,i=e=>e.reduce(((e,t)=>(t.key&&(e[t.key]=t.value),e)),{}),a=()=>x.map((e=>e)),c=e=>{e.push({key:"",value:{type:"vars",value:""}})},l=(u=s.propValues.headers||{},d=(e,t)=>({key:t,value:e}),function(e){return Object.keys(e)}(u).map(((e,t)=>d(u[e],e))));var u,d;0!=l.length&&""==l[l.length-1].key||c(l);const[x,h]=(0,t.useState)(l);return(0,e.jsxs)("div",{children:[(0,e.jsx)(r,{children:"Headers"}),(0,e.jsx)(n,{children:"Headers to send to the Service"}),x.map(((t,r)=>(0,e.jsxs)("div",{children:[(0,e.jsx)("input",{type:"text",style:o,value:t.key,placeholder:t.key?void 0:"key",onChange:e=>((e,t)=>{const o=a();o[t].key=e.toLowerCase(),""!=o[o.length-1].key&&c(o);const r=o.findIndex((e=>""==e.key));-1!=r&&r!=o.length-1&&o.splice(r,1),h(o),s.callbacks.setProp("headers",i(o))})(e.target.value,r)}),(0,e.jsx)(p,{inputOptions:{width:"65px"},types:["input","output","vars","string"],expression:t.value,onChange:e=>((e,t)=>{const o=a();o[t].value=e,h(o),s.callbacks.setProp("headers",i(o))})(e,r)})]},r)))]})},p=o=>{const{NameDiv:s,DescDiv:r}=o.react.prop,{ExpressionComp:n}=o.react,[p,i]=(0,t.useState)(o.propValues.body);return(0,e.jsxs)("div",{children:[(0,e.jsx)(s,{children:"Body"}),(0,e.jsx)(r,{children:"Body of the Service Request"}),(0,e.jsx)(n,{inputOptions:{width:"130px"},types:["input","output","vars","boolean","number","string"],expression:p,onChange:e=>{i(e),o.callbacks.setProp("body",e)}})]})},i=o=>{const{NameDiv:s,DescDiv:r}=o.options.react.prop,{ExpressionComp:n}=o.options.react,[p,i]=(0,t.useState)(o.options.propValues.url);return(0,e.jsxs)("div",{children:[(0,e.jsx)(s,{children:"URL"}),(0,e.jsx)(r,{children:"Service address to make the call"}),(0,e.jsx)(n,{inputOptions:{width:"130px"},types:["string","input","output","vars"],expression:p,onChange:e=>{o.options.callbacks.setProp("url",e),i(e)}})]})},a=[{text:"GET"},{text:"POST"},{text:"PUT"},{text:"DELETE"}],c=o=>{const{NameDiv:s,DescDiv:r}=o.options.react.prop,{ExpressionComp:n}=o.options.react,[p,i]=(0,t.useState)(o.options.propValues.method);return(0,e.jsxs)("div",{children:[(0,e.jsx)(s,{children:"Method"}),(0,e.jsx)(r,{children:"Http Method of Service. Ex: get or post"}),(0,e.jsx)(n,{inputOptions:{width:"125px"},types:["string","input","output","vars",{type:"enum",text:"methods",options:a}],expression:p,onChange:e=>{o.options.callbacks.setProp("method",e),i(e)}})]})},l=o=>{const{NameDiv:s,DescDiv:r}=o.options.react.prop,{ExpressionComp:n}=o.options.react,[p,i]=(0,t.useState)(o.options.propValues.responseField),[a,c]=(0,t.useState)(void 0!==o.options.propValues.responseField),[l,u]=(0,t.useState)(!0),d=e=>{o.options.callbacks.setProp("responseField",e),i(e)};return(0,e.jsxs)("div",{children:[(0,e.jsx)(s,{children:"Response"}),(0,e.jsx)(r,{children:"Do you need the response ?"}),(0,e.jsx)("input",{type:"checkbox",checked:a,onChange:e=>(e=>{c(e),e?l&&void 0===p&&(u(!1),d({type:"vars",value:"response"})):d(void 0)})(e.target.checked)}),a&&(0,e.jsx)(n,{inputOptions:{width:"130px"},types:["output","vars"],expression:p,onChange:(e,t)=>{const s=e;o.options.callbacks.setProp("responseField",s),d(s)}})]})},u={name:"serviceCall",version:"0.8",style:{fill:"#728dff",stroke:"#999999"},inputs:[{name:"_"}],outputs:["_"],editSection:t=>()=>(0,e.jsxs)("div",{children:[(0,e.jsx)(i,{options:t}),(0,e.jsx)("hr",{}),(0,e.jsx)(c,{options:t}),(0,e.jsx)("hr",{}),n(t),(0,e.jsx)("hr",{}),p(t),(0,e.jsx)("hr",{}),(0,e.jsx)(l,{options:t})]})}})(),r})()));