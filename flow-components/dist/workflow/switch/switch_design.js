/*! For license information please see switch_design.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.flowcomponent=t(require("react"),require("react-dom")):e.flowcomponent=t(e.react,e["react-dom"])}(this,((e,t)=>(()=>{var r={4645:(e,t,r)=>{"use strict";var n=r(7111);n.createRoot,n.hydrateRoot},6094:(e,t,r)=>{"use strict";var n=r(8156),o=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,r){var n,s={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!c.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:u,props:s,_owner:i.current}}t.jsx=s,t.jsxs=s},4512:(e,t,r)=>{"use strict";e.exports=r(6094)},8156:t=>{"use strict";t.exports=e},7111:e=>{"use strict";e.exports=t},5685:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,a(r)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,r));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var a={};return(()=>{"use strict";o.r(a),o.d(a,{default:()=>ae});var e=o(4512),t=o(8156);function r(e,r){(0,t.useEffect)((()=>{const t=t=>{const n=null==e?void 0:e.current;n&&!n.contains((null==t?void 0:t.target)||null)&&r(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,r])}o.p,o.p;const n=n=>{var o;const[a,i]=(0,t.useState)(!1),c=(0,t.useRef)(null);return r(c,(()=>i(!1))),(0,e.jsxs)("div",{className:"dropdown-flow",ref:c,children:[(0,e.jsx)("button",{className:"cursor-pointer",onClick:e=>{e.stopPropagation(),i(!a)},children:n.iconClass&&(0,e.jsx)("i",{className:n.iconClass})}),(0,e.jsx)("ul",{className:"py-3",style:{display:a?"block":"none"},children:null===(o=n.options)||void 0===o?void 0:o.map((t=>(0,e.jsx)("li",{className:"px-3 py-1 cursor-pointer ellipsis-text",onClick:e=>{i(!1),t.onClick(e)},children:t.name},t.name)))})]})};var i=o(5685),c=o.n(i);o.p,o.p;const s=({label:n,options:o=[],className:a,placeholder:i,value:c,disabled:s,onChange:l})=>{const[u,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(c),[v,g]=(0,t.useState)([]),h=(0,t.useRef)(null);return r(h,(()=>d(!1))),(0,t.useEffect)((()=>{const e=v.find((e=>e.value===c));e?p(e.name):c||p("")}),[c,v]),(0,t.useEffect)((()=>{g(o)}),[o]),(0,e.jsxs)("div",{className:`select-flow position-relative ${a||""}`,children:[n&&(0,e.jsx)("label",{className:"d-block ellipsis-text",children:n}),(0,e.jsxs)("div",{ref:h,children:[(0,e.jsxs)("div",{className:"input",onClick:()=>{s||d(!u)},children:[(0,e.jsx)("input",{className:"w-100 ellipsis-text",placeholder:i,value:f,onChange:()=>{}}),(0,e.jsx)("i",{className:"mdi mdi-chevron-down"})]}),(0,e.jsx)("div",{className:"options",style:{display:u?"block":"none"},children:(0,e.jsx)("ul",{children:o.map((t=>(0,e.jsx)("li",{className:"cursor-pointer ellipsis-text",onClick:()=>t.value!=f?(e=>{l(e.value),d(!1)})(t):d(!1),children:t.name},t.value)))})})]})]})},l=(o.p,({label:r,className:n,placeholder:o,value:a,disabled:i,isDigit:c=!1,onChange:s,onBlur:l})=>{const[u,d]=(0,t.useState)(a);return(0,t.useEffect)((()=>{d(a)}),[a]),(0,e.jsxs)("div",{className:`input-flow ${n||""}`,children:[r&&(0,e.jsx)("label",{className:"d-block",children:r}),(0,e.jsx)("input",{className:"w-100",placeholder:o,value:u,onChange:e=>{c&&!new RegExp(/^\d+$/).test(e.target.value)||(null==s||s(e),d(e.target.value))},onBlur:l,disabled:i})]})}),u=(o.p,({label:r,isKeepOpen:n=!1,onAddButton:o,children:a})=>{const[i,c]=(0,t.useState)(!0);return(0,e.jsxs)("div",{className:"variables ",children:[(0,e.jsxs)("div",{className:"d-flex justify-content-between p-3 pb-0",children:[(0,e.jsxs)("div",{className:"d-flex cursor-pointer",onClick:()=>c(!i),children:[!n&&(0,e.jsx)("i",{className:"mdi "+(i?"mdi-chevron-down":"mdi-chevron-right")}),(0,e.jsx)("p",{children:r})]}),o&&(0,e.jsx)("i",{className:"mdi mdi-plus cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),o()}})]}),(n||i)&&(0,e.jsx)("ul",{className:"variable-list",children:a})]})}),d=(o.p,({label:r,className:n,types:o,expression:a,onChange:i,onBlur:c})=>{const[u,d]=(0,t.useState)([]),[f,p]=(0,t.useState)(o[0]),[v,g]=(0,t.useState)("");return(0,t.useEffect)((()=>{p(a.type),g(a.value)}),[a]),(0,t.useEffect)((()=>{d(o.map((e=>({name:e,value:e}))))}),[o]),(0,e.jsxs)("div",{className:`expression-flow ${n||""}`,children:[(0,e.jsx)(s,{label:r,options:u,value:f,onChange:e=>{null==i||i({value:v,type:e}),null==c||c({value:v,type:e})}}),(0,e.jsx)(l,{className:"mt-2",value:v,onChange:e=>{null==i||i({type:f,value:e.target.value}),g(e.target.value)},onBlur:e=>null==c?void 0:c({type:f,value:e.target.value})})]})}),f=(o.p,o.p,({label:t,className:r,value:n,disabled:o,onChange:a})=>(0,e.jsxs)("div",{className:c()("switch-flow",r),children:[t&&(0,e.jsx)("label",{className:"switch-text",children:t}),(0,e.jsxs)("label",{className:"switch",children:[(0,e.jsx)("input",{type:"checkbox",className:"w-100",checked:n,disabled:o,onChange:e=>{a(e.target.checked)}}),(0,e.jsx)("span",{className:"slider round"})]})]}));var p;function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.apply(r,[].concat(o,n))}}}function O(e){return{}.toString.call(e).includes("Object")}function x(e){return"function"==typeof e}o.p,p={boolean:!0,datetime:!0,enum:!0,number:!0,object:!0,string:!0},Object.keys(p),o(4645);var S=w((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),E=function(e,t){return O(t)||S("changeType"),Object.keys(t).some((function(t){return r=e,n=t,!Object.prototype.hasOwnProperty.call(r,n);var r,n}))&&S("changeField"),t};function k(e,t){return x(t)?t(e.current):t}function N(e,t){return e.current=j(j({},e.current),t),t}function M(e,t,r){return x(t)?t(e.current):Object.keys(r).forEach((function(r){var n;return null===(n=t[r])||void 0===n?void 0:n.call(t,e.current[r])})),r}var C,P={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},R=(C=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.length>=C.length?C.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e.apply(t,[].concat(n,o))}})(P);const T=function e(t,r){return Object.keys(r).forEach((function(n){r[n]instanceof Object&&t[n]&&Object.assign(r[n],e(t[n],r[n]))})),h(h({},t),r)};var _={type:"cancelation",msg:"operation is manually canceled"};const I=function(e){var t=!1,r=new Promise((function(r,n){e.then((function(e){return t?n(_):r(e)})),e.catch(n)}));return r.cancel=function(){return t=!0},r};var A,L=function(e){if(Array.isArray(e))return e}(A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e){var t;e||S("initialIsRequired"),O(e)||S("initialType"),t=e,Object.keys(t).length||S("initialContent")})(e),function(e){x(e)||O(e)||S("handlerType"),O(e)&&Object.values(e).some((function(e){return!x(e)}))&&S("handlersType")}(t);var r={current:e},n=w(M)(r,t),o=w(N)(r),a=w(E)(e),i=w(k)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(e){x(e)||S("selectorType")}(e),e(r.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(n,o,a,i)(e)}]}({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),2!==r.length);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}}(A)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,2):void 0}}(A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),D=L[0],q=L[1];function V(e){return document.body.appendChild(e)}function B(e){var t,r,n=D((function(e){return{config:e.config,reject:e.reject}})),o=(t="".concat(n.config.paths.vs,"/loader.js"),r=document.createElement("script"),t&&(r.src=t),r);return o.onload=function(){return e()},o.onerror=n.reject,o}function $(){var e=D((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){z(t),e.resolve(t)}),(function(t){e.reject(t)}))}function z(e){D().monaco||q({monaco:e})}var F=new Promise((function(e,t){return q({resolve:e,reject:t})})),J={config:function(e){var t=function(e){return e||R("configIsRequired"),t=e,{}.toString.call(t).includes("Object")||R("configType"),e.urls?(console.warn(P.deprecation),{paths:{vs:e.urls.monacoBase}}):e;var t}(e),r=t.monaco,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,["monaco"]);q((function(e){return{config:T(e.config,n),monaco:r}}))},init:function(){var e=D((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(q({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),I(F);if(window.monaco&&window.monaco.editor)return z(window.monaco),e.resolve(window.monaco),I(F);!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(V,B)($)}return I(F)},__getMonacoInstance:function(){return D((function(e){return e.monaco}))}};const U=J;var G={display:"flex",position:"relative",textAlign:"initial"},Y={width:"100%"},K={display:"none"},W={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},H=function({children:e}){return t.createElement("div",{style:W.container},e)},Q=(0,t.memo)((function({width:e,height:r,isEditorReady:n,loading:o,_ref:a,className:i,wrapperProps:c}){return t.createElement("section",{style:{...G,width:e,height:r},...c},!n&&t.createElement(H,null,o),t.createElement("div",{ref:a,style:{...Y,...!n&&K},className:i}))})),X=function(e){(0,t.useEffect)(e,[])},Z=function(e,r,n=!0){let o=(0,t.useRef)(!0);(0,t.useEffect)(o.current||!n?()=>{o.current=!1}:e,r)};function ee(){}function te(e,t,r,n){return function(e,t){return e.editor.getModel(re(e,t))}(e,n)||function(e,t,r,n){return e.editor.createModel(t,r,n?re(e,n):void 0)}(e,t,r,n)}function re(e,t){return e.Uri.parse(t)}(0,t.memo)((function({original:e,modified:r,language:n,originalLanguage:o,modifiedLanguage:a,originalModelPath:i,modifiedModelPath:c,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:d="Loading...",options:f={},height:p="100%",width:v="100%",className:g,wrapperProps:h={},beforeMount:m=ee,onMount:y=ee}){let[b,j]=(0,t.useState)(!1),[w,O]=(0,t.useState)(!0),x=(0,t.useRef)(null),S=(0,t.useRef)(null),E=(0,t.useRef)(null),k=(0,t.useRef)(y),N=(0,t.useRef)(m),M=(0,t.useRef)(!1);X((()=>{let e=U.init();return e.then((e=>(S.current=e)&&O(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>x.current?function(){let e=x.current?.getModel();s||e?.original?.dispose(),l||e?.modified?.dispose(),x.current?.dispose()}():e.cancel()})),Z((()=>{if(x.current&&S.current){let t=x.current.getOriginalEditor(),r=te(S.current,e||"",o||n||"text",i||"");r!==t.getModel()&&t.setModel(r)}}),[i],b),Z((()=>{if(x.current&&S.current){let e=x.current.getModifiedEditor(),t=te(S.current,r||"",a||n||"text",c||"");t!==e.getModel()&&e.setModel(t)}}),[c],b),Z((()=>{let e=x.current.getModifiedEditor();e.getOption(S.current.editor.EditorOption.readOnly)?e.setValue(r||""):r!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[r],b),Z((()=>{x.current?.getModel()?.original.setValue(e||"")}),[e],b),Z((()=>{let{original:e,modified:t}=x.current.getModel();S.current.editor.setModelLanguage(e,o||n||"text"),S.current.editor.setModelLanguage(t,a||n||"text")}),[n,o,a],b),Z((()=>{S.current?.editor.setTheme(u)}),[u],b),Z((()=>{x.current?.updateOptions(f)}),[f],b);let C=(0,t.useCallback)((()=>{if(!S.current)return;N.current(S.current);let t=te(S.current,e||"",o||n||"text",i||""),s=te(S.current,r||"",a||n||"text",c||"");x.current?.setModel({original:t,modified:s})}),[n,r,a,e,o,i,c]),P=(0,t.useCallback)((()=>{!M.current&&E.current&&(x.current=S.current.editor.createDiffEditor(E.current,{automaticLayout:!0,...f}),C(),S.current?.editor.setTheme(u),j(!0),M.current=!0)}),[f,u,C]);return(0,t.useEffect)((()=>{b&&k.current(x.current,S.current)}),[b]),(0,t.useEffect)((()=>{!w&&!b&&P()}),[w,b,P]),t.createElement(Q,{width:v,height:p,isEditorReady:b,loading:d,_ref:E,className:g,wrapperProps:h})}));var ne=new Map;function oe(e){return{vType:"case",v:{left:{vType:"variable",v:{type:"string",value:""}},operator:"eq",right:{vType:"variable",v:{type:"string",value:""}}},props:{name:`Case ${e}`,_name:`case${e}`}}}(0,t.memo)((function({defaultValue:e,defaultLanguage:r,defaultPath:n,value:o,language:a,path:i,theme:c="light",line:s,loading:l="Loading...",options:u={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:p=!1,width:v="100%",height:g="100%",className:h,wrapperProps:m={},beforeMount:y=ee,onMount:b=ee,onChange:j,onValidate:w=ee}){let[O,x]=(0,t.useState)(!1),[S,E]=(0,t.useState)(!0),k=(0,t.useRef)(null),N=(0,t.useRef)(null),M=(0,t.useRef)(null),C=(0,t.useRef)(b),P=(0,t.useRef)(y),R=(0,t.useRef)(),T=(0,t.useRef)(o),_=function(e){let r=(0,t.useRef)();return(0,t.useEffect)((()=>{r.current=e}),[e]),r.current}(i),I=(0,t.useRef)(!1),A=(0,t.useRef)(!1);X((()=>{let e=U.init();return e.then((e=>(k.current=e)&&E(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>N.current?(R.current?.dispose(),p?f&&ne.set(i,N.current.saveViewState()):N.current.getModel()?.dispose(),void N.current.dispose()):e.cancel()})),Z((()=>{let t=te(k.current,e||o||"",r||a||"",i||n||"");t!==N.current?.getModel()&&(f&&ne.set(_,N.current?.saveViewState()),N.current?.setModel(t),f&&N.current?.restoreViewState(ne.get(i)))}),[i],O),Z((()=>{N.current?.updateOptions(u)}),[u],O),Z((()=>{!N.current||void 0===o||(N.current.getOption(k.current.editor.EditorOption.readOnly)?N.current.setValue(o):o!==N.current.getValue()&&(A.current=!0,N.current.executeEdits("",[{range:N.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),N.current.pushUndoStop(),A.current=!1))}),[o],O),Z((()=>{let e=N.current?.getModel();e&&a&&k.current?.editor.setModelLanguage(e,a)}),[a],O),Z((()=>{void 0!==s&&N.current?.revealLine(s)}),[s],O),Z((()=>{k.current?.editor.setTheme(c)}),[c],O);let L=(0,t.useCallback)((()=>{if(M.current&&k.current&&!I.current){P.current(k.current);let t=i||n,l=te(k.current,o||e||"",r||a||"",t||"");N.current=k.current?.editor.create(M.current,{model:l,automaticLayout:!0,...u},d),f&&N.current.restoreViewState(ne.get(t)),k.current.editor.setTheme(c),void 0!==s&&N.current.revealLine(s),x(!0),I.current=!0}}),[e,r,n,o,a,i,u,d,f,c,s]);return(0,t.useEffect)((()=>{O&&C.current(N.current,k.current)}),[O]),(0,t.useEffect)((()=>{!S&&!O&&L()}),[S,O,L]),T.current=o,(0,t.useEffect)((()=>{O&&j&&(R.current?.dispose(),R.current=N.current?.onDidChangeModelContent((e=>{A.current||j(N.current.getValue(),e)})))}),[O,j]),(0,t.useEffect)((()=>{if(O){let e=k.current.editor.onDidChangeMarkers((e=>{let t=N.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=k.current.editor.getModelMarkers({resource:t});w?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[O,w]),t.createElement(Q,{width:v,height:g,isEditorReady:O,loading:l,_ref:M,className:h,wrapperProps:m})})),o.p,o.p;const ae={name:"switch",version:"0.8",color:"#9C27B0",icon:"mdi-rhombus-outline",inputs:[{name:"_"}],outputs:()=>["1","2"],defaultProps:()=>({type:"switch",name:"switch",description:"switch",cases:{0:{props:{name:"Default",_name:"default"}},1:oe(2)}}),editSection:r=>()=>{const[o,a]=(0,t.useState)(r.propValues.cases),[i,l]=(0,t.useState)(!1),[p,v]=(0,t.useState)("variable"),[g,h]=(0,t.useState)("variable"),[m,y]=(0,t.useState)("eq"),[b,j]=(0,t.useState)({type:"string",value:""}),[w,O]=(0,t.useState)({type:"string",value:""}),[x,S]=(0,t.useState)(void 0),[E,k]=(0,t.useState)(void 0),N=(e,t)=>{let r=0;const n=e=>r.toString()===t?e:"case"===e.vType?(r++,n(e.v.left)||(r++,n(e.v.right))):void 0;return n(e)};(0,t.useEffect)((()=>{var e,t;const n=null===(t=(e=r.callbacks).selectedSwitchCase)||void 0===t?void 0:t.call(e,(e=>{M(e)}));M(n)}),[]);const M=e=>{if(e&&(k(e.caseId),S(e.id),e.id&&e.case)){const t=N(e.case,e.id);t&&"case"===t.vType&&(l(t.negation||!1),v(t.v.left.vType),h(t.v.right.vType),y(t.v.operator),j(t.v.left.v),O(t.v.right.v))}};(0,t.useEffect)((()=>{a(r.propValues.cases)}),[r.propValues.cases]);const C=["case","variable"].map((e=>({name:e,value:e}))),P=(e,t)=>{const r=JSON.parse(JSON.stringify(o)),n=N(r[E],x);if(n&&"case"===n.vType){switch(e){case"negation":n.negation=t;break;case"leftvType":n.v.left.vType=t,"variable"===t?n.v.left.v={type:"string",value:""}:n.v.left=oe(1);break;case"rightvType":n.v.right.vType=t,"variable"===t?n.v.right.v={type:"string",value:""}:n.v.right=oe(2);break;case"left":n.v.left.v=t;break;case"right":n.v.right.v=t;break;case"operator":n.v.operator=t}R(r)}},R=e=>{var t,n;r.callbacks.setProp("cases",e),a(e),null===(n=(t=r.callbacks).setSwitchArea)||void 0===n||n.call(t,{case:e[E],caseId:E})},T=["&& And","|| Or","== Equals","!= Not Equal","Includes","Not Include","> Greater Than",">= Greater Than and Equal","< Less Than","<= Less Than and Equal"],_=["and","or","eq","ne","in","nin","gt","gte","lt","lte"].map(((e,t)=>({name:T[t],value:e})));return(0,e.jsx)("div",{children:E&&x?(0,e.jsxs)(u,{label:"PROPERTIES",children:[(0,e.jsx)(f,{className:"w-100",label:"Negation",value:i,onChange:e=>{l(e),P("negation",e)}}),(0,e.jsx)(s,{className:"mt-3",label:"Left",value:p,onChange:e=>{v(e),P("leftvType",e)},options:C}),"variable"===p&&(0,e.jsx)(d,{className:"mt-3",expression:b,onBlur:e=>{j(e),P("left",e)},types:["string","number","boolean","context","input","output"]}),(0,e.jsx)(s,{className:"mt-3",label:"Operator",value:m,onChange:e=>{y(e),P("operator",e)},options:_}),(0,e.jsx)(s,{className:"mt-3",label:"Right",value:g,onChange:e=>{h(e),P("rightvType",e)},options:C}),"variable"===g&&(0,e.jsx)(d,{className:"mt-3",expression:w,onBlur:e=>{O(e),P("right",e)},types:["string","number","boolean","context","input","output"]})]}):(0,e.jsx)(u,{label:"CASES",onAddButton:()=>{let e=JSON.parse(JSON.stringify(o));const t=(Math.max(...Object.keys(e).map((e=>parseInt(e))))+1).toString(),n={[t]:oe(parseInt(t))};e={...e,...n},r.callbacks.setOutputs(Object.keys(e).map((e=>e.toString()))),R(e)},children:Object.keys(o||{}).filter(((e,t)=>0!==t)).map(((t,a)=>(0,e.jsxs)("li",{className:c()("d-flex justify-content-between align-items-center px-1 py-2 cursor-pointer",{"vertical-line":Object.keys(o||{}).length-1!==a}),onClick:()=>((e,t)=>{var n,o;k(t),null===(o=(n=r.callbacks).setSwitchArea)||void 0===o||o.call(n,{case:e,caseId:t})})(o[t],t),children:[(0,e.jsx)("p",{className:"m-0",children:`Case ${t}`}),(0,e.jsx)(n,{iconClass:"mdi mdi-dots-horizontal",options:[{name:"Delete",onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{let t=JSON.parse(JSON.stringify(o));delete t[e],r.callbacks.setOutputs(Object.keys(t).map((e=>e.toString()))),R(t)})(t)}}]})]},`item${a}`)))})})}}})(),a})()));