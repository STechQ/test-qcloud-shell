/*! For license information please see flow_design.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.flowcomponent=t(require("react")):e.flowcomponent=t(e.react)}(this,(e=>(()=>{var t={6094:(e,t,n)=>{"use strict";var s=n(8156),o=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var s,l={},c=null,p=null;for(s in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(p=t.ref),t)r.call(t,s)&&!a.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===l[s]&&(l[s]=t[s]);return{$$typeof:o,type:e,key:c,ref:p,props:l,_owner:i.current}}t.jsx=l,t.jsxs=l},4512:(e,t,n)=>{"use strict";e.exports=n(6094)},8156:t=>{"use strict";t.exports=e},5685:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)s.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},n={};function s(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="";var o={};return(()=>{"use strict";s.r(o),s.d(o,{default:()=>f});var e=s(4512),t=s(8156);s.p,s.p,s.p;var n=s(5685),r=s.n(n);const i=({isOpen:n,onClose:s,children:o,footer:i=[],title:a,type:l="dialog",position:c})=>{if(!n)return null;const[p,d]=(0,t.useState)({top:0}),u=(0,t.useRef)(null);return(0,t.useEffect)((()=>{var e,t;if(c){const n=window.innerHeight>c.top+((null===(e=u.current)||void 0===e?void 0:e.clientHeight)||0)?c.top:window.innerHeight-((null===(t=u.current)||void 0===t?void 0:t.clientHeight)||0)-10;d({top:n})}}),[c]),(0,e.jsx)("div",{className:r()({overlay:"modal"===l}),children:(0,e.jsxs)("div",{ref:u,className:r()("dialog",{"dialog-monaco":"modal"==l}),style:p,children:[(0,e.jsxs)("div",{className:"dots",children:[(0,e.jsx)("span",{}),(0,e.jsx)("span",{}),(0,e.jsx)("span",{})]}),(0,e.jsxs)("div",{className:"dialog-header",children:[(0,e.jsx)("h5",{className:"dialog-title m-0",children:a}),(0,e.jsx)("div",{className:"cursor-pointer",onClick:s,children:(0,e.jsx)("i",{className:"mdi mdi-window-close"})})]}),(0,e.jsx)("div",{className:"dialog-body",children:o}),i.length>0&&(0,e.jsx)("div",{className:"dialog-footer",children:i.map((e=>e))})]})})},a=(s.p,s.p,({label:t,className:n,placeholder:s,value:o,disabled:r,onChange:i,onBlur:a})=>(0,e.jsxs)("div",{className:`input-flow ${n||""}`,children:[t&&(0,e.jsx)("label",{className:"d-block",children:t}),(0,e.jsx)("input",{className:"w-100",placeholder:s,value:o,onChange:i,onBlur:a,disabled:r})]})),l=(s.p,({label:n,isKeepOpen:s=!1,onAddButton:o,children:r})=>{const[i,a]=(0,t.useState)(!0);return(0,e.jsxs)("div",{className:"variables ",children:[(0,e.jsxs)("div",{className:"d-flex justify-content-between p-3 pb-0",children:[(0,e.jsxs)("div",{className:"d-flex cursor-pointer",onClick:()=>a(!i),children:[!s&&(0,e.jsx)("i",{className:"mdi "+(i?"mdi-chevron-down":"mdi-chevron-right")}),(0,e.jsx)("p",{children:n})]}),o&&(0,e.jsx)("i",{className:"mdi mdi-plus cursor-pointer",onClick:o})]}),(s||i)&&(0,e.jsx)("ul",{className:"variable-list",children:r})]})}),c=(s.p,s.p,({children:t,className:n,color:s="primary",disabled:o,onClick:i})=>(0,e.jsx)("button",{className:r()("button-flow",n,s),disabled:o,onClick:i,children:t}));s.p,s.p;let p=!1;new Promise((e=>e())).then((()=>p=!0)),"undefined"!=typeof doNothing&&doNothing();const d=!0===p;async function u(e){const t=await fetch(e);return await t.text()}const m={name:"Store Schema For Workflow Function Flow",_name:"storeSchemaForWorklowSunctionFlow",desc:"Bu şema soldaki menüden seçilen bir workflow için geçerlidir",store:{context:{currentUser:{name:"user",_name:"user",desc:"user",list:!1,required:!0,props:{type:"named"}},appConstants:{},globalConstants:{},enums:{},vars:{}},input:{entity:{name:"entity",_name:"entity",desc:"entity",props:{type:"named"}},processInstance:{name:"processInstance",_name:"processInstance",desc:"processInstance",list:!1,required:!0,props:{type:"named"}}},output:{entity:{name:"entity",_name:"entity",desc:"entity",props:{type:"named"}},processInstance:{name:"processInstance",_name:"processInstance",desc:"processInstance",list:!1,required:!0,props:{type:"named"}}},props:{insert:["context.appConstants","context.globalConstants","context.enums","context.vars","input","output"],params:{entityType:{replaceKey:["input.entity.props","output.entity.props"]}},storeProps:{getExpressionList:["input.*","output.*","context.*"],getExpressionExceptionList:[],setExpressionList:["context.vars.*","output.*"],setExpressionExceptionList:["output.entity","output.processInstance"]}}}},f={name:"flow",version:"0.8",inputs:[{name:"_"}],outputs:["_"],icon:"mdiDuck",defaultProps:()=>({type:"inline"}),editSection:n=>()=>{var s;const[o,r]=(0,t.useState)(!1),[p,f]=(0,t.useState)(n.propValues.inline),y=(0,t.useRef)(null);let v,h;const x=(null===(s=n.callbacks.ui)||void 0===s?void 0:s.basePath)||"";(0,t.useEffect)((()=>{j(),w()}),[o]),(0,t.useEffect)((()=>{f(n.propValues.inline)}),[n.propValues.inline]);const w=async()=>{await j(),h&&p&&await h.importModel(p)},j=async()=>{if(v)return v.promise;const e=y.current;if(!o||!e||h)return;const t=function(){e.style.width=window.innerWidth-200+"px",e.style.height=window.innerHeight-260+"px"};window.onresize=t,t();const n=v=function(e,t={}){let n,s,o;const r=e=>{o&&clearTimeout(o),o=setTimeout((()=>{s(new Error(`The operation has timed out. timeoutValue  : ${e}`))}),e)};return e&&r(e),{startTimer:r,promise:new Promise(((e,o)=>{var r;r=e,n=d&&t.fixSyncResolve?e=>setTimeout((()=>r(e))):r,s=o})),resolver:n,reject:s}}();return e.addEventListener("load",(async t=>{h=new e.contentWindow.flow.Program,await h.init({onStepRequire:async e=>await Promise.all(e.map((async e=>(e.version.replace(".","_"),await u(`${x}/flow-components/dist/${e.stepName}/${e.stepName}_design.js`))))),onHistoryStatus:e=>{},onCopyPasteStatus:e=>{},ui:{onUIPageListRequire:async()=>[{name:"/test/test1",qjsonPath:"path1"},{name:"/test/test2",qjsonPath:"path2"}]},entity:{onListRequire:()=>[{path:"0",name:"book"},{path:"1",name:"customer"}],onRequire:async e=>({type:"entity",name:"book",properties:[]})}}),h.setSchema(m),h.setIsWorkFlow(!1),h.mount(e);try{await Promise.all(function(e){return[{name:"start",version:"0.8"},{name:"end",version:"0.8"},{name:"pause",version:"0.8"},{name:"log",version:"0.8"},{name:"switch",version:"0.8"},{name:"set",version:"0.8"},{name:"code",version:"0.8"},{name:"wait",version:"0.8"},{name:"apiInput",version:"0.8"},{name:"apiOutput",version:"0.8"},{name:"createEntity",version:"0.8"},{name:"findEntity",version:"0.8"},{name:"subFlow",version:"0.8"},{name:"serviceCall",version:"0.8"}].map((t=>u(`${e}/flow-components/dist/${t.name}/${t.name}_design.js`)))}(x).map((async e=>h.registerStep(await e))))}catch(e){console.log("error",e)}n.resolver()})),e.src=`${x}/flow-editor/dist/flowEditor/src/flow.html`,v.promise};return(0,e.jsxs)("div",{children:[(0,e.jsx)(l,{label:"PROPERTIES",children:(0,e.jsxs)("div",{className:"d-flex",children:[(0,e.jsx)(a,{className:"code-input w-100",value:"InlineFlow",onChange:e=>{}}),(0,e.jsx)(c,{className:"ms-2",onClick:()=>{r(!o)},children:"FLOW"})]})}),(0,e.jsx)(i,{type:"modal",isOpen:o,title:"New Function Flow",onClose:async()=>{await j();let e=null==h?void 0:h.exportModel("design");e=e?{...e}:e,n.callbacks.setProp("inline",e),f(e),r(!1)},children:(0,e.jsx)("iframe",{width:800,height:450,ref:y})})]})}}})(),o})()));