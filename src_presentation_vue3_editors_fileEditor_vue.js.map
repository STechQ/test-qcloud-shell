{"version":3,"file":"src_presentation_vue3_editors_fileEditor_vue.js","mappings":"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","sources":["webpack://qcloud_shell/./src/presentation/vue3/editors/fileEditor.vue?804f","webpack://qcloud_shell/./src/presentation/vue3/editors/fileEditor.vue?cdc9","webpack://qcloud_shell/./src/presentation/vue3/editors/fileEditor.vue?d294","webpack://qcloud_shell/./src/presentation/vue3/editors/fileEditor.vue?8fcf","webpack://qcloud_shell/./src/presentation/vue3/editors/fileEditor.vue","webpack://qcloud_shell/./src/presentation/vue3/editors/fileEditor.vue?ecf5","webpack://qcloud_shell/./src/presentation/vue3/editors/fileEditor.vue?1ec5","webpack://qcloud_shell/./src/presentation/vue3/editors/fileEditor.vue?dd2b"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\ntextarea[data-v-9303ca50]{\\n    resize: both;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/editors/fileEditor.vue\"],\"names\":[],\"mappings\":\";AA+DA;IACI,YAAY;AAChB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { text } from 'stream/consumers';\\nimport { onMounted, onUnmounted, Ref, ref } from 'vue';\\nimport { IFileEditorProps } from '../../../application/objects/editors/fileEditorImpl';\\n\\ninterface IProps {\\n    functions: IFileEditorProps[\\\"functions\\\"];\\n    callbacks: IFileEditorProps[\\\"callbacks\\\"];\\n}\\nconst props = defineProps<IProps>();\\nconst textarea = ref<HTMLTextAreaElement>() as Ref<HTMLTextAreaElement>;\\n\\nprops.functions.getModel = async () => {\\n    const scrollTop = textarea.value.scrollTop;\\n    const selectionStart = textarea.value.selectionStart;\\n    const selectionEnd = textarea.value.selectionEnd;\\n    const width = textarea.value.style.width;\\n    const height = textarea.value.style.height;\\n\\n    return { model: textarea.value.value, state: { scrollTop, selectionStart, selectionEnd, width, height } };\\n};\\nprops.functions.setModel = async (model, state) => {\\n    //model\\n    textarea.value.value = model;\\n\\n    //state\\n    textarea.value.focus();\\n    textarea.value.style.width = state.width || \\\"900px\\\";\\n    textarea.value.style.height = state.height || \\\"400px\\\";\\n    textarea.value.scrollTop = state.scrollTop;\\n    textarea.value.selectionStart = state.selectionStart;\\n    textarea.value.selectionEnd = state.selectionEnd;\\n}\\nconst modified: Record<string, EventListenerOrEventListenerObject> = {\\n    select: () => { console.log(\\\"select\\\"); props.callbacks.modified({ state: true }) },\\n    scroll: () => { console.log(\\\"scroll\\\"); props.callbacks.modified({ state: true }) },\\n    change: () => { console.log(\\\"change\\\"); props.callbacks.modified({ model: true }) },\\n    keydown: (e: Event) => {\\n        const event = e as KeyboardEvent;\\n        const code = event.code.toLowerCase();\\n        if (event.shiftKey || event.ctrlKey || code.startsWith(\\\"arrow\\\")){return;}\\n        console.log(\\\"keydown\\\"); props.callbacks.modified({ model: true });\\n    },\\n    resize: () => { console.log(\\\"resize\\\"); props.callbacks.modified({ state: true }) },\\n};\\n\\nconst watchTextArea = (attach: boolean) => {\\n    const target = attach ? textarea.value.addEventListener : textarea.value.removeEventListener;\\n    Object.keys(modified).forEach(key => target.call(textarea.value, key, modified[key]));\\n}\\n\\nonMounted(() => {\\n    watchTextArea(true);\\n});\\n\\nonUnmounted(() => {\\n    watchTextArea(false);\\n});\\n</script>\\n<template>\\n<textarea ref=\\\"textarea\\\"></textarea>\\n</template>\\n<style scoped>\\ntextarea{\\n    resize: both;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./fileEditor.vue?vue&type=style&index=0&id=9303ca50&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./fileEditor.vue?vue&type=style&index=0&id=9303ca50&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { text } from 'stream/consumers';\nimport { onMounted, onUnmounted, Ref, ref } from 'vue';\nimport { IFileEditorProps } from '../../../application/objects/editors/fileEditorImpl';\n\ninterface IProps {\n    functions: IFileEditorProps[\"functions\"];\n    callbacks: IFileEditorProps[\"callbacks\"];\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'fileEditor',\n  props: {\n    functions: { type: null, required: true },\n    callbacks: { type: null, required: true }\n  },\n  setup(__props: any, { expose }) {\n  expose();\n\nconst props = __props as {\n    functions: IFileEditorProps[\"functions\"];\n    callbacks: IFileEditorProps[\"callbacks\"];\n}\n\n\nconst textarea = ref<HTMLTextAreaElement>() as Ref<HTMLTextAreaElement>;\n\nprops.functions.getModel = async () => {\n    const scrollTop = textarea.value.scrollTop;\n    const selectionStart = textarea.value.selectionStart;\n    const selectionEnd = textarea.value.selectionEnd;\n    const width = textarea.value.style.width;\n    const height = textarea.value.style.height;\n\n    return { model: textarea.value.value, state: { scrollTop, selectionStart, selectionEnd, width, height } };\n};\nprops.functions.setModel = async (model, state) => {\n    //model\n    textarea.value.value = model;\n\n    //state\n    textarea.value.focus();\n    textarea.value.style.width = state.width || \"900px\";\n    textarea.value.style.height = state.height || \"400px\";\n    textarea.value.scrollTop = state.scrollTop;\n    textarea.value.selectionStart = state.selectionStart;\n    textarea.value.selectionEnd = state.selectionEnd;\n}\nconst modified: Record<string, EventListenerOrEventListenerObject> = {\n    select: () => { console.log(\"select\"); props.callbacks.modified({ state: true }) },\n    scroll: () => { console.log(\"scroll\"); props.callbacks.modified({ state: true }) },\n    change: () => { console.log(\"change\"); props.callbacks.modified({ model: true }) },\n    keydown: (e: Event) => {\n        const event = e as KeyboardEvent;\n        const code = event.code.toLowerCase();\n        if (event.shiftKey || event.ctrlKey || code.startsWith(\"arrow\")){return;}\n        console.log(\"keydown\"); props.callbacks.modified({ model: true });\n    },\n    resize: () => { console.log(\"resize\"); props.callbacks.modified({ state: true }) },\n};\n\nconst watchTextArea = (attach: boolean) => {\n    const target = attach ? textarea.value.addEventListener : textarea.value.removeEventListener;\n    Object.keys(modified).forEach(key => target.call(textarea.value, key, modified[key]));\n}\n\nonMounted(() => {\n    watchTextArea(true);\n});\n\nonUnmounted(() => {\n    watchTextArea(false);\n});\n\nconst __returned__ = { props, textarea, modified, watchTextArea }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})","import { openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-9303ca50\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { ref: \"textarea\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"textarea\", _hoisted_1, null, 512 /* NEED_PATCH */))\n}","import { render } from \"./fileEditor.vue?vue&type=template&id=9303ca50&scoped=true&ts=true\"\nimport script from \"./fileEditor.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./fileEditor.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./fileEditor.vue?vue&type=style&index=0&id=9303ca50&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/QCloud-Shell/QCloud-Shell/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9303ca50\"],['__file',\"src/presentation/vue3/editors/fileEditor.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"9303ca50\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('9303ca50', __exports__)) {\n    api.reload('9303ca50', __exports__)\n  }\n  \n  module.hot.accept(\"./fileEditor.vue?vue&type=template&id=9303ca50&scoped=true&ts=true\", () => {\n    api.rerender('9303ca50', render)\n  })\n\n}\n\n\nexport default __exports__","export * from \"-!../../../../node_modules/style-loader/dist/cjs.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./fileEditor.vue?vue&type=style&index=0&id=9303ca50&scoped=true&lang=css\"","export { default } from \"-!../../../../node_modules/ts-loader/index.js??clonedRuleSet-2!../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./fileEditor.vue?vue&type=script&setup=true&lang=ts\"; export * from \"-!../../../../node_modules/ts-loader/index.js??clonedRuleSet-2!../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./fileEditor.vue?vue&type=script&setup=true&lang=ts\"","export * from \"-!../../../../node_modules/ts-loader/index.js??clonedRuleSet-2!../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./fileEditor.vue?vue&type=template&id=9303ca50&scoped=true&ts=true\""],"names":[],"sourceRoot":""}