{"version":3,"file":"6591.js?ver=0.0.285_1702536235187","mappings":"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","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?2ae0","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?d26f","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue?fb36","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/moveItem.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n*[data-v-5a6574b6] {\\n    font-family: \\\"Roboto\\\";\\n}\\n.container[data-v-5a6574b6] {\\n      padding: 32px 0px 20px;\\n}\\nul[data-v-5a6574b6] {\\n    list-style-type: none;\\n}\\n  /* .move-to-target {\\n      margin: 0;\\n      color: #151233;\\n      font-weight: 400;\\n      font-size: 14px;\\n      letter-spacing: 0px;\\n      cursor: pointer;\\n      display: flex;\\n      align-items: center;\\n    } */\\n    /* .move-to-target .mdi {\\n      font-size: 24px;\\n      margin-right: 10px;\\n    } */\\n.createLi[data-v-5a6574b6] {\\n    cursor: pointer;\\n}\\n.move-to-item[data-v-5a6574b6] {\\n    padding-top: 1px;\\n    padding-right: 20px;\\n}\\n.move-to-item[data-v-5a6574b6]:not(.item-disabled):hover {\\n    background: #D5D5D5;\\n}\\n.item-disabled[data-v-5a6574b6] {\\n    opacity: 0.5;\\n}\\n.buttons-div[data-v-5a6574b6] {\\n      display: flex;\\n      justify-content: end;\\n      margin-top: 52px;\\n      padding: 0 20px;\\n}\\n.cancel-button[data-v-5a6574b6] {\\n      font-weight: 500;\\n      font-size: 16px;\\n      text-align: center;\\n      color: #757575;\\n      display: flex;\\n      align-items: center;\\n      padding: 8px 16px;\\n      border-radius: 4px;\\n      margin-right: 4px;\\n      border: none;\\n      background: transparent;\\n}\\n.move-button[data-v-5a6574b6] {\\n      font-weight: 500;\\n      font-size: 16px;\\n      text-align: center;\\n      color: #FFFFFF;\\n      background: #151233;\\n      display: flex;\\n      align-items: center;\\n      padding: 8px 16px;\\n      border-radius: 4px;\\n      border: none;\\n}\\n.move-button[data-v-5a6574b6]:disabled {\\n      color: #757575;\\n}\\n\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/moveItem.vue\"],\"names\":[],\"mappings\":\";AAsFE;IACE,qBAAqB;AACvB;AACA;MACI,sBAAsB;AAC1B;AACA;IACE,qBAAqB;AACvB;EACA;;;;;;;;;OASK;IACH;;;OAGG;AACL;IACE,eAAe;AACjB;AAEA;IACE,gBAAgB;IAChB,mBAAmB;AACrB;AAEA;IACE,mBAAmB;AACrB;AAEA;IACE,YAAY;AACd;AACA;MACI,aAAa;MACb,oBAAoB;MACpB,gBAAgB;MAChB,eAAe;AACnB;AACA;MACI,gBAAgB;MAChB,eAAe;MACf,kBAAkB;MAClB,cAAc;MACd,aAAa;MACb,mBAAmB;MACnB,iBAAiB;MACjB,kBAAkB;MAClB,iBAAiB;MACjB,YAAY;MACZ,uBAAuB;AAC3B;AACA;MACI,gBAAgB;MAChB,eAAe;MACf,kBAAkB;MAClB,cAAc;MACd,mBAAmB;MACnB,aAAa;MACb,mBAAmB;MACnB,iBAAiB;MACjB,kBAAkB;MAClB,YAAY;AAChB;AACA;MACI,cAAc;AAClB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { onUnmounted, ref, onMounted } from \\\"vue\\\";\\nimport { PathHelper } from \\\"../../../../../../common/helpers/pathHelper\\\";\\nimport { container } from '../../../../domain/core/diContainer';\\nimport { IMoveItemInline } from '../../../../domain/presentation/dialogs/IMoveItemProps';\\nimport { ITreeItem, ITreeView } from \\\"../../../../domain/presentation/ITreeView\\\";\\nimport { FileDisplayerExternalData, IFileDisplayerUseCase } from \\\"../../../../domain/useCase/IFileDisplayerUseCase\\\";\\nimport { FileExplorerConstants } from \\\"../../../../domain/useCase/IFileExplorer\\\";\\nimport { IMoveTargetRequired, IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\\nimport { IViewModelManager } from \\\"../../../../domain/viewModel/IViewModelManager\\\";\\n\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);\\nconst param = defineProps<{ param: IMoveItemInline }>();\\nconst props = param.param;\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst viewModelManager = container.resolve<IViewModelManager>(IViewModelManager);\\nconst emit = defineEmits([\\\"close\\\"]);\\nconst rootDiv = ref<HTMLDivElement>();\\nconst fileDisplayer = container.resolve<IFileDisplayerUseCase>(IFileDisplayerUseCase);\\n\\nlet selected: ITreeItem<FileDisplayerExternalData> | undefined = undefined;\\nlet treeView: ITreeView<FileDisplayerExternalData>;\\nonMounted(() => {\\n  const app = viewModelManager.getCurrentApplication()!;\\n  treeView = fileDisplayer.createFileExplorerClone(rootDiv.value!,\\n  {\\n    displayFilterer: item => item.objectType != \\\"model\\\" && item.ID != FileExplorerConstants.uiSettingsID,\\n    cb: { select: item => selected = item },\\n    additionalRoot: { externalData: app, id: app.ID, name: app.name },\\n  });\\n});\\n\\nonUnmounted(() => {\\n  treeView.reset();\\n});\\n\\nasync function move() {\\n  await executor.execute(async () => {\\n    if (!selected) { return; }\\n    let target: Partial<IMoveTargetRequired>;\\n    switch (selected.externalData.objectType) {\\n      case \\\"model\\\": throw new Error(\\\"unexpected target\\\");\\n      case \\\"folder\\\":\\n        const folder = selected.externalData;\\n        target = {\\n          address: { name: props.itemToBeMoved.name, path: PathHelper.join(folder.path , folder.name) },\\n          owner: folder.owner.ID != props.itemToBeMoved.owner.ID ? { id: folder.owner.ID, type: folder.owner.objectType } : undefined,\\n        };\\n        break;\\n      case \\\"module\\\":\\n        const module = selected.externalData;\\n        target = { owner: { id: module.ID, type: \\\"module\\\" }, address: { path: \\\"/\\\", name: \\\"\\\" } };\\n        break;\\n      case \\\"application\\\":\\n        const application = selected.externalData;\\n        target = { owner: { id: application.ID, type: \\\"application\\\" }, address: { path: \\\"/\\\", name: \\\"\\\" } };\\n        break;\\n    }\\n    await moveUseCase.moveItem(props.itemToBeMoved, target);\\n    emit(\\\"close\\\");\\n  }, { loading: true });\\n}\\n\\nfunction close() {\\n  emit(\\\"close\\\");\\n}\\n\\n</script> \\n\\n<template>\\n  <div class=\\\"container\\\">\\n    <div id=\\\"content-area\\\" class=\\\"popover__content\\\">\\n      <div ref=\\\"rootDiv\\\" style=\\\"height: 100%\\\" class=\\\"errorDiv\\\"></div>\\n      <div class=\\\"buttons-div\\\">\\n        <button class=\\\"cancel-button\\\" @click=\\\"close()\\\">Cancel</button>\\n        <button class=\\\"move-button\\\" @click=\\\"move()\\\">MOVE</button>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n\\n<style scoped>\\n  * {\\n    font-family: \\\"Roboto\\\";\\n  }\\n  .container {\\n      padding: 32px 0px 20px;\\n  }\\n  ul {\\n    list-style-type: none;\\n  }\\n  /* .move-to-target {\\n      margin: 0;\\n      color: #151233;\\n      font-weight: 400;\\n      font-size: 14px;\\n      letter-spacing: 0px;\\n      cursor: pointer;\\n      display: flex;\\n      align-items: center;\\n    } */\\n    /* .move-to-target .mdi {\\n      font-size: 24px;\\n      margin-right: 10px;\\n    } */\\n  .createLi {\\n    cursor: pointer;\\n  }\\n\\n  .move-to-item {\\n    padding-top: 1px;\\n    padding-right: 20px;\\n  }\\n\\n  .move-to-item:not(.item-disabled):hover {\\n    background: #D5D5D5;\\n  }\\n\\n  .item-disabled {\\n    opacity: 0.5;\\n  }\\n  .buttons-div {\\n      display: flex;\\n      justify-content: end;\\n      margin-top: 52px;\\n      padding: 0 20px;\\n  }\\n  .cancel-button {\\n      font-weight: 500;\\n      font-size: 16px;\\n      text-align: center;\\n      color: #757575;\\n      display: flex;\\n      align-items: center;\\n      padding: 8px 16px;\\n      border-radius: 4px;\\n      margin-right: 4px;\\n      border: none;\\n      background: transparent;\\n  }\\n  .move-button {\\n      font-weight: 500;\\n      font-size: 16px;\\n      text-align: center;\\n      color: #FFFFFF;\\n      background: #151233;\\n      display: flex;\\n      align-items: center;\\n      padding: 8px 16px;\\n      border-radius: 4px;\\n      border: none;\\n  }\\n  .move-button:disabled {\\n      color: #757575;\\n  }\\n\\n</style>\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5a6574b6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = {\n  id: \"content-area\",\n  class: \"popover__content\"\n}\nconst _hoisted_3 = { class: \"buttons-div\" }\n\nimport { onUnmounted, ref, onMounted } from \"vue\";\nimport { PathHelper } from \"../../../../../../common/helpers/pathHelper\";\nimport { container } from '../../../../domain/core/diContainer';\nimport { IMoveItemInline } from '../../../../domain/presentation/dialogs/IMoveItemProps';\nimport { ITreeItem, ITreeView } from \"../../../../domain/presentation/ITreeView\";\nimport { FileDisplayerExternalData, IFileDisplayerUseCase } from \"../../../../domain/useCase/IFileDisplayerUseCase\";\nimport { FileExplorerConstants } from \"../../../../domain/useCase/IFileExplorer\";\nimport { IMoveTargetRequired, IMoveUseCase } from '../../../../domain/useCase/IMoveUseCase';\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\nimport { IViewModelManager } from \"../../../../domain/viewModel/IViewModelManager\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'moveItem',\n  props: {\n    param: null\n  },\n  emits: [\"close\"],\n  setup(__props: any, { emit }) {\n\nconst param = __props as { param: IMoveItemInline };\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst moveUseCase = container.resolve<IMoveUseCase>(IMoveUseCase);\n\nconst props = param.param;\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst viewModelManager = container.resolve<IViewModelManager>(IViewModelManager);\n\nconst rootDiv = ref<HTMLDivElement>();\nconst fileDisplayer = container.resolve<IFileDisplayerUseCase>(IFileDisplayerUseCase);\n\nlet selected: ITreeItem<FileDisplayerExternalData> | undefined = undefined;\nlet treeView: ITreeView<FileDisplayerExternalData>;\nonMounted(() => {\n  const app = viewModelManager.getCurrentApplication()!;\n  treeView = fileDisplayer.createFileExplorerClone(rootDiv.value!,\n  {\n    displayFilterer: item => item.objectType != \"model\" && item.ID != FileExplorerConstants.uiSettingsID,\n    cb: { select: item => selected = item },\n    additionalRoot: { externalData: app, id: app.ID, name: app.name },\n  });\n});\n\nonUnmounted(() => {\n  treeView.reset();\n});\n\nasync function move() {\n  await executor.execute(async () => {\n    if (!selected) { return; }\n    let target: Partial<IMoveTargetRequired>;\n    switch (selected.externalData.objectType) {\n      case \"model\": throw new Error(\"unexpected target\");\n      case \"folder\":\n        const folder = selected.externalData;\n        target = {\n          address: { name: props.itemToBeMoved.name, path: PathHelper.join(folder.path , folder.name) },\n          owner: folder.owner.ID != props.itemToBeMoved.owner.ID ? { id: folder.owner.ID, type: folder.owner.objectType } : undefined,\n        };\n        break;\n      case \"module\":\n        const module = selected.externalData;\n        target = { owner: { id: module.ID, type: \"module\" }, address: { path: \"/\", name: \"\" } };\n        break;\n      case \"application\":\n        const application = selected.externalData;\n        target = { owner: { id: application.ID, type: \"application\" }, address: { path: \"/\", name: \"\" } };\n        break;\n    }\n    await moveUseCase.moveItem(props.itemToBeMoved, target);\n    emit(\"close\");\n  }, { loading: true });\n}\n\nfunction close() {\n  emit(\"close\");\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        ref_key: \"rootDiv\",\n        ref: rootDiv,\n        style: {\"height\":\"100%\"},\n        class: \"errorDiv\"\n      }, null, 512 /* NEED_PATCH */),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"button\", {\n          class: \"cancel-button\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (close()))\n        }, \"Cancel\"),\n        _createElementVNode(\"button\", {\n          class: \"move-button\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (move()))\n        }, \"MOVE\")\n      ])\n    ])\n  ]))\n}\n}\n\n})","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=0&id=5a6574b6&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./moveItem.vue?vue&type=style&index=0&id=5a6574b6&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./moveItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./moveItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./moveItem.vue?vue&type=style&index=0&id=5a6574b6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/studio/studio/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5a6574b6\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","_hoisted_1","class","_hoisted_2","_hoisted_3","__name","props","param","emits","setup","__props","emit","executor","resolve","IUseCaseExecutor","moveUseCase","IMoveUseCase","viewModelManager","IViewModel","IViewModelManager","rootDiv","fileDisplayer","IFileDisplayerUseCase","selected","treeView","app","getCurrentApplication","createFileExplorerClone","value","displayFilterer","item","objectType","ID","uiSettingsID","cb","select","additionalRoot","externalData","name","reset","_ctx","_cache","_","ref_key","ref","style","onClick","$event","async","execute","target","Error","folder","address","itemToBeMoved","path","join","owner","type","undefined","moveItem","loading","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals"],"sourceRoot":""}