{"version":3,"file":"419.js","mappings":"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","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/systemuser/createDomain.vue?fae6","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/systemuser/createDomain.vue?e301","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/systemuser/createDomain.vue?5fc2","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/systemuser/createDomain.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.input-line[data-v-b0055540] {\\n    margin-top: 20px;\\n    margin-left: 10px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/systemuser/createDomain.vue\"],\"names\":[],\"mappings\":\";AA+EA;IACI,gBAAgB;IAChB,iBAAiB;AACrB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { ref } from \\\"vue\\\";\\nimport { container } from \\\"../../../../../domain/core/diContainer\\\";\\nimport { IUseCaseExecutor } from \\\"../../../../../domain/useCase/IUseCaseExecutor\\\";\\nimport { ISystemUserManagement } from \\\"../../../../../domain/useCase/ISystemUserManagement\\\";\\n\\ninterface IInitialUser {\\n    userName?: string;\\n    userEmail?: string;\\n    userPassword?: string;\\n}\\n\\nconst emit = defineEmits([\\\"close\\\"]);\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst systemUserManagement = container.resolve<ISystemUserManagement>(ISystemUserManagement);\\n\\nconst name = ref<string>();\\nconst apps = ref<Record<string, boolean>>({ quick: true, bpmn: true, entity: true, flow: true, process: true });\\nconst appItems = ref(Object.keys(apps.value));\\nconst createInitials = ref<boolean>(true);\\nconst initialUser = ref<IInitialUser>({});\\n\\nasync function create() {\\n    await executor.execute(async () => {\\n        if (!name.value) { alert(\\\"name required!\\\"); return; }\\n\\n        let falseCounter = 0;\\n        const keys = Object.keys(apps.value);\\n        keys.forEach(app => { if ((apps.value as Record<string, boolean>)[app] == false) { falseCounter++; } });\\n        if (falseCounter == keys.length) { alert(\\\"You must choose an application at least!\\\"); return; }\\n\\n        let user = undefined;\\n        if (createInitials.value) {\\n            const { userName, userEmail, userPassword } = initialUser.value;\\n            if ((!userName || !userEmail || !userPassword)) {\\n                alert(\\\"'userName', 'userEmail' and 'userPassword' fields are required!\\\");\\n                return;\\n            }\\n            user = { userName, userEmail, userPassword };\\n        }\\n\\n        await systemUserManagement.createDomain(name.value, apps.value, user);\\n        emit(\\\"close\\\");\\n    }, { loading: true });\\n}\\n\\n</script>\\n<template>\\n    <div class=\\\"input-line\\\">\\n        Domain Name <input type=\\\"text\\\" v-model=\\\"name\\\" @input=\\\"(val) => (name = name?.toUpperCase())\\\" />\\n    </div>\\n    <div class=\\\"input-line\\\">\\n        DB Name {{name ? `DB${name}`: \\\"\\\"}}\\n    </div>\\n    <div class=\\\"input-line\\\">\\n        Applications\\n        <div v-for=\\\"item in appItems\\\">{{ item }} <input type=\\\"checkbox\\\" v-model=\\\"apps[item]\\\" /></div>\\n    </div>\\n    <div class=\\\"input-line\\\">\\n        <input type=\\\"checkbox\\\" v-model=\\\"createInitials\\\">\\n        Create the initial admin user\\n    </div>\\n    <div class=\\\"input-line\\\" v-if=\\\"createInitials\\\">\\n        <div class=\\\"input-line\\\">\\n            User Name <input type=\\\"text\\\" v-model=\\\"initialUser.userName\\\" />\\n        </div>\\n        <div class=\\\"input-line\\\">\\n            User Email <input type=\\\"text\\\" v-model=\\\"initialUser.userEmail\\\" />\\n        </div>\\n        <div class=\\\"input-line\\\">\\n            Password <input type=\\\"password\\\" v-model=\\\"initialUser.userPassword\\\" />\\n        </div>\\n    </div>\\n    <div class=\\\"input-line\\\">\\n        <button @click=\\\"create()\\\">Create</button>\\n    </div>\\n</template>\\n\\n<style scoped>\\n.input-line {\\n    margin-top: 20px;\\n    margin-left: 10px;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b0055540\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"input-line\" }\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Domain Name \")\nconst _hoisted_3 = { class: \"input-line\" }\nconst _hoisted_4 = { class: \"input-line\" }\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" Applications \")\nconst _hoisted_6 = [\"onUpdate:modelValue\"]\nconst _hoisted_7 = { class: \"input-line\" }\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\" Create the initial admin user \")\nconst _hoisted_9 = {\n  key: 0,\n  class: \"input-line\"\n}\nconst _hoisted_10 = { class: \"input-line\" }\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\" User Name \")\nconst _hoisted_12 = { class: \"input-line\" }\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\" User Email \")\nconst _hoisted_14 = { class: \"input-line\" }\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\" Password \")\nconst _hoisted_16 = { class: \"input-line\" }\n\nimport { ref } from \"vue\";\nimport { container } from \"../../../../../domain/core/diContainer\";\nimport { IUseCaseExecutor } from \"../../../../../domain/useCase/IUseCaseExecutor\";\nimport { ISystemUserManagement } from \"../../../../../domain/useCase/ISystemUserManagement\";\n\ninterface IInitialUser {\n    userName?: string;\n    userEmail?: string;\n    userPassword?: string;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'createDomain',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst systemUserManagement = container.resolve<ISystemUserManagement>(ISystemUserManagement);\n\nconst name = ref<string>();\nconst apps = ref<Record<string, boolean>>({ quick: true, bpmn: true, entity: true, flow: true, process: true });\nconst appItems = ref(Object.keys(apps.value));\nconst createInitials = ref<boolean>(true);\nconst initialUser = ref<IInitialUser>({});\n\nasync function create() {\n    await executor.execute(async () => {\n        if (!name.value) { alert(\"name required!\"); return; }\n\n        let falseCounter = 0;\n        const keys = Object.keys(apps.value);\n        keys.forEach(app => { if ((apps.value as Record<string, boolean>)[app] == false) { falseCounter++; } });\n        if (falseCounter == keys.length) { alert(\"You must choose an application at least!\"); return; }\n\n        let user = undefined;\n        if (createInitials.value) {\n            const { userName, userEmail, userPassword } = initialUser.value;\n            if ((!userName || !userEmail || !userPassword)) {\n                alert(\"'userName', 'userEmail' and 'userPassword' fields are required!\");\n                return;\n            }\n            user = { userName, userEmail, userPassword };\n        }\n\n        await systemUserManagement.createDomain(name.value, apps.value, user);\n        emit(\"close\");\n    }, { loading: true });\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _hoisted_2,\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((name).value = $event)),\n        onInput: _cache[1] || (_cache[1] = (val) => (name.value = name.value?.toUpperCase()))\n      }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [\n        [_vModelText, name.value]\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, \" DB Name \" + _toDisplayString(name.value ? `DB${name.value}`: \"\"), 1 /* TEXT */),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _hoisted_5,\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(appItems.value, (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", null, [\n          _createTextVNode(_toDisplayString(item) + \" \", 1 /* TEXT */),\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"checkbox\",\n            \"onUpdate:modelValue\": ($event: any) => ((apps.value[item]) = $event)\n          }, null, 8 /* PROPS */, _hoisted_6), [\n            [_vModelCheckbox, apps.value[item]]\n          ])\n        ]))\n      }), 256 /* UNKEYED_FRAGMENT */))\n    ]),\n    _createElementVNode(\"div\", _hoisted_7, [\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"checkbox\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((createInitials).value = $event))\n      }, null, 512 /* NEED_PATCH */), [\n        [_vModelCheckbox, createInitials.value]\n      ]),\n      _hoisted_8\n    ]),\n    (createInitials.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n          _createElementVNode(\"div\", _hoisted_10, [\n            _hoisted_11,\n            _withDirectives(_createElementVNode(\"input\", {\n              type: \"text\",\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((initialUser.value.userName) = $event))\n            }, null, 512 /* NEED_PATCH */), [\n              [_vModelText, initialUser.value.userName]\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_12, [\n            _hoisted_13,\n            _withDirectives(_createElementVNode(\"input\", {\n              type: \"text\",\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((initialUser.value.userEmail) = $event))\n            }, null, 512 /* NEED_PATCH */), [\n              [_vModelText, initialUser.value.userEmail]\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_14, [\n            _hoisted_15,\n            _withDirectives(_createElementVNode(\"input\", {\n              type: \"password\",\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((initialUser.value.userPassword) = $event))\n            }, null, 512 /* NEED_PATCH */), [\n              [_vModelText, initialUser.value.userPassword]\n            ])\n          ])\n        ]))\n      : _createCommentVNode(\"v-if\", true),\n    _createElementVNode(\"div\", _hoisted_16, [\n      _createElementVNode(\"button\", {\n        onClick: _cache[6] || (_cache[6] = ($event: any) => (create()))\n      }, \"Create\")\n    ])\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./createDomain.vue?vue&type=style&index=0&id=b0055540&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./createDomain.vue?vue&type=style&index=0&id=b0055540&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./createDomain.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./createDomain.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./createDomain.vue?vue&type=style&index=0&id=b0055540&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/QCloud-Shell/QCloud-Shell/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b0055540\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","key","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","__name","emits","setup","__props","emit","executor","IUseCaseExecutor","systemUserManagement","ISystemUserManagement","name","apps","quick","bpmn","entity","flow","process","appItems","Object","keys","value","createInitials","initialUser","_ctx","_cache","_","type","$event","onInput","val","toUpperCase","item","userName","userEmail","userPassword","onClick","async","execute","alert","falseCounter","forEach","app","length","user","createDomain","loading","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}