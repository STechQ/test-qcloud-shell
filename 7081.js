"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[7081,419],{33927:(e,n,a)=>{a.d(n,{Z:()=>l});var t=a(8375),i=a.n(t),s=a(7638),r=a.n(s)()(i());r.push([e.id,"\n.users-page[data-v-269b6cd2] {\n    min-height: 100vh;\n    background: rgb(245, 245, 245);\n}\n\n/* User Select */\n.header[data-v-269b6cd2] {\n    width: 100%;\n    height: 64px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 14px 16px;    \n    background: white;\n    position: relative;\n    top: 0;\n    box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n    z-index: 1;\n    gap: 16px;\n}\n.left-section[data-v-269b6cd2] {\n    display: flex;\n    align-items: center;\n    min-width: 0;\n    flex: 1;\n    max-width: calc(50% - 100px);\n}\n.user-select[data-v-269b6cd2] {\n    width: 200px;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    padding: 0px 12px;\n    margin-right: 12px;\n    flex-shrink: 0;\n}\n.chips-container[data-v-269b6cd2] {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    overflow-x: auto;\n    \n    padding: 2px 0;\n}\n.chips-container[data-v-269b6cd2]::-webkit-scrollbar {\n    height: 4px;\n}\n.chips-container[data-v-269b6cd2]::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 2px;\n}\n.chips-container[data-v-269b6cd2]::-webkit-scrollbar-thumb {\n    background: #c1c1c1;\n    border-radius: 2px;\n}\n.chips-container[data-v-269b6cd2]::-webkit-scrollbar-thumb:hover {\n    background: #a1a1a1;\n}\n.header .chip[data-v-269b6cd2] {\n    background: #F5F5F5;\n    padding: 7px 10px;\n    border-radius: 4px;\n    white-space: nowrap;\n    flex-shrink: 0;\n    font-size: 14px;\n}\n\n/* Breadcrumb Container */\n.breadcrumb-container[data-v-269b6cd2] {\n    background: #FFFFFF;\n    padding: 16px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n    margin: 16px 32px 0px 32px;\n    border-radius: 8px;\n}\n.breadcrumb[data-v-269b6cd2] {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-size: 14px;\n    color: #757575;   \n    margin-bottom: 0px;\n}\n.breadcrumb i.mdi-arrow-left[data-v-269b6cd2] {\n    font-size: 20px;\n    cursor: pointer;\n    color: #212121;\n}\n.breadcrumb-separator[data-v-269b6cd2] {\n    color: #BCBCBC;\n    font-size: 14px;\n    user-select: none;\n}\n.breadcrumb-item[data-v-269b6cd2] {\n    color: #757575;\n    cursor: pointer;\n}\n.breadcrumb-item[data-v-269b6cd2]:hover {\n    color: black;\n}\n.breadcrumb-item.active[data-v-269b6cd2] {\n    color: #212121;\n    cursor: default;\n}\n.breadcrumb-item.active[data-v-269b6cd2]:hover {\n    color: #212121;\n}\n\n/* Users Title */\n.users-header[data-v-269b6cd2] {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin: 8px 32px 2px 32px;\n    padding: 16px;\n    background: #FFFFFF;\n    border-radius: 8px 8px 0 0;\n}\n\n/* Main Content Container */\n.users-content[data-v-269b6cd2] {\n    margin: 0px 32px 32px 32px;\n    padding: 16px;\n    background: #FFFFFF;\n    border-radius: 0 0 8px 8px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n    position: relative;\n}\n.users-title[data-v-269b6cd2] {\n    font-size: 24px;\n    font-weight: 500;\n    color: #212121;\n    margin: 0 0 8px 0;\n}\n.users-description[data-v-269b6cd2] {\n    font-size: 16px;\n    color: #757575;\n    margin: 0;\n}\n.users-actions[data-v-269b6cd2] {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16px;\n}\n.search-container[data-v-269b6cd2] {\n    position: relative;\n    width: 300px;\n}\n.search-input[data-v-269b6cd2] {\n    width: 100%;\n    height: 40px;\n    padding: 0 12px 0 12px;\n    border: 2px solid #E0E0E0;\n    border-radius: 4px;\n    font-size: 16px;\n    color: #212121;\n    background: #FFFFFF;\n}\n.search-input[data-v-269b6cd2]::placeholder {\n    color: #9E9E9E;\n    font-size: 16px;\n    font-weight: 400;\n}\n.search-input[data-v-269b6cd2]:focus {\n    outline: none;\n    border: 2px solid #E0E0E0;\n}\n.add-new-button[data-v-269b6cd2] {\n    height: 40px;\n    padding: 0 24px;\n    background: #FFFFFF;\n    border: 1px solid #151233;\n    border-radius: 4px;\n    font-size: 14px;\n    font-weight: 500;\n    color: #151233;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n.add-new-button[data-v-269b6cd2]:hover {\n    background: #151233;\n    color: #FFFFFF;\n}\n\n/* Table Divider */\n.table-divider[data-v-269b6cd2] {\n    height: 1px;\n    background: #E0E0E0;\n    margin-bottom: 16px;\n}\n.action-button[data-v-269b6cd2] {\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n}\n\n",""]);const l=r},48065:(e,n,a)=>{a.d(n,{Z:()=>l});var t=a(8375),i=a.n(t),s=a(7638),r=a.n(s)()(i());r.push([e.id,"\n/* CustomSelect Styles */\n.user-select {\n    width: 200px;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    border: 1px solid #BCBCBC;\n    border-radius: 4px;\n    padding: 0px 12px;\n    margin-right: 12px;\n    flex-shrink: 0;\n}\n.user-select .items {\n    color: #212121;\n    border-radius: 8px;\n    border: 1px solid #E3E3E3;\n    overflow: hidden;\n    background-color: #FFFFFF;\n    box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);\n    margin-top: 8px;\n}\n.user-select .items .option {\n    color: #212121;\n    padding-left: 12px;\n    line-height: 32px;\n}\n.user-select .items .option:hover {\n    background-color: #EEEEEE;\n}\n.user-select i {\n    font-size: 16px;\n    color: #BCBCBC;\n}\n\n/* Table Badges */\n.users-table .role-badge,\n.users-table .swimlane-badge {\n    display: inline-block;\n    padding: 7px 10px;\n    margin: 2px 4px 2px 0;\n    background: #F5F5F5;\n    border-radius: 4px;\n    font-size: 14px;\n    flex-shrink: 0;\n    white-space: nowrap;\n}\n",""]);const l=r},50419:(e,n,a)=>{a.d(n,{L:()=>t});const t=Symbol.for("INotification")},7081:(e,n,a)=>{a.r(n),a.d(n,{default:()=>K});var t=a(71093),i=a(73843),s=a(66190),r=a(46233),l=a(86520),o=a(97432),d=a(5627),c=a(1937),p=a(83487),u=a(91056),b=a(1850),x=a(67332),v=a(50419);const h=e=>((0,t.dD)("data-v-269b6cd2"),e=e(),(0,t.Cn)(),e),m={class:"users-page"},g={class:"header"},w={class:"left-section"},f={class:"chips-container"},y={class:"breadcrumb-container"},F={class:"breadcrumb"},k=h((()=>(0,t._)("span",{class:"breadcrumb-separator"},"\\",-1))),C=h((()=>(0,t._)("span",{class:"breadcrumb-item active"},"Users",-1))),E=h((()=>(0,t._)("div",{class:"users-header"},[(0,t._)("div",null,[(0,t._)("h2",{class:"users-title"},"Users"),(0,t._)("p",{class:"users-description"},"Users description will be here, it can be much longer than this text sample.")])],-1))),S={class:"users-content"},U={class:"users-actions"},_={class:"search-container"},I={class:"users-table"},D=(0,t.aZ)({__name:"users",setup(e){const n=d.nC.resolve(c.v5),h=(0,x.yj)(),D=d.nC.resolve(p.y),B=d.nC.resolve(u.u),z=d.nC.resolve(b.u),H=z.getWorkflowFromOpener(),Z=h.query.source,A=(0,i.iH)([]),N=(0,i.iH)(""),T=(0,i.iH)(!1),j=(0,i.iH)([]),q=(0,i.iH)(""),L=(0,i.iH)(),O=(0,t.Fl)((()=>{var e;return(null===(e=A.value.find((e=>e.userId==q.value)))||void 0===e?void 0:e.roles)||[]})),W=(0,t.Fl)((()=>{var e;return(null===(e=A.value.find((e=>e.userId==q.value)))||void 0===e?void 0:e.swimlanes)||[]})),$=d.nC.resolve(v.L),P=(0,i.iH)([{title:"Username",field:"fullName",headerStyle:{width:"20%"}},{title:"Unit Code",field:"unit",headerStyle:{width:"15%"},body:e=>e?e.id:""},{title:"Roles",field:"roles",headerStyle:{width:"30%"},cellStyle:{maxWidth:"1px"},body:e=>e?`<div style="display: flex; align-items: center; gap: 8px; overflow-x: auto; min-width: 0; scrollbar-width: thin;">\n                ${e.map((e=>`<span class='role-badge'>${e}</span>`)).join("")}\n            </div>`:""},{title:"Swimlane",field:"swimlanes",headerStyle:{width:"30%"},cellStyle:{maxWidth:"1px"},body:e=>e?`<div style="display: flex; align-items: center; gap: 8px; overflow-x: auto; min-width: 0; scrollbar-width: thin;">\n                ${e.map((e=>`<span class='swimlane-badge'>${e}</span>`)).join("")}\n            </div>`:""}]);(0,t.bv)((async()=>{D.execute((async()=>{await M()}),{loading:!0})}));const M=async()=>{T.value=!0;try{A.value=await z.listUsers(),R();const e=H.getUser();e?(L.value={name:e.fullName,id:e.userId},q.value=e.userId):(L.value={name:A.value[0].fullName,id:A.value[0].userId},q.value=A.value[0].userId,H.setUser(A.value[0]))}catch(e){console.error("Error loading users:",e)}finally{T.value=!1}},R=()=>{j.value=A.value.map((e=>({name:e.fullName,id:e.userId}))),j.value.unshift({name:"All Users",id:""})},K=e=>{q.value=e;const n=A.value.find((n=>n.userId===e));n&&H.setUser(n)},Y=(0,t.Fl)((()=>{let e=A.value;if(N.value){const n=N.value.toLowerCase();e=e.filter((e=>{var a,t,i,s,r,l;return(null===(a=e.fullName)||void 0===a?void 0:a.toLowerCase().includes(n))||(null===(t=e.userId)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(s=null===(i=e.unit)||void 0===i?void 0:i.id)||void 0===s?void 0:s.toLowerCase().includes(n))||(null===(r=e.roles)||void 0===r?void 0:r.some((e=>e.toLowerCase().includes(n))))||(null===(l=e.swimlanes)||void 0===l?void 0:l.some((e=>e.toLowerCase().includes(n))))}))}return e}));function V(){"processInstanceStarter"===Z?n.push("/processlivepreview/processInstanceStarter"):n.push("/processlivepreview/dashboard")}function G(){D.execute((async()=>{B.showDialog((0,t.RC)((()=>Promise.all([a.e(3507),a.e(4378)]).then(a.bind(a,13507)))),{closable:!0,width:"604px",maxHeight:"400px",overflow:"auto",title:"Create New User",closeOnOutClick:!0,closeCb:async e=>{"component"===e&&await M()}},{allUsers:A.value})}),{loading:!0})}function J(e){D.execute((async()=>{B.showDialog((0,t.RC)((()=>Promise.all([a.e(3507),a.e(4378)]).then(a.bind(a,13507)))),{closable:!0,width:"604px",maxHeight:"400px",overflow:"auto",title:"Edit User",closeOnOutClick:!0,closeCb:async e=>{"component"===e&&await M()}},{editUser:e,allUsers:A.value})}),{loading:!0})}async function Q(e){(await $.showConfirm({title:"Delete User",text:`Are you sure you want to delete user : ${e.fullName}`,type:"warning",approveText:"Delete",rejectText:"Cancel"})).approved&&await D.execute((async()=>{await H.deleteUser(e.userId),await M(),await $.showNotification({title:"User Deleted",text:`User ${e.fullName} deleted successfully`,type:"success"})}),{loading:!0})}return(e,n)=>((0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("header",g,[(0,t._)("div",w,[(0,t.Wm)(o.Z,{class:"user-select",defaultForObject:L.value,options:j.value,multiple:!1,onInput:K,placeholder:"Select User",optionsHeight:"300px"},null,8,["defaultForObject","options"]),(0,t._)("div",f,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,i.SU)(O),(e=>((0,t.wg)(),(0,t.iD)("span",{key:e,class:"chip"},(0,s.toDisplayString)(e),1)))),128)),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,i.SU)(W),((e,n)=>((0,t.wg)(),(0,t.iD)("span",{key:"lane"+n,class:"chip"},(0,s.toDisplayString)(e),1)))),128))])])]),(0,t.kq)(" Breadcrumb "),(0,t._)("div",y,[(0,t._)("div",F,[(0,t._)("i",{class:"mdi mdi-arrow-left",onClick:V}),(0,t._)("span",{class:"breadcrumb-item",onClick:V},(0,s.toDisplayString)("processInstanceStarter"===Z?"Process Instance Starter":"Home"),1),k,C])]),(0,t.kq)(" Header "),E,(0,t.kq)(" Main Content "),(0,t._)("div",S,[(0,t.kq)(" Search and Actions "),(0,t._)("div",U,[(0,t._)("div",_,[(0,t.wy)((0,t._)("input",{type:"text",class:"search-input",placeholder:"Search users","onUpdate:modelValue":n[0]||(n[0]=e=>N.value=e)},null,512),[[r.vModelText,N.value]])]),(0,t._)("button",{class:"add-new-button",onClick:G}," ADD NEW ")]),(0,t.kq)(" Table "),(0,t._)("div",I,[(0,t.Wm)(l.Z,{columns:P.value,data:(0,i.SU)(Y),loading:T.value,actions:[],otherActions:[{name:"Edit",class:"dropdown-item",icon:"mdi mdi-pencil",onClick:J},{name:"Delete",class:"dropdown-item",icon:"mdi mdi-delete",onClick:Q}],isOtherActionsActive:!0,height:"calc(100vh - 420px)"},null,8,["columns","data","loading","otherActions"])])])]))}});var B=a(17450),z=a.n(B),H=a(29530),Z=a.n(H),A=a(16199),N=a.n(A),T=a(40458),j=a.n(T),q=a(62916),L=a.n(q),O=a(92165),W=a.n(O),$=a(33927),P={};P.styleTagTransform=W(),P.setAttributes=j(),P.insert=N().bind(null,"head"),P.domAPI=Z(),P.insertStyleElement=L(),z()($.Z,P),$.Z&&$.Z.locals&&$.Z.locals;var M=a(48065),R={};R.styleTagTransform=W(),R.setAttributes=j(),R.insert=N().bind(null,"head"),R.domAPI=Z(),R.insertStyleElement=L(),z()(M.Z,R),M.Z&&M.Z.locals&&M.Z.locals;const K=(0,a(32525).Z)(D,[["__scopeId","data-v-269b6cd2"]])}}]);