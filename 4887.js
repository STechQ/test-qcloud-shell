"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[4887],{66914:(e,n,o)=>{o.d(n,{Z:()=>d});var t=o(8375),i=o.n(t),l=o(7638),a=o.n(l)()(i());a.push([e.id,"\n.appitems-header[data-v-5e96bf02] {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin: 0 0 8px 0;\n}\n.appitems-header-right[data-v-5e96bf02] {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    margin-right: 16px;\n}\n.switch-container[data-v-5e96bf02] {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    white-space: nowrap;\n}\n.switch-label[data-v-5e96bf02] {\n    font-size: 14px;\n    line-height: 16px;\n    color: #212121\n}\n.collapse-icon[data-v-5e96bf02] {\n    cursor: pointer;\n    font-size: 20px;\n    color: #151233;\n}\n.modules-selected-checkbox[data-v-5e96bf02] {\n    cursor: pointer;\n}\n.modules-selected-text[data-v-5e96bf02] {\n    font: normal normal normal 14px/19px Roboto;\n    color: #757575;\n    margin-left: 30px;\n}\n.text-number[data-v-5e96bf02] {\n    font: normal normal bold 14px/19px Roboto;\n    color: #212121;\n}\n.modules-datatable[data-v-5e96bf02] {\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n}\n.modules-datatable[data-v-5e96bf02]::-webkit-scrollbar-thumb {\n    background: #bcbcbc 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n}\n.modules-datatable[data-v-5e96bf02]::-webkit-scrollbar-thumb:hover {\n        background: #555555 0% 0% no-repeat padding-box;\n}\n.mobile-publish-text[data-v-5e96bf02],\n.web-publish-text[data-v-5e96bf02] {\n    padding: 5px 12px;\n    margin-bottom: 52px;\n    width: 100%;\n    color: #757575;\n    font-size: 14px;\n    background: #F5F5FA;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n}\n.mobile-publish-text i[data-v-5e96bf02],\n.web-publish-text i[data-v-5e96bf02] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 4px;\n}\n.stop-working-search[data-v-5e96bf02] {\n    margin-bottom: 15px;\n}\n.stop-working-search .search-input-wrapper[data-v-5e96bf02] {\n    position: relative;\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n}\n.stop-working-search .search-icon[data-v-5e96bf02] {\n    position: absolute;\n    padding: 0 0 4px 4px;\n    color: #757575;\n    font-size: 18px;\n}\n.stop-working-search .search-input[data-v-5e96bf02] {\n    width: 856px;\n    height: 32px;\n    padding: 8px 36px 8px 36px;\n    background: #FFFFFF;\n    border: 1px solid #E0E0E0;\n    border-radius: 4px;\n    font-size: 14px;\n    font-family: 'Roboto';\n}\n.stop-working-search .search-input[data-v-5e96bf02]:focus {\n    outline: none;\n    border-color: #151233;\n}\n.stop-working-search .clear-icon[data-v-5e96bf02] {\n    position: absolute;\n    right: 10px;\n    color: #757575;\n    font-size: 18px;\n    cursor: pointer;\n}\n.no-results[data-v-5e96bf02] {\n    padding: 20px;\n    text-align: center;\n    color: #757575;\n    font-style: italic;\n    border: 1px solid #E0E0E0;\n    border-radius: 4px;\n}\n.no-files-message[data-v-5e96bf02] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 257px;\n  width: 856px;\n  font-size: 15px;\n  font-weight: 400;\n  color: #666;\n  text-align: center;\n  background-color: #F5F5F5;\n  border: 1px solid #E3E3E3;\n  border-radius: 8px;\n}\n.files-header[data-v-5e96bf02] {\n  font-family: 'Roboto'; \n  margin: 12px 0 8px 0;\n  font-size: 15px;\n  font-weight: 500;\n  color: #151233;\n}\n",""]);const d=a},8196:(e,n,o)=>{o.d(n,{Z:()=>d});var t=o(8375),i=o.n(t),l=o(7638),a=o.n(l)()(i());a.push([e.id,"\n.badge[data-v-740f3757] {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  white-space: nowrap;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1;\n  padding: 5px 8px;\n  border-radius: 4px;\n}\n.badge--default[data-v-740f3757] {\n  background-color: #d0d1e9;\n  color: #2f3160;\n}\n.badge--info[data-v-740f3757] {\n  background-color: #e0f2fe;\n  color: #0369a1;\n}\n.badge--success[data-v-740f3757] {\n  background-color: #dcfce7;\n  color: #166534;\n}\n.badge--warning[data-v-740f3757] {\n  background-color: #fef3c7;\n  color: #92400e;\n}\n.badge--error[data-v-740f3757] {\n  background-color: #FD454C26;\n  color: #FD454C;\n}\n",""]);const d=a},12371:(e,n,o)=>{o.d(n,{Z:()=>d});var t=o(8375),i=o.n(t),l=o(7638),a=o.n(l)()(i());a.push([e.id,"\n.row-container[data-v-4bf1cdf6] {\n\twidth: 100%;\n\theight: 36px;\n\tposition: relative;\n\tbackground: #ffffff 0% 0% no-repeat padding-box;\n\tborder: 1px solid #e0e0e0;\n}\n.icon-container[data-v-4bf1cdf6] {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 16px;\n\theight: 16px;\n\ttop: 6px;\n}\n.app-tier-model-icon[data-v-4bf1cdf6] {\n\twidth: 16px;\n\theight: 16px;\n}\n.imported-lock-badge[data-v-4bf1cdf6] {\n\tposition: absolute;\n\ttop: 10px !important;\n    right: 1px !important;\n    background-color: #FF6B6B !important;\n    border-radius: 99px !important;\n    padding: 1px !important;\n\tline-height: 1; \n\tpointer-events: none;\n}\n.imported-lock-badge .mdi-lock[data-v-4bf1cdf6] {\n\tcolor: white;\n\tfont-size: 8px;\n\tdisplay: block;\n}\n.app-tier-model-name[data-v-4bf1cdf6] {\n\tposition: absolute;\n\ttop: 9px;\n\tfont: normal normal normal 14px/19px Roboto;\n\tcolor: #212121;\n}\n.app-tier-model-name.disabled[data-v-4bf1cdf6] {\n\tcolor: #D5D5D5;\n}\n.version-text[data-v-4bf1cdf6] {\n\tmargin: 10px 7px 10px auto;\n\tdisplay: table;\n\tfont: normal normal normal 12px/16px Roboto;\n\tcolor: #757575;\n\tcursor: pointer;\n\tuser-select: none;\n}\n.version-text.disabled[data-v-4bf1cdf6] {\n\tpointer-events: none;\n\tcursor: pointer;\n}\n.chevron[data-v-4bf1cdf6] {\n\tposition: absolute;\n\tcolor: #757575;\n\tfont-size: 24px;\n}\n.button-tooltip[data-v-4bf1cdf6] {\n\tvisibility: hidden;\n\tposition: absolute;\n\tbackground: #757575;\n\tcolor: #FFFFFF;\n\tfont-size: 11px;\n\tfont-family: 'Roboto';\n\ttext-align: center;\n\tborder-radius: 4px;\n\tletter-spacing: 0.2px;\n\tpadding: 6px 8px 6px 8px;\n\ttop: 56px;\n\tleft: 63px;\n\topacity: 0;\n}\n.button-disable .save-button:hover+.button-tooltip[data-v-4bf1cdf6],\n.start-screen:hover .button-tooltip[data-v-4bf1cdf6],\n.row-container:hover .button-tooltip[data-v-4bf1cdf6],\n.publish-info:hover .button-tooltip[data-v-4bf1cdf6] {\n\tvisibility: visible;\n\ttransition: opacity 0.3s ease-out 1s;\n\topacity: 1;\n}\n.bpmn-color[data-v-4bf1cdf6] {\n\tcolor: #007c77;\n}\n.process-color[data-v-4bf1cdf6] {\n\tcolor: #007c77;\n}\n.entity-designer-color[data-v-4bf1cdf6] {\n\tcolor: #e9724c;\n}\n.qjson-color[data-v-4bf1cdf6] {\n\tcolor: #449dd1;\n}\n.yaml-color[data-v-4bf1cdf6] {\n\tcolor: #449dd1;\n}\n.namedcomp-color[data-v-4bf1cdf6] {\n\tcolor: #212121;\n}\n.app-settings-color[data-v-4bf1cdf6] {\n\tcolor: #151233;\n}\n.js-color[data-v-4bf1cdf6] {\n\tcolor: #449dd1;\n}\n.css-color[data-v-4bf1cdf6] {\n\tcolor: #151233;\n}\n",""]);const d=a},99329:(e,n,o)=>{o.d(n,{Z:()=>d});var t=o(8375),i=o.n(t),l=o(7638),a=o.n(l)()(i());a.push([e.id,'\n*[data-v-c2cac53c] {\n    font-family: "Roboto";\n}\n.info-div[data-v-c2cac53c] {\n    background: #F5F5FA;\n    border-radius: 4px;\n    width: 100%;\n}\n.info-text[data-v-c2cac53c] {\n    color: #757575;\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n}\n.info-text i[data-v-c2cac53c] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 8px;\n}\n.text-area[data-v-c2cac53c] {\n    border-radius: 4px;\n    color: #212121;\n    padding: 0px 8px;\n    font-size: 12px;\n    height: 32px;\n    font-weight: 500;\n    background: #FFFFFF;\n    display: flex;\n    align-items: center;\n    margin-top: 10px;\n}\n.copy-icon[data-v-c2cac53c] {\n    font-size: 16px;\n    color: #151233;\n    margin-left: auto;\n    font-weight: 400;\n    cursor: pointer;\n}\n.icon-tooltip[data-v-c2cac53c] {\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    text-align: center;\n    border-radius: 4px;\n    padding: 5px 8px;\n    right: 35px;\n    top: 200px;\n}\n',""]);const d=a},64976:(e,n,o)=>{o.d(n,{Z:()=>be});var t=o(71093),i=o(46233),l=o(66190),a=o(73843),d=o(5627),s=o(91056),r=o(83487),c=o(88613),p=o(54848),u=o(67457),v=o(66059),f=o(66319);const m=e=>((0,t.dD)("data-v-4bf1cdf6"),e=e(),(0,t.Cn)(),e),h=["id"],y=["src"],g={key:2,class:"imported-lock-badge"},b=[m((()=>(0,t._)("i",{class:"mdi mdi-lock"},null,-1)))],k={key:0,class:"start-screen"},x=[m((()=>(0,t._)("i",{class:"mdi mdi-home-outline"},null,-1))),m((()=>(0,t._)("span",{class:"button-tooltip",style:{top:"-30px",left:"2px","z-index":"1",width:"80px"}},"Start Screen",-1)))],w=m((()=>(0,t._)("div",null,null,-1))),T={key:1},S={key:2,class:(0,l.normalizeClass)(["mdi mdi-pencil-outline version-icon"])},C={key:1,class:(0,l.normalizeClass)(["mdi mdi-pencil-outline version-icon"])},D={key:2,class:"button-tooltip",style:{"z-index":"1",width:"300px"}},I=(0,t.aZ)({__name:"exportDialogItem",props:{handleItemCheckEvent:{type:Function},startScreen:null,versionDialog:{type:Function},handleCollapse:{type:Function},item:null,moduleVersionDialog:{type:Function},hideVersionInfo:{type:Boolean},usedScreenType:null},setup(e,{expose:n}){const o=e,i=d.nC.resolve(p.B),s=(0,t.Fl)((()=>`mdi mdi-menu${o.item.collapsed?"-right":"-down"} chevron`));function r(e){return"module"===e.type&&e.imported?e.version?e.version:"latest":e.version?e.version:"Release"===o.usedScreenType?"No Version":"latest"}function c(){o.handleItemCheckEvent(o.item)}function m(){F(o.item)&&(o.item.imported?o.moduleVersionDialog(o.item):o.versionDialog(o.item))}function I(e){const n=i.findModel(e.id);return"appSettings"===(null==n?void 0:n.usageType)}function F(e){const n=e.version&&"latest"!=e.version&&!e.disabled;return"module"===e.type?n&&!e.updateStrategy:n&&!e.imported}n({handleModuleCountCheckboxEvent:function(){return o.item.checked}});const U=(0,t.Fl)((()=>25*(o.item.level||0)));function E(e){const n=v.o.getModelVisualInfo(e.type,void 0),o=n.type;switch(o){case"icon":return{type:o,color:n.color,icon:n.icon};case"svg":return{type:o,src:n.src,activeSrc:n.activeSrc}}}return(n,i)=>{var d,p,v;return(0,t.wg)(),(0,t.iD)("div",{class:"row-container",id:o.usedScreenType+"-model-select-"+e.item.id},[e.item.children&&(null===(d=e.item.children)||void 0===d?void 0:d.length)>0?((0,t.wg)(),(0,t.iD)("i",{key:0,class:(0,l.normalizeClass)((0,a.SU)(s)),onClick:i[0]||(i[0]=n=>o.handleCollapse(e.item,!0)),style:(0,l.normalizeStyle)({cursor:"pointer",left:(e.item.level?(0,a.SU)(U)-20:4)+"px"})},null,6)):(0,t.kq)("v-if",!0),(0,t.Wm)(u.Z,{style:(0,l.normalizeStyle)({top:"8px",cursor:"pointer",left:(0,a.SU)(U)+(e.item.level?20:43)+"px",position:"absolute"}),check:e.item.checked||e.item.allChildChecked,minus:!e.item.allChildChecked&&e.item.anyChildChecked,disabled:e.item.disabled,onClick:c},null,8,["style","check","minus","disabled"]),(0,t._)("div",{class:"icon-container",style:(0,l.normalizeStyle)({left:(0,a.SU)(U)+(e.item.level?45:69)+"px"})},["svg"==E(e.item).type?((0,t.wg)(),(0,t.iD)("img",{key:0,src:E(e.item).src,style:{width:"13px",marginTop:"-2px",marginLeft:"2px"}},null,8,y)):"icon"==E(e.item).type?((0,t.wg)(),(0,t.iD)("i",{key:1,class:(0,l.normalizeClass)("app-tier-model-icon "+E(e.item).icon),style:(0,l.normalizeStyle)({color:E(e.item).color})},null,6)):(0,t.kq)("v-if",!0),e.item.imported&&"module"===e.item.type?((0,t.wg)(),(0,t.iD)("div",g,b)):(0,t.kq)("v-if",!0)],4),(0,t._)("span",{style:(0,l.normalizeStyle)({left:(0,a.SU)(U)+(e.item.level?71:91)+"px"}),class:(0,l.normalizeClass)(["app-tier-model-name",e.item.disabled?"disabled":""])},[(0,t.Uk)((0,l.toDisplayString)(null===(p=e.item)||void 0===p?void 0:p.name)+" ",1),(null===(v=e.startScreen)||void 0===v?void 0:v.ID)==e.item.id?((0,t.wg)(),(0,t.iD)("span",k,x)):(0,t.kq)("v-if",!0)],6),"folder"==e.item.type||o.hideVersionInfo?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[w,"module"!=e.item.type?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,l.normalizeClass)(["version-text",F(e.item)||I(e.item)?"":"disabled"]),onClick:m},[(0,t.Uk)((0,l.toDisplayString)(r(e.item))+" ",1),e.item.unreleased?((0,t.wg)(),(0,t.j4)(f.Z,{key:0,style:{margin:"-5px 5px 0 5px"},label:"Unreleased",type:"error"})):(0,t.kq)("v-if",!0),e.item.nextVersionPreview?((0,t.wg)(),(0,t.iD)("span",T," â†’ "+(0,l.toDisplayString)(e.item.nextVersionPreview),1)):(0,t.kq)("v-if",!0),F(e.item)?((0,t.wg)(),(0,t.iD)("i",S)):(0,t.kq)("v-if",!0)],2)):e.item.imported&&"module"==e.item.type?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,l.normalizeClass)(["version-text",F(e.item)?"":"disabled"]),onClick:m},[(0,t.Uk)((0,l.toDisplayString)(r(e.item))+" ",1),e.item.unreleased?((0,t.wg)(),(0,t.j4)(f.Z,{key:0,style:{margin:"-5px 5px 0 5px"},label:"Unreleased",type:"error"})):(0,t.kq)("v-if",!0),F(e.item)?((0,t.wg)(),(0,t.iD)("i",C)):(0,t.kq)("v-if",!0)],2)):(0,t.kq)("v-if",!0),e.item.disabled&&!e.item.version?((0,t.wg)(),(0,t.iD)("span",D,' No version available for publishing. Please click "Save and Version" option from save menu and release a new major version for this item. ')):(0,t.kq)("v-if",!0)],64))],8,h)}}});var F=o(17450),U=o.n(F),E=o(29530),z=o.n(E),V=o(16199),_=o.n(V),M=o(40458),Z=o.n(M),B=o(62916),P=o.n(B),j=o(92165),A=o.n(j),q=o(12371),H={};H.styleTagTransform=A(),H.setAttributes=Z(),H.insert=_().bind(null,"head"),H.domAPI=z(),H.insertStyleElement=P(),U()(q.Z,H),q.Z&&q.Z.locals&&q.Z.locals;var O=o(32525);const R=(0,O.Z)(I,[["__scopeId","data-v-4bf1cdf6"]]);var W=o(29307),L=o(3329),N=o(29633),Q=o(72549),Y=o(62376),$=o(17379),J=o(15772),K=o(83240);const G=e=>((0,t.dD)("data-v-5e96bf02"),e=e(),(0,t.Cn)(),e),X={style:{display:"flex","flex-direction":"column",flex:"1"}},ee={key:0,class:"stop-working-search"},ne={class:"search-input-wrapper"},oe=G((()=>(0,t._)("i",{class:"mdi mdi-magnify search-icon"},null,-1))),te={key:0,class:"files-header"},ie={class:"appitems-header"},le={key:0,class:"appitems-header-left"},ae={class:"text-number"},de={class:"text-number"},se={key:1,class:"appitems-header-right"},re=["title"],ce={key:0,class:"switch-container"},pe=G((()=>(0,t._)("span",{class:"switch-label"},"Show modified items only",-1))),ue={key:0,class:"mobile-publish-text"},ve=G((()=>(0,t._)("i",{class:"mdi mdi-information"},null,-1))),fe={key:1,class:"no-results"},me={key:2,class:"no-files-message"},he=(0,t.aZ)({__name:"appItemsTable",props:{screenType:null,maxHeight:null,hideVersionInfo:{type:Boolean},checkedPageIds:null,versionType:null,moduleId:null,searchable:{type:Boolean},syncPublishTargets:{type:Function},disabled:{type:Boolean},title:null},emits:["getItem"],setup(e,{emit:n}){const v=e,f=d.nC.resolve(c.J),m=d.nC.resolve(p.B),h=d.nC.resolve(s.u),y=d.nC.resolve(r.y),g=d.nC.resolve(W.w),b=d.nC.resolve(N._),k=d.nC.resolve(J.M),x=(0,a.iH)([]),w=(0,a.iH)([]),T=(0,a.iH)(""),S=(0,a.iH)(),C=(0,t.Fl)((()=>O("publish"))),D=(0,t.Fl)((()=>O("checkin"))),I=(0,a.iH)(),F=(0,a.iH)(),U=(0,a.iH)(),E=(0,t.Fl)((()=>P.value)),z=(0,a.iH)(0),V=(0,t.Fl)((()=>x.value.filter((e=>!e.children)).length)),_=(0,t.Fl)((()=>V.value==z.value||!(z.value>0)&&void 0)),M=(0,a.iH)({}),Z=(0,a.iH)(!1),B=(0,t.Fl)((()=>Z.value?"mdi-expand-all":"mdi-collapse-all"));let P=(0,a.iH)(!1);const j=(0,t.Fl)((()=>!x.value.some((e=>!e.children&&A.value.has(e.id))))),A=(0,t.Fl)((()=>{if("BulkSave"!==v.screenType||!0!==P.value)return new Set(x.value.map((e=>e.id)));const e=new Set;return x.value.forEach((n=>{if((e=>"module"!==e.type&&"folder"!==e.type)(n)&&(e=>!0===(null==e?void 0:e.isModified)||!0===(null==e?void 0:e.modified))(n))for(let o=n;o;o=o.parent)e.add(o.id)})),e})),q={Export:"480px",Deploy:"320px",BulkSave:"200px",Release:"300px"};function H(){if(T.value.trim()){const e=T.value.toLowerCase().trim();w.value=x.value.filter((n=>n.name.toLowerCase().includes(e)))}else w.value=x.value}function O(e){if(!S.value)return new Map;const n=new Map;for(const[o,t]of S.value.entries()){const i=t.filter((n=>n.historyType===e));i&&i.length>0&&n.set(o,i)}return n}function G(e){P.value=e,localStorage.setItem("itemsTableSwitchState",String(e))}function he(){const e=n=>{n.children&&n.children.length>0?n.children.forEach(e):Ue(n)};x.value.filter((e=>!e.parent)).forEach(e)}function ye({newItem:e}){const n="module"===e.type||"folder"===e.type;("Stop Working"!==v.screenType||n||e.isCheckedOut)&&("BulkSave"!==v.screenType||!e.isUnmodifiableTotal&&e.isCheckedOut)&&x.value.push(e)}function ge(){const e=(n,o)=>{var t,i,l,a,d,s,r,c,p,u,m,h,y,g,k;const x=n.externalData;if("application"==x.objectType)throw new Error("unexpected item type");let w,T=b.getFullPath(x,"self").split("/").length-1;switch(x.objectType){case"folder":w={id:x.ID,name:x.name,type:"folder",collapsed:!1,level:T,children:null===(t=n.children)||void 0===t?void 0:t.map((n=>e(n,{ownerModule:o.ownerModule}))),isCheckedOut:!0,path:x.path},null===(i=w.children)||void 0===i||i.forEach((e=>e.parent=w)),Me(w,!1);break;case"model":if(o.ownerModule)if(w={id:x.ID,name:x.name,type:x.modelType,level:T},o.ownerModule.isImportedModule){const e=null===(s=o.ownerModule.relatedModelHistories)||void 0===s?void 0:s.find((e=>e.modelID==x.ID));w={...w,checked:"Stop Working"!=v.screenType&&("OnlyQjson"==v.screenType?v.checkedPageIds&&ke(x.ID,v.checkedPageIds):!!Ee(x)||x.isUnmodifiableTotal),disabled:null!==(r=v.disabled)&&void 0!==r&&r,version:null!==(c=null==e?void 0:e.version)&&void 0!==c?c:x.version,ownerName:x.owner.name,ownerType:x.owner.objectType,path:"appSettings"==x.usageType||"appAssetList"==x.usageType?"/":x.path,isUnmodifiableTotal:x.isUnmodifiableTotal,isCheckedOut:x.checkedOut,imported:!!e||"fromOuterOrg",isModified:!1,usageType:null==x?void 0:x.usageType,key:x.key,prefix:"module"===x.owner.objectType?x.owner.prefix:""}}else{const e=we(x);w={...w,checked:"Stop Working"!=v.screenType&&("BulkSave"===v.screenType?!!(null===(l=x.modified)||void 0===l?void 0:l.model):"OnlyQjson"===v.screenType?v.checkedPageIds&&ke(x.ID,v.checkedPageIds):!!(e&&"appSettings"!=x.usageType||Ee(x))||x.isUnmodifiableTotal),disabled:null!==(a=v.disabled)&&void 0!==a?a:!(["OnlyQjson","Stop Working","BulkSave"].includes(v.screenType)||e&&"appSettings"!=x.usageType||v.moduleId||"appSettings"!=x.usageType||"css"==x.modelType||"container"==x.modelType||x.isUnmodifiableTotal),version:!o.ownerModule.isImportedModule&&x.isUnmodifiableTotal?"latest":e,ownerName:x.owner.name,ownerType:x.owner.objectType,path:"appSettings"==x.usageType||"appAssetList"==x.usageType?"/":x.path,isUnmodifiableTotal:x.isUnmodifiableTotal,isCheckedOut:x.checkedOut,nextVersionPreview:"BulkSave"==v.screenType&&v.versionType&&"latest"!==e?Te(e||void 0,v.versionType):void 0,isModified:!!(null===(d=x.modified)||void 0===d?void 0:d.model),usageType:null==x?void 0:x.usageType,key:x.key,prefix:"module"===x.owner.objectType?x.owner.prefix:""}}else{const e=we(x);w={id:x.ID,name:x.name,checked:"Stop Working"!=v.screenType&&("BulkSave"===v.screenType?!!(null===(p=x.modified)||void 0===p?void 0:p.model):"OnlyQjson"===v.screenType?v.checkedPageIds&&ke(x.ID,v.checkedPageIds):!!(e&&"appSettings"!=x.usageType||Ee(x))||x.isUnmodifiableTotal),disabled:null!==(u=v.disabled)&&void 0!==u?u:!(["OnlyQjson","Stop Working","BulkSave"].includes(v.screenType)||e&&"appSettings"!=x.usageType||"appSettings"!=x.usageType||"css"==x.modelType||"container"==x.modelType||x.isUnmodifiableTotal),type:x.modelType,version:x.isUnmodifiableTotal?"latest":e,ownerName:x.owner.name,ownerType:x.owner.objectType,level:T,path:"appSettings"==x.usageType||"appAssetList"==x.usageType?"/":x.path,isUnmodifiableTotal:x.isUnmodifiableTotal,isCheckedOut:x.checkedOut,nextVersionPreview:"BulkSave"==v.screenType&&v.versionType&&"latest"!==e?Te(e||void 0,v.versionType):void 0,isModified:!!(null===(m=x.modified)||void 0===m?void 0:m.model),usageType:null==x?void 0:x.usageType,key:x.key,prefix:"module"===x.owner.objectType?x.owner.prefix:""}}break;case"module":const b=ze(x),{importedVersion:S,updateStrategy:C}=x.relatedApplications.find((e=>e.applicationID==f.studio.appId)),D=Be(x.ID,C||S),F=null===(y=null===(h=I.value)||void 0===h?void 0:h.get(x.ID))||void 0===y?void 0:y.find((e=>e.version==D)),U=b?null==F?void 0:F.relatedModelHistories:void 0;w={id:x.ID,collapsed:!1,name:x.name,type:"module",imported:b,version:D,isUnmodifiableTotal:b,isCheckedOut:!b,children:null===(g=n.children)||void 0===g?void 0:g.map((n=>e(n,{ownerModule:{isImportedModule:b,moduleVersion:D,relatedModelHistories:U}}))),updateStrategy:C,importedVersion:S,unreleased:x.unreleased,newModuleVersionAvaliable:!!C&&Be(x.ID,C)!==S},null===(k=w.children)||void 0===k||k.forEach((e=>e.parent=w)),Me(w,!1)}return w},n=e=>{var o;ye({newItem:e}),null===(o=e.children)||void 0===o||o.forEach(n)};return{converter:e,traverser:n}}function be(){"Release"==v.screenType&&v.moduleId?function(e){const n=g.cloneFileExplorerTreeView({displayFilterer:(n,o)=>{switch(n.objectType){case"application":return!1;case"module":return v.moduleId==n.ID;case"folder":return n.owner.ID==e&&o;case"model":return n.owner.ID==e}}}),{converter:o,traverser:t}=ge(),i=n.map((e=>o(e,{})));null==i||i.forEach(t)}(v.moduleId):function(){var e;if("OnlyQjson"!=v.screenType){const n=f.studio.items.find((e=>"App Settings"==e.name)),o=we(n),t=n&&{id:n.ID,name:n.name,checked:"Stop Working"!=v.screenType&&("BulkSave"!=v.screenType||xe(n)),disabled:null!==(e=v.disabled)&&void 0!==e&&e,type:n.modelType,version:o||"latest",isUnmodifiableTotal:n.isUnmodifiableTotal,isCheckedOut:n.checkedOut,nextVersionPreview:"BulkSave"==v.screenType&&v.versionType&&o?Te(o,v.versionType):void 0,isModified:xe(n)};n&&t&&ye({newItem:t})}const n=g.cloneFileExplorerTreeView({displayFilterer:(e,n)=>{switch(e.ID){case L.oA.uiAssetListID:case L.oA.uiSettingsID:return!1}switch(e.objectType){case"application":return!1;case"module":case"model":return!0;case"folder":return n}}}),{converter:o,traverser:t}=ge();n.map((e=>o(e,{}))).forEach(t)}(),function(){var e;for(let n=x.value.length-1;n>=0;n--){const o=x.value[n];if("module"===o.type||"folder"===o.type){const t=(null!==(e=o.children)&&void 0!==e?e:[]).map((e=>e.id)),i=x.value.some((e=>t.includes(e.id)));i||x.value.splice(n,1)}}}()}function ke(e,n){return n.some((n=>n==e))}function xe(e){var n;return"model"===(null==e?void 0:e.objectType)&&!0===(null===(n=e.modified)||void 0===n?void 0:n.model)}function we(e){return k.getItemMaxVersion(e,C.value,D.value,v.screenType)}function Te(e,n){if(!e||"latest"===e)return"major"===n?"1.0":"0.1";const o=e.split(".").map((e=>parseInt(e)));let t=o[0]||0,i=o[1]||0;return"major"===n?(t++,i=0):"minor"===n&&i++,`${t}.${i}`}function Se(e,n){var o,t;if(e.disabled||e.checked)return;e.checked=!0,e.parent&&Me(e.parent,n);const i=null===(t=null===(o=U.value)||void 0===o?void 0:o.get(e.id))||void 0===t?void 0:t.dependedTo;i&&i.forEach((e=>{x.value.forEach((o=>{var t;if("module"==o.type&&!o.allChildChecked){const i=null===(t=o.children)||void 0===t?void 0:t.find((n=>!n.checked&&n.id==e));return i&&Se(i,n),void Me(o,n)}o.checked||o.id!=e||(Se(o,n),o.parent&&Me(o.parent,n))}))}))}function Ce(e,n){var o,t,i,l,a,d;const s=null===(o=U.value)||void 0===o?void 0:o.get(n.id);null===(t=U.value)||void 0===t||t.set(n.id,{dependedBy:(null==s?void 0:s.dependedBy)||Array(),dependedTo:(null===(d=null===(a=null===(l=null===(i=C.value)||void 0===i?void 0:i.get(n.id))||void 0===l?void 0:l.find((n=>n.version==e)))||void 0===a?void 0:a.dependentModels)||void 0===d?void 0:d.map((e=>e.modelId)))||Array()})}function De(e){var n,i;if("latest"==e.version||!e.version)return;const l={id:e.id,state:{checked:e.checked},text:e.name,type:e.type,version:e.version},a=null===(n=C.value)||void 0===n?void 0:n.has(e.id),d={clickedNode:l,cb:n=>{e.version=n,Ce(n,e),"BulkSave"==v.screenType&&v.versionType&&"latest"!==n?(e.nextVersionPreview=Te(n,v.versionType),x.value=[]):e.nextVersionPreview=void 0,l.state.checked&&Ue(e,void 0,!0)}};a&&(d.versions=null===(i=C.value)||void 0===i?void 0:i.get(e.id)),h.showDialog((0,t.RC)((()=>o.e(7045).then(o.bind(o,10531)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},d)}function Ie(e){var n;"latest"!=e.version&&e.version&&h.showDialog((0,t.RC)((()=>Promise.all([o.e(7432),o.e(4355),o.e(6266)]).then(o.bind(o,96267)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},{moduleID:e.id,versions:null===(n=I.value)||void 0===n?void 0:n.get(e.id),cb:async n=>{await Fe(e,n)}})}async function Fe(e,n){if((e.updateStrategy?e.importedVersion:e.version)!==n.version&&e.children&&e.children.length>0){e.children=await k.updateModelVersionsOnModuleVersionChange(e.children,n,Ce),x.value=x.value.filter((n=>{let o=n.parent;for(;o;){if(o.id===e.id)return!1;o=o.parent}return!0}));const o=x.value.findIndex((n=>n.id===e.id)),t=x.value.slice(o+1);x.value=x.value.slice(0,o+1);const{traverser:i}=ge();e.children.forEach(i),x.value.push(...t),e.version=n.version,e.unreleased=n.unreleased,he()}}function Ue(e,o,t){["module","folder"].includes(e.type)||(null!=o&&o!=e.checked&&(e.checked?z.value++:z.value--),n("getItem",e,t))}function Ee(e){if("css"==e.modelType||"Release"==v.screenType&&v.moduleId)return!0;const n=f.studio.items.filter((e=>"model"==e.objectType&&"appSettings"==e.modelType))[0].modelBody;return!!(n?n[0].model:"").includes(e.ID)}(0,t.bv)((async()=>{await y.execute((async()=>{if(await Promise.all([y.executeUseCase(Y.q,{}).then((e=>S.value=e)),y.executeUseCase($.y,{}).then((e=>I.value=e))]),be(),await async function(){var e,n;const o=x.value.filter((e=>"module"===e.type&&e.updateStrategy));for(const t of o)if(t.children){const o=Be(t.id,t.updateStrategy||t.importedVersion),i=null===(n=null===(e=I.value)||void 0===e?void 0:e.get(t.id))||void 0===n?void 0:n.find((e=>e.version==o));i&&await Fe(t,i)}}(),"BulkSave"===v.screenType){const e=localStorage.getItem("itemsTableSwitchState");P.value=!!e&&"true"===e}"OnlyQjson"==v.screenType&&(x.value=x.value.filter((e=>"qjson"==e.type&&"appSettings"!=e.usageType||"folder"==e.type||"module"==e.type))),F.value=f.studio.items.find((e=>{var n;return null===(n=e.additionals)||void 0===n?void 0:n.isRootPage})),he(),H(),z.value=x.value.filter((e=>!e.children&&e.checked)).length,"Deploy"==v.screenType&&v.syncPublishTargets&&v.syncPublishTargets()}),{loading:!0})})),(0,t.YP)([T,x],(()=>{H()}),{deep:!0}),(0,t.YP)((()=>v.versionType),((e,n)=>{"BulkSave"==v.screenType&&e!==n&&(x.value=[],be())})),(0,t.YP)((()=>v.disabled),((e,n)=>{"OnlyQjson"==v.screenType&&e!==n&&(x.value=[],be(),x.value=x.value.filter((e=>"qjson"==e.type&&"appSettings"!=e.usageType||"folder"==e.type||"module"==e.type)))}));const ze=e=>b.isModuleImported(e);function Ve(e,n,o){var t;e.collapsed=void 0!==o?o:!e.collapsed,n&&(null===(t=e.children)||void 0===t||t.forEach((o=>{const t=document.getElementById(v.screenType+"-model-select-"+o.id);t&&(t.style.display=e.collapsed?"none":"block",Ve(o,n,e.collapsed))})))}function _e(e){var n;if(e.disabled||function(e){var n,o;if("BulkSave"==v.screenType){if("appSettings"===e.type)return!1;const n=m.findModel(e.id);if(n&&Ee(n))return!1;if("appAssetList"===(null==n?void 0:n.usageType))return!1}const t=null===(o=null===(n=U.value)||void 0===n?void 0:n.get(e.id))||void 0===o?void 0:o.dependedBy;return!!t&&t.some((e=>x.value.some((n=>{var o;return"module"==n.type&&n.anyChildChecked?null===(o=n.children)||void 0===o?void 0:o.some((n=>n.checked&&n.id==e)):n.id==e&&n.checked}))))}(e))return;const o=e.checked,t=[],i=new Set,l=(e,n)=>{var o,a;if(!e.disabled)if(n)if("module"===e.type||"folder"===e.type){const n=e.checked;!0!==n&&(e.checked=!0,t.push({node:e,prev:n}),e.parent&&i.add(e.parent)),null===(o=e.children)||void 0===o||o.forEach((e=>l(e,!0)))}else{const n=e.checked;n||(Se(e,!0),e.checked!==n&&(t.push({node:e,prev:n}),e.parent&&i.add(e.parent)))}else{const n=e.checked;!1!==n&&(e.checked=!1,t.push({node:e,prev:n}),e.parent&&i.add(e.parent)),null===(a=e.children)||void 0===a||a.forEach((e=>l(e,!1)))}};if("module"!==e.type&&"folder"!==e.type)e.checked?(e.checked=!1,Me(e.parent,!0),Ze(e,o)):(Se(e,!0),Ze(e,o));else{const a=(null===(n=e.children)||void 0===n?void 0:n.filter((e=>!e.disabled)))||[];if(a.length>0){if(e.allChildChecked){if(a.forEach((e=>l(e,!1))),e.checked){const n=e.checked;e.checked=!1,t.push({node:e,prev:n}),e.parent&&i.add(e.parent)}}else if(a.forEach((e=>l(e,!0))),!e.checked){const n=e.checked;e.checked=!0,t.push({node:e,prev:n}),e.parent&&i.add(e.parent)}for(const{node:e,prev:n}of t)Ze(e,n);i.forEach((e=>Me(e,!0)))}else e.checked=!e.checked,e.allChildChecked=!1,Ze(e,o)}"Deploy"==v.screenType&&v.syncPublishTargets&&v.syncPublishTargets()}function Me(e,n){if(!e||!e.children||0===e.children.length)return;const o=e.children.filter((e=>!e.disabled)),t=o.length>0&&o.every((e=>e.checked&&(!e.children||e.allChildChecked))),i=o.some((e=>e.checked||!!e.children&&e.anyChildChecked));e.allChildChecked=t,e.anyChildChecked=i,e.checked=!!t,!e.anyChildChecked&&e.checked&&(e.checked=!1,Ze(e,!0)),n&&e.parent&&Me(e.parent,!0)}function Ze(e,n){Ue(e,n,!0);const o=M.value[e.id];if(o&&"function"==typeof o.handleModuleCountCheckboxEvent)try{o.handleModuleCountCheckboxEvent()}catch(e){console.warn("external component handleModuleCountCheckboxEvent error:",e)}}function Be(e,n){var o;if(!n)return;const t=d.nC.resolve(K.e),i=null===(o=I.value)||void 0===o?void 0:o.get(e);return i?t.getLatestVersion(i,n):void 0}return(e,n)=>((0,t.wg)(),(0,t.iD)("div",X,[v.searchable?((0,t.wg)(),(0,t.iD)("div",ee,[(0,t._)("div",ne,[oe,(0,t.wy)((0,t._)("input",{type:"text",class:"search-input",placeholder:"Search files...","onUpdate:modelValue":n[0]||(n[0]=e=>T.value=e)},null,512),[[i.vModelText,T.value]]),T.value?((0,t.wg)(),(0,t.iD)("i",{key:0,class:"mdi mdi-close clear-icon",onClick:n[1]||(n[1]=e=>T.value="")})):(0,t.kq)("v-if",!0)]),v.title?((0,t.wg)(),(0,t.iD)("div",te,(0,l.toDisplayString)(v.title),1)):(0,t.kq)("v-if",!0)])):(0,t.kq)("v-if",!0),(0,t._)("div",ie,[(0,a.SU)(V)>0?((0,t.wg)(),(0,t.iD)("div",le,[(0,t.Wm)(u.Z,{class:(0,l.normalizeClass)(["modules-selected-checkbox","Deploy"==v.screenType?"deploy":""]),minus:0==(0,a.SU)(_),check:1==(0,a.SU)(_),onClick:n[2]||(n[2]=e=>function(e){const n=new Set,o=[],t=i=>{var l;if(!A.value.has(i.id)||i.disabled)return;const a=i.checked;a!==e&&(i.checked=e,o.push({node:i,prev:a}),i.parent&&n.add(i.parent)),null===(l=i.children)||void 0===l||l.forEach((e=>t(e)))},i=x.value.filter((e=>!e.disabled&&!e.parent&&A.value.has(e.id)));for(const e of i)t(e);for(const{node:e,prev:n}of o)Ze(e,n);n.forEach((e=>Me(e,!0))),z.value=x.value.reduce(((e,n)=>e+(!n.children&&n.checked?1:0)),0),"Deploy"==v.screenType&&v.syncPublishTargets&&v.syncPublishTargets()}(!(0,a.SU)(_)))},null,8,["class","minus","check"]),(0,t._)("div",{class:(0,l.normalizeClass)(["modules-selected-text","Deploy"==v.screenType?"deploy":""])},[(0,t._)("span",ae,(0,l.toDisplayString)(z.value),1),(0,t.Uk)(" of "),(0,t._)("span",de,(0,l.toDisplayString)((0,a.SU)(V)),1),(0,t.Uk)(" items selected ")],2)])):(0,t.kq)("v-if",!0),(0,a.SU)(V)>0?((0,t.wg)(),(0,t.iD)("div",se,[(0,t._)("i",{class:(0,l.normalizeClass)(["mdi",(0,a.SU)(B)," collapse-icon"]),onClick:n[3]||(n[3]=e=>(Z.value=!Z.value,void x.value.forEach((e=>{Ve(e,!0,Z.value)})))),title:"mdi-expand-all"==(0,a.SU)(B)?"Expand All":"Collapse All"},null,10,re),"BulkSave"===v.screenType?((0,t.wg)(),(0,t.iD)("div",ce,[(0,t.Wm)(Q.Z,{onChange:G,value:(0,a.SU)(E)},null,8,["value"]),pe])):(0,t.kq)("v-if",!0)])):(0,t.kq)("v-if",!0)]),(0,t._)("div",{class:"modules-datatable",style:(0,l.normalizeStyle)({maxHeight:v.maxHeight||q[v.screenType]||"none"})},["BulkSave"===v.screenType&&(0,a.SU)(j)?((0,t.wg)(),(0,t.iD)("div",ue,[ve,(0,t.Uk)(" No modified items to show. ")])):(0,t.kq)("v-if",!0),0===w.value.length&&T.value.trim()?((0,t.wg)(),(0,t.iD)("div",fe," No files match your search query. ")):(0,t.kq)("v-if",!0),"Stop Working"!=v.screenType||0!==w.value.length||T.value.trim()?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:3},(0,t.Ko)(w.value,(e=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{key:e.id},[(0,t.Wm)(R,{handleItemCheckEvent:_e,startScreen:F.value,versionDialog:De,handleCollapse:Ve,item:e,moduleVersionDialog:Ie,hideVersionInfo:v.hideVersionInfo,usedScreenType:v.screenType,ref_for:!0,ref:n=>{return t=n,void((o=e.id)&&(M.value[o]=t));var o,t}},null,8,["startScreen","item","hideVersionInfo","usedScreenType"])])),[[i.vShow,"BulkSave"!==v.screenType||(0,a.SU)(A).has(e.id)]]))),128)):((0,t.wg)(),(0,t.iD)("div",me," There are no files to stop working on. "))],4)]))}});var ye=o(66914),ge={};ge.styleTagTransform=A(),ge.setAttributes=Z(),ge.insert=_().bind(null,"head"),ge.domAPI=z(),ge.insertStyleElement=P(),U()(ye.Z,ge),ye.Z&&ye.Z.locals&&ye.Z.locals;const be=(0,O.Z)(he,[["__scopeId","data-v-5e96bf02"]])},66319:(e,n,o)=>{o.d(n,{Z:()=>x});var t=o(71093),i=o(66190),l=o(73843);const a=(0,t.aZ)({__name:"badge",props:{label:null,type:null,style:null,class:null},setup(e){const n=e,o=(0,t.Fl)((()=>{var e;return`badge--${null!==(e=n.type)&&void 0!==e?e:"default"}`})),a=(0,t.Fl)((()=>n.class));return(n,d)=>((0,t.wg)(),(0,t.iD)("span",{class:(0,i.normalizeClass)(["badge",[(0,l.SU)(o),(0,l.SU)(a)]]),style:(0,i.normalizeStyle)(e.style)},(0,i.toDisplayString)(e.label),7))}});var d=o(17450),s=o.n(d),r=o(29530),c=o.n(r),p=o(16199),u=o.n(p),v=o(40458),f=o.n(v),m=o(62916),h=o.n(m),y=o(92165),g=o.n(y),b=o(8196),k={};k.styleTagTransform=g(),k.setAttributes=f(),k.insert=u().bind(null,"head"),k.domAPI=c(),k.insertStyleElement=h(),s()(b.Z,k),b.Z&&b.Z.locals&&b.Z.locals;const x=(0,o(32525).Z)(a,[["__scopeId","data-v-740f3757"]])},36250:(e,n,o)=>{o.d(n,{Z:()=>C});var t=o(71093),i=o(66190),l=o(5627),a=o(50419);const d={class:"info-text"},s=["innerHTML"],r={key:0,class:"text-area"},c=(0,t.aZ)({__name:"studioInfoComp",props:{isSlot:{type:Boolean},infoText:null,textAreaValue:null,customIconClass:null,showCopyIcon:{type:Boolean},copyValue:null,customStyle:null},setup(e){const n=e,o=l.nC.resolve(a.L);function c(e){try{navigator.clipboard.writeText(e),o.showNotification({text:"Application ID copied",type:"success"})}catch{o.showNotification({text:"Copy failed",type:"error"})}}return(e,o)=>{var l,a,p,u;return(0,t.wg)(),(0,t.iD)("div",{class:"info-div",style:(0,i.normalizeStyle)({...n.customStyle,padding:n.textAreaValue?"12px":"5px 12px",background:(null===(l=n.customStyle)||void 0===l?void 0:l.backgroundColor)||"#F5F5FA"})},[(0,t._)("div",d,[(0,t._)("i",{class:(0,i.normalizeClass)(n.customIconClass?n.customIconClass:"mdi mdi-information"),style:(0,i.normalizeStyle)({color:null===(a=n.customStyle)||void 0===a?void 0:a.iconColor,fontSize:null===(p=n.customStyle)||void 0===p?void 0:p.iconSize})},null,6),(0,t._)("span",{style:(0,i.normalizeStyle)({color:(null===(u=n.customStyle)||void 0===u?void 0:u.color)||"#757575"})},[n.isSlot?(0,t.WI)(e.$slots,"default",{key:0},(()=>[(0,t.Uk)((0,i.toDisplayString)(n.infoText),1)])):((0,t.wg)(),(0,t.iD)("span",{key:1,innerHTML:n.infoText},null,8,s))],4),n.showCopyIcon?((0,t.wg)(),(0,t.iD)("i",{key:0,class:"mdi mdi-content-copy copy-icon",onClick:o[0]||(o[0]=e=>c(n.copyValue||n.infoText))})):(0,t.kq)("v-if",!0)]),n.textAreaValue?((0,t.wg)(),(0,t.iD)("div",r,[(0,t.Uk)((0,i.toDisplayString)(n.textAreaValue)+" ",1),(0,t._)("i",{class:"mdi mdi-content-copy copy-icon",onClick:o[1]||(o[1]=e=>c(n.textAreaValue))})])):(0,t.kq)("v-if",!0)],4)}}});var p=o(17450),u=o.n(p),v=o(29530),f=o.n(v),m=o(16199),h=o.n(m),y=o(40458),g=o.n(y),b=o(62916),k=o.n(b),x=o(92165),w=o.n(x),T=o(99329),S={};S.styleTagTransform=w(),S.setAttributes=g(),S.insert=h().bind(null,"head"),S.domAPI=f(),S.insertStyleElement=k(),u()(T.Z,S),T.Z&&T.Z.locals&&T.Z.locals;const C=(0,o(32525).Z)(c,[["__scopeId","data-v-c2cac53c"]])}}]);