"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[6514],{47319:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(8375),i=t.n(r),o=t(7638),a=t.n(o)()(i());a.push([e.id,"\n.container[data-v-26c0a68e] {\n  padding: 20px;\n}\n.uploadArea[data-v-26c0a68e] {\n  text-align: center;\n  padding-top: 25px;\n  border: 1px dashed #a1a1a1;\n  height: 100px;\n}\n.filesValue[data-v-26c0a68e] {\n  background-color: #f5f5f5;\n  padding: 10px;\n  margin-top: 10px;\n  border-radius: 4px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.filesValue.error[data-v-26c0a68e] {\n  border: 1px solid red;\n  color: red;\n}\n.errorMsg[data-v-26c0a68e] {\n  margin-left: 10px;\n  font-size: 12px;\n}\n.removeIcon[data-v-26c0a68e] {\n  cursor: pointer;\n}\n.importBtnDiv[data-v-26c0a68e] {\n  text-align: end;\n  margin-top: 20px;\n}\n.importBtn[data-v-26c0a68e] {\n  background-color: #151233;\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n}\n.cancelBtn[data-v-26c0a68e] {\n  margin-right: 10px;\n  background: none;\n  border: none;\n  color: #757575;\n}\n.importBtn[data-v-26c0a68e]:disabled {\n  color: #757575;\n  cursor: default;\n}\n",""]);const s=a},96514:(e,n,t)=>{t.r(n),t.d(n,{default:()=>L});var r=t(71093),i=t(66190),o=t(73843),a=t(5627),s=t(38695),l=t(83487),c=t(91056),d=t(65416);let u;function p(e){if(!e)return;const n=Object.keys(e).find((e=>e.toLowerCase().includes("json")));return n?e[n]:void 0}function m(e,n){var t;return e?"string"===e&&"date-time"===n?"Date":null!==(t={string:"string",number:"number",integer:"number",input:"input",boolean:"boolean",object:"object",array:"any[]"}[e])&&void 0!==t?t:"any":"any"}function f(e){return e.split(/[_\-]/g).map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("")}function v(e,n){const t=b(e);return n.find((e=>e.sourceName===t))||{name:f(t),sourceName:t,description:"",docs:[],properties:[]}}function g(e,n,t,r){const i={name:e,sourceName:e,description:(null==n?void 0:n.description)||"",required:r};if("array"===n.type&&n.items){const r=n.items;if(r.$ref)return{...i,kind:"REFERENCE",isArray:!0,ref:v(r.$ref,t)};if("object"===r.type){const n=h(`${f(e)}_Item`,r,t);return t.push(n),{...i,kind:"REFERENCE",isArray:!0,ref:n}}return{...i,kind:"PRIMITIVE",isArray:!0,type:m(r.type,r.format)}}if(n.$ref)return{...i,kind:"REFERENCE",isArray:!1,ref:v(n.$ref,t)};if("object"===n.type){const r=h(`${f(e)}_Object`,n,t);return t.push(r),{...i,kind:"REFERENCE",isArray:!1,ref:r}}return n.enum?{...i,kind:"PRIMITIVE",isArray:!1,type:m(n.type)}:{...i,kind:"PRIMITIVE",isArray:!1,type:m(n.type,n.format)}}function h(e,n,t){if(!n)return{name:f(e),sourceName:e,description:"",docs:[],properties:[]};if(n.oneOf&&Array.isArray(n.oneOf))return{name:f(e),sourceName:e,description:"oneOf schema",docs:["oneOf: string | object"],properties:[{name:"value",sourceName:"value",description:"oneOf response",kind:"PRIMITIVE",isArray:!1,type:"any",required:!0}]};if(n.$ref)return h(e,function(e){const n=e.replace(/^#\//,"").split("/");let t=u;for(const e of n)t=null==t?void 0:t[e];return t}(n.$ref),t);const r={name:f(e),sourceName:e,description:n.description||"",docs:n.description?[n.description]:[],properties:[]},i=n.required||[];if(n.properties)for(const[e,o]of Object.entries(n.properties)){const n=g(e,o,t,i.includes(e));r.properties.push(n)}return r}function y(e,n=[],t){return e.split("/").filter(Boolean).map((e=>{const r=e.match(/^\{(.+)\}$/);if(r){const e=r[1],i=n.find((n=>"path"===n.in&&n.name===e));let o=g(e,null==i?void 0:i.schema,t,!0===(null==i?void 0:i.required));return"PRIMITIVE"==o.kind&&(o.isInput=!0),o}return{name:e,sourceName:e,description:"",kind:"PRIMITIVE",isArray:!1,type:"string",required:!0}}))}function b(e){return e.replace("#/components/schemas/","")}function x(e){var n;const t=e.servers;return t&&t.length>0?null===(n=t[0])||void 0===n?void 0:n.url:""}const I={class:"container"},k=(e=>((0,r.dD)("data-v-26c0a68e"),e=e(),(0,r.Cn)(),e))((()=>(0,r._)("div",{class:"fileUploadDiv",onclick:"document.getElementById('fileInput').click()"},[(0,r._)("div",{class:"col-12 uploadArea",style:{display:"flex","padding-left":"150px","padding-top":"35px"}},[(0,r._)("div",{class:"mdi mdi-cloud-upload-outline",style:{"text-align":"center","font-size":"25px",color:"#a1a1a1","padding-right":"10px","margin-top":"-7px"}}),(0,r._)("span",{style:{"font-weight":"bold"}},"Click"),(0,r._)("span",{style:{"padding-left":"10px"}},"here to upload your files.")])],-1))),E={key:0,class:"selectedItems"},C={key:0,class:"errorMsg"},_=["onClick"],w={class:"importBtnDiv"},A=["disabled"],$=(0,r.aZ)({__name:"uploadSwaggerDialog",emits:["close"],setup(e,{emit:n}){const t=a.nC.resolve(s.T),m=a.nC.resolve(l.y),f=a.nC.resolve(c.u),v=a.nC.resolve(d.r),$=(0,o.iH)([]),R=(0,o.iH)(!1);async function V(){const e=document.getElementById("fileInput");if(!(null==e?void 0:e.files)||0===e.files.length)return;$.value=[];const n=e.files[0];var r;if("json"!==(r=n.name).substring(r.lastIndexOf(".")+1).toLowerCase())return void $.value.push({name:n.name,content:"",isValid:!1,errorMessage:"Only json files are allowed."});const i=t.validate(n.name.split(".")[0],{minAndMaxLength:{min:2,max:60},nonSpaceCharacter:!0,customRegex:{regex:/^([a-zA-Z0-9-_.]+)$/,message:"Available characters: A-Z, a-z, 1-9, '-', '_' and '.'"}},{}).filter((e=>!e.isValid));if(i.length>0)return void $.value.push({name:n.name,content:"",isValid:!1,errorMessage:i[0].message});const o=await n.text();$.value.push({name:n.name,content:o,isValid:!0})}function j(){var e;(null===(e=$.value[0])||void 0===e?void 0:e.isValid)&&m.execute((async()=>{const e=$.value[0].content;console.log(e),R.value=!0;const t=function(e){var n,t,r,i,o,a;u=JSON.parse(e);const s=u,l=[],c=[];for(const[e,n]of Object.entries(s.components.schemas)){const t=h(e,n,l);l.push(t)}const d=["GET","POST"];for(const[u,m]of Object.entries(s.paths))for(const s of d){const d=m[s.toLowerCase()];if(!d)continue;let f;const v=p(null===(n=d.requestBody)||void 0===n?void 0:n.content);if(null==v?void 0:v.schema){let e;(null==v?void 0:v.schema.$ref)&&(e=b(null==v?void 0:v.schema.$ref)),"array"===(null==v?void 0:v.schema.type)&&(null===(t=null==v?void 0:v.schema.items)||void 0===t?void 0:t.$ref)&&(e=b(null==v?void 0:v.schema.items.$ref)),f=h(`${e}_Request`,v.schema,l),l.push(f)}let x;const I=(null===(r=d.responses)||void 0===r?void 0:r[200])||(null===(i=d.responses)||void 0===i?void 0:i[201])||(null===(o=d.responses)||void 0===o?void 0:o.default),k=p(null==I?void 0:I.content);if(null==k?void 0:k.schema){let e;(null==k?void 0:k.schema.$ref)&&(e=b(null==k?void 0:k.schema.$ref)),"array"===(null==k?void 0:k.schema.type)&&(null===(a=null==k?void 0:k.schema.items)||void 0===a?void 0:a.$ref)&&(e=b(null==k?void 0:k.schema.items.$ref)),x=h(`${e||d.operationId}_Response`,k.schema,l),l.push(x)}let E=[];const C=[],_=[];if(E=y(u,d.parameters,l),d.parameters)for(const e of d.parameters){const n=g(e.name,e.schema,l,!0===e.required);"query"===e.in?C.push(n):"header"===e.in&&_.push(n)}c.push({path:u,method:s,operationId:d.operationId,tags:d.tags,content:e,request:f,response:x,pathParams:E,queryParams:C,headerParams:_})}return{mergedOperation:c,endpoint:x(s),title:s.info.title}}(e);n("close"),f.showDialog(v.createNewSwaggerServiceDialog(),{closable:!0,title:"New Swagger Service",width:"600px",height:"714px"},t)}),{loading:!0})}return(e,t)=>((0,r.wg)(),(0,r.iD)("div",I,[k,(0,r._)("input",{style:{display:"none"},type:"file",id:"fileInput",onChange:V,accept:".json"},null,32),$.value.length?((0,r.wg)(),(0,r.iD)("div",E,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)($.value,((e,n)=>((0,r.wg)(),(0,r.iD)("div",{key:e.name,class:(0,i.normalizeClass)(["filesValue",{error:!e.isValid}])},[(0,r._)("span",null,(0,i.toDisplayString)(e.name),1),e.isValid?(0,r.kq)("v-if",!0):((0,r.wg)(),(0,r.iD)("span",C,(0,i.toDisplayString)(e.errorMessage),1)),(0,r._)("i",{class:"mdi mdi-close removeIcon",onClick:e=>function(e){$.value.splice(e,1)}(n)},null,8,_)],2)))),128))])):(0,r.kq)("v-if",!0),(0,r._)("div",w,[(0,r._)("button",{class:"cancelBtn",onClick:t[0]||(t[0]=e=>n("close"))},"Cancel"),(0,r._)("button",{class:"importBtn",disabled:!$.value.length||!$.value[0].isValid||R.value,onClick:j}," UPLOAD ",8,A)])]))}});var R=t(17450),V=t.n(R),j=t(29530),D=t.n(j),O=t(16199),q=t.n(O),N=t(40458),M=t.n(N),P=t(62916),B=t.n(P),S=t(92165),T=t.n(S),Z=t(47319),z={};z.styleTagTransform=T(),z.setAttributes=M(),z.insert=q().bind(null,"head"),z.domAPI=D(),z.insertStyleElement=B(),V()(Z.Z,z),Z.Z&&Z.Z.locals&&Z.Z.locals;const L=(0,t(32525).Z)($,[["__scopeId","data-v-26c0a68e"]])}}]);