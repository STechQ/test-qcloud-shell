"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[1938],{88099:(n,e,o)=>{o.d(e,{Z:()=>s});var a=o(34663),i=o.n(a),t=o(7638),r=o.n(t)()(i());r.push([n.id,"\n.organization-info-type[data-v-0c6c5c4c] {\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        background: #FFFFFF;\n        margin-right: 37px;\n        padding: 24px 24px 18px;\n        display: flex;\n        flex-direction: column;\n}\n.organization-info-type[data-v-0c6c5c4c]:last-child {\n        margin-right: 0;\n}\n.organization-info-type-name[data-v-0c6c5c4c] {\n        font-weight: 500;\n        font-size: 20px;\n        line-height: 23px;\n        color: #757575;\n        margin-bottom: 20px;\n        min-width: 100px;\n        flex: 1;\n}\n.organization-info[data-v-0c6c5c4c] {\n        font-weight: 500;\n        font-size: 28px;\n        line-height: 33px;\n        color: #151233;\n}\n.div-title[data-v-0c6c5c4c] {\n        font-weight: 500;\n        font-size: 24px;\n        line-height: 28px;\n        color: #151233;\n        margin-bottom: 20px;\n}\n.azure-info-table[data-v-0c6c5c4c] {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        width: 100%;\n}\ntd[data-v-0c6c5c4c]:hover {\n        background-color: none !important;\n}\n.azure-info-table tr[data-v-0c6c5c4c]:hover {\n        background-color: #EEEEEE;\n}\n.azure-info-table th[data-v-0c6c5c4c]\n        {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 18px 36px\n}\n.azure-info-table td[data-v-0c6c5c4c] {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 20px 36px;\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n}\n.azure-info-table .thead-azure[data-v-0c6c5c4c] {\n        color: #616161;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n}\n.view-btn[data-v-0c6c5c4c] {\n        background: none;\n        border:none;\n        color: #2C5A86;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n}\n.tags-div[data-v-0c6c5c4c] {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        padding: 14px 24px;\n        display: flex;\n        align-items: center;\n}\n.tags-title[data-v-0c6c5c4c] {\n        font-weight: 500;\n        font-size: 16px;\n        line-height: 19px;\n        color: #757575;\n        margin-right: 24px;\n}\n.tag-name[data-v-0c6c5c4c] {\n        padding: 5.5px 8px;\n        background: #D0D1E9;\n        display: flex;\n        justify-content: center;\n        border-radius: 4px;\n        margin-right: 8px;\n        font-size: 14px;\n        color: #2F3160;\n        white-space: nowrap;\n        font-weight: 500;\n        cursor: pointer;\n}\n.manage-org-div[data-v-0c6c5c4c] {\n        width: 77%; \n        display: flex; \n        justify-content: end;\n        position: absolute;\n        top: 80px;\n        right: 36px;\n}\n.manage-btn[data-v-0c6c5c4c] {\n        border: 1px solid #151233;\n        border-radius: 4px;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        color: #151233;\n        display: flex;\n        align-items: center;\n        font-weight: 500;\n}\n.delete-org-btn[data-v-0c6c5c4c] {\n        background: #CBCBCB;\n        border-radius: 4px;\n        color: #212121;\n        border: none;\n        margin-left: 12px;\n        display: flex;\n        align-items: center;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        font-weight: 500;\n}\n.view-btn[data-v-0c6c5c4c] {\n        background: none;\n        border:none;\n        color: #2C5A86;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n}\n.user-app-list[data-v-0c6c5c4c]  {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        width: 100%;\n        margin-bottom: 100px;\n}\ntd[data-v-0c6c5c4c]:hover {\n        background-color: none !important;\n}\n.user-app-list  tr[data-v-0c6c5c4c]:hover:not(:last-child):not(:first-child) {\n        background-color: #EEEEEE;\n}\n.user-app-list  th[data-v-0c6c5c4c]\n        {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 18px 36px\n}\n.user-app-list  td[data-v-0c6c5c4c] {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 20px 36px;\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n}\n.user-app-list  .thead[data-v-0c6c5c4c] {\n        background: #F5F5F5;\n        color: #616161;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n}\n.items-per-page[data-v-0c6c5c4c] {\n        background: #FFFFFF;\n        border: 1px solid #BCBCBC;\n        border-radius: 4px;\n        width: 84px;\n        padding: 7px 12px;\n        margin-left: 12px\n}\n.page-number[data-v-0c6c5c4c] {\n        padding: 8px 12px;\n        color: #616161;\n        font-size: 14px;\n        line-height: 16px;\n        background: none;\n        border: none\n}\n.page-number.active[data-v-0c6c5c4c] {\n        background: #151233;\n        border-radius: 4px;\n        color: #FFFFFF;\n}\n.change-page-number[data-v-0c6c5c4c] {\n        border: none;\n        background: none;\n}\n.change-page-number i[data-v-0c6c5c4c] {\n        color: #151233; \n        font-size: 20px; \n        line-height: 20px;\n}\n.filter-area[data-v-0c6c5c4c] {\n    margin: 20px 0;\n    display: flex;\n    align-items: center;\n}\n.search-in-table[data-v-0c6c5c4c] {\n        background: transparent;\n        border: 1px solid #BCBCBC !important;\n        border-radius: 4px !important;\n        height: 32px;\n        display: flex;\n        align-items: center;\n}\n.search-input[data-v-0c6c5c4c] {\n        background: transparent;\n        border: none;\n}\n.search-input[data-v-0c6c5c4c]:focus {\n        outline: none;\n}\n.search-in-table i[data-v-0c6c5c4c] {\n        color: #BCBCBC;\n        font-size: 20px;\n        padding: 0px 4px;\n}\n\n","",{version:3,sources:["webpack://./src/presentation/vue3/pages/backoffice/organization.vue"],names:[],mappings:";AA6OI;QACI,yBAAyB;QACzB,8CAA8C;QAC9C,mBAAmB;QACnB,mBAAmB;QACnB,kBAAkB;QAClB,uBAAuB;QACvB,aAAa;QACb,sBAAsB;AAC1B;AACA;QACI,eAAe;AACnB;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,mBAAmB;QACnB,gBAAgB;QAChB,OAAO;AACX;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;AAClB;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,mBAAmB;AACvB;AACA;QACI,mBAAmB;QACnB,yBAAyB;QACzB,8CAA8C;QAC9C,mBAAmB;QACnB,WAAW;AACf;AACA;QACI,iCAAiC;AACrC;AACA;QACI,yBAAyB;AAC7B;AACA;;QAEI,gCAAgC;QAChC;AACJ;AACA;QACI,gCAAgC;QAChC,kBAAkB;QAClB,cAAc;QACd,eAAe;QACf,iBAAiB;AACrB;AACA;QACI,cAAc;QACd,gBAAgB;QAChB,eAAe;QACf,iBAAiB;AACrB;AACA;QACI,gBAAgB;QAChB,WAAW;QACX,cAAc;QACd,gBAAgB;QAChB,eAAe;QACf,iBAAiB;AACrB;AACA;QACI,mBAAmB;QACnB,yBAAyB;QACzB,8CAA8C;QAC9C,mBAAmB;QACnB,kBAAkB;QAClB,aAAa;QACb,mBAAmB;AACvB;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,kBAAkB;AACtB;AACA;QACI,kBAAkB;QAClB,mBAAmB;QACnB,aAAa;QACb,uBAAuB;QACvB,kBAAkB;QAClB,iBAAiB;QACjB,eAAe;QACf,cAAc;QACd,mBAAmB;QACnB,gBAAgB;QAChB,eAAe;AACnB;AACA;QACI,UAAU;QACV,aAAa;QACb,oBAAoB;QACpB,kBAAkB;QAClB,SAAS;QACT,WAAW;AACf;AACA;QACI,yBAAyB;QACzB,kBAAkB;QAClB,mBAAmB;QACnB,eAAe;QACf,cAAc;QACd,aAAa;QACb,mBAAmB;QACnB,gBAAgB;AACpB;AACA;QACI,mBAAmB;QACnB,kBAAkB;QAClB,cAAc;QACd,YAAY;QACZ,iBAAiB;QACjB,aAAa;QACb,mBAAmB;QACnB,mBAAmB;QACnB,eAAe;QACf,gBAAgB;AACpB;AACA;QACI,gBAAgB;QAChB,WAAW;QACX,cAAc;QACd,gBAAgB;QAChB,eAAe;QACf,iBAAiB;AACrB;AACA;QACI,mBAAmB;QACnB,yBAAyB;QACzB,8CAA8C;QAC9C,mBAAmB;QACnB,WAAW;QACX,oBAAoB;AACxB;AACA;QACI,iCAAiC;AACrC;AACA;QACI,yBAAyB;AAC7B;AACA;;QAEI,gCAAgC;QAChC;AACJ;AACA;QACI,gCAAgC;QAChC,kBAAkB;QAClB,cAAc;QACd,eAAe;QACf,iBAAiB;AACrB;AACA;QACI,mBAAmB;QACnB,cAAc;QACd,gBAAgB;QAChB,eAAe;QACf,iBAAiB;AACrB;AACA;QACI,mBAAmB;QACnB,yBAAyB;QACzB,kBAAkB;QAClB,WAAW;QACX,iBAAiB;QACjB;AACJ;AACA;QACI,iBAAiB;QACjB,cAAc;QACd,eAAe;QACf,iBAAiB;QACjB,gBAAgB;QAChB;AACJ;AACA;QACI,mBAAmB;QACnB,kBAAkB;QAClB,cAAc;AAClB;AACA;QACI,YAAY;QACZ,gBAAgB;AACpB;AACA;QACI,cAAc;QACd,eAAe;QACf,iBAAiB;AACrB;AACA;IACA,cAAc;IACd,aAAa;IACb,mBAAmB;AACvB;AACI;QACI,uBAAuB;QACvB,oCAAoC;QACpC,6BAA6B;QAC7B,YAAY;QACZ,aAAa;QACb,mBAAmB;AACvB;AACA;QACI,uBAAuB;QACvB,YAAY;AAChB;AACA;QACI,aAAa;AACjB;AACA;QACI,cAAc;QACd,eAAe;QACf,gBAAgB;AACpB",sourcesContent:['<script setup lang="ts">\n    import { ref, defineAsyncComponent, onBeforeMount, computed, watchEffect } from "vue";\n    import { container } from "../../../../domain/core/diContainer";\n    import { IAzureResourceGroupUrls, IBackofficeUseCase, IOrganizationUIExtended } from "../../../../domain/useCase/IBackofficeUseCase";\n    import { IUseCaseExecutor } from "../../../../domain/useCase/IUseCaseExecutor";\n    import { IRouter } from "../../../../domain/presentation/IRouter";\n    import { IOrganization } from "../../../../../../common/qCloudTemp/membership";\n    import { IDialog } from "../../../../domain/presentation/IDialog";\n    import { IUser_SUSI } from "../../../../../../common/qCloudTemp/authentication";\n    import { IApplication } from "../../../../../../common/qCloudTemp/quickCloud";\n    import { IViewModel } from "../../../../domain/viewModel/IViewModel";\n    import UserList from "../../components/backoffice/user/userList.vue";\n    import AppList from "../../components/backoffice/application/applicationList.vue";\n\n\n    const router = container.resolve<IRouter>(IRouter);\n    const executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\n    const backofficeUseCase = container.resolve<IBackofficeUseCase>(IBackofficeUseCase);\n    const viewModel = container.resolve<IViewModel>(IViewModel);\n\n\n    const routerParams = router.getRouteParams<{ organizationId: string }>();\n    backofficeUseCase.setBreadcrumb(["Organizations", "Organization Detail"]);\n    const organization = ref<IOrganizationUIExtended>();\n    const dialog = container.resolve<IDialog>(IDialog);\n    const userList = ref<Array<IUser_SUSI>>([]);\n    const appList = ref<Array<IApplication>>([]);\n    const searchUser = ref("");\n    const searchApp = ref("");\n    const rgUrls = ref<IAzureResourceGroupUrls>();\n    const orgTags = ref<Array<{id: string, name: string}>>([]);\n    const usersDataIsReady = ref(false);\n    const appDataIsReady = ref(false);\n    const organizationGroupName = ref("");\n    \n\n    onBeforeMount(async () => {\n        await getOrganizationInfo();\n        await listTags()\n        getTagData();\n        listOrganizationUsers();\n        listOrganizationApps();\n        getResourceGroupUrls();\n        getOrgGroupName();\n    }) \n\n    async function getOrganizationInfo() {\n        await executor.execute(async () => {\n            organization.value = await backofficeUseCase.getOrganizationInfo(routerParams.organizationId);\n        }, { loading: true });  \n    }\n\n    function formatDate(date?: Date) {\n        if(date) {\n            const formatter = new Intl.DateTimeFormat(\'en-GB\', { year: \'numeric\', month: \'long\', day: \'numeric\', hour: \'numeric\', minute: \'numeric\' });\n            const formattedDate = formatter.format(new Date(date));\n            return formattedDate;\n        }\n    }\n    function openManageOrganizationDialog () {\n        const closeCb = (reason: "close" | "outclick" | "component") => {\n            if(reason == "component") {\n                getTagData();\n            }\n        }\n        dialog.showDialog(\n                defineAsyncComponent(() => import(`../../components/dialogs/backoffice/manageOrganization.vue`)),\n                { closable: true, title: "Manage Organization", width: "592px", maxHeight: "650px", closeCb },{organization: organization.value}\n            );\n        }\n    function openDeleteOrganizationDialog () {\n    dialog.showDialog(\n            defineAsyncComponent(() => import(`../../components/dialogs/backoffice/deleteConfirmation.vue`)),\n            { closable: true, title: "Delete Organization", width: "577px", maxHeight: "206px" },\n            { \n                infoText: \'Organization Name\',  \n                placeholder:`Write organization name \'${organization.value?.name}\' to delete`, validText: organization.value?.name, \n                deleteCb: async () => {\n                    await executor.execute(async () => {\n                        await backofficeUseCase.deleteOrganization(organization.value?.id!, organization.value?.name!);\n                        router.push("/backoffice/organizations");\n                    }, { loading: true });\n                }\n            }\n        );\n    }\n    function listOrganizationUsers() {\n        const organizationId = routerParams.organizationId;\n        executor.execute(async () => {\n            userList.value = await backofficeUseCase.listOrganizationUsers(organizationId);\n            usersDataIsReady.value = true;\n        }, { loading: true });\n    }\n    function listOrganizationApps() {\n        const organizationId = routerParams.organizationId;\n        executor.execute(async () => {\n            appList.value = await backofficeUseCase.listOrganizationApps(organizationId);\n            appDataIsReady.value = true;\n        }, { loading: true });\n    }\n\n    function getResourceGroupUrls() {\n        executor.execute(async () => {\n            if (!organization.value?.cloud?.azure?.resourceGroupID) {\n                console.log(`Organization \'${organization.value!.id} - ${organization.value!.name}\' has no "cloud.azure.resourceGroupID"!`)\n                return;\n            }\n            rgUrls.value = await backofficeUseCase.getAzureResourceGroupUrls(organization.value.cloud.azure.resourceGroupID!);\n        }, { loading: true });\n    }\n    function openResourceGroupOverviewPage() {\n        window.open(rgUrls.value!.overviewUrl, \'_blank\');\n    }\n    function openResourceGroupCostPage() {\n        window.open(rgUrls.value!.costUrl, \'_blank\');\n    }\n    async function listTags() {\n        await executor.execute( async () => {\n            await backofficeUseCase.listTags();\n        }, {loading: true})\n    }\n    function getTagData() {\n        executor.execute(async () => {\n            await getOrganizationInfo();\n        }, { loading: true });\n        const tagsDict: Record<string, string> = {};\n        orgTags.value = [];\n        viewModel.backoffice?.tags?.forEach(tag => tagsDict[tag.ID] = tag.name);\n        organization.value?.tags?.forEach(tagID => {\n            const tagData = {id: tagID, name: tagsDict[tagID]};\n            orgTags.value?.push(tagData);\n        })\n    }\n    function viewTag(tagId: string) {\n        router.push(`/backoffice/tag/${tagId}`);\n    }\n    function getOrgGroupName() {\n        executor.execute(async ()  => {\n            if(organization.value!.organizationGroupId) {\n                const orgGroupName = await backofficeUseCase.getOrgGroupNameByOrgID(organization.value!.id);\n                if(orgGroupName) {\n                    organizationGroupName.value = orgGroupName;\n                }\n                else {\n                    organizationGroupName.value = "No Organization Group"\n                }\n            }\n            else {\n                organizationGroupName.value = "No Organization Group"\n            }\n        },{loading: true})\n    }\n<\/script>\n\n<template>\n    <div class="manage-org-div">\n        <button class="manage-btn" @click="openManageOrganizationDialog()"><i class="mdi mdi-cog" style="font-size: 20px; margin-right: 4px"></i><span>MANAGE ORGANIZATION</span></button>\n        <button class="delete-org-btn" @click="openDeleteOrganizationDialog()"><i class="mdi mdi-delete" style="font-size: 20px; margin-right: 4px"></i><span>DELETE</span></button>\n    </div>\n    <div style="display:flex; margin-bottom: 32px;">\n        <div class="organization-info-type">\n            <div class="organization-info-type-name">Name</div>\n            <div class="organization-info">{{ organization?.name }}</div>\n        </div>\n        <div class="organization-info-type">\n            <div class="organization-info-type-name">Users</div>\n            <div class="organization-info">{{ userList.length }}</div>\n        </div>\n        <div class="organization-info-type">\n            <div class="organization-info-type-name">Apps</div>\n            <div class="organization-info">{{ appList.length }}</div>\n        </div>\n        <div class="organization-info-type" style="flex: 1;">\n            <div class="organization-info-type-name">Date Created</div>\n            <div class="organization-info">{{ formatDate(organization?.createDate) }}</div>\n        </div>\n        <div class="organization-info-type" style="flex: 1;">\n            <div class="organization-info-type-name">ID</div>\n            <div class="organization-info" style="font-size: 20px;">{{ organization?.id }}</div>\n        </div>\n        \x3c!-- <div class="organization-info-type">\n            <div class="organization-info-type-name">DB Name</div>\n            <div class="organization-info">{{ organization?.dbName }}</div>\n        </div> --\x3e\n        <div class="organization-info-type">\n            <div class="organization-info-type-name">Organization Group</div>\n            <div class="organization-info">{{ organizationGroupName }}</div>\n        </div>\n    </div>\n    <div style="margin-bottom: 32px;">\n        <div class="tags-div">\n            <span class="tags-title">Tags</span>\n            <span v-for="tag in orgTags" :key="tag.id" class="tag-name" @click="viewTag(tag.id)">{{ tag.name }}</span>\n        </div>\n    </div>\n    <div style="margin-bottom: 32px;">\n        <div v-if="usersDataIsReady" >\n            <UserList :users="userList"></UserList>\n        </div>\n    </div>\n    <div style="margin-bottom: 32px;">\n        <div v-if="appDataIsReady" >\n            <AppList :apps="appList"></AppList>\n        </div>\n    </div>\n    <div style="margin-bottom: 32px;">\n        <div class="div-title">Azure</div>\n        <div>\n            <table class="azure-info-table">\n                <tr>\n                    <td class="thead-azure col-xl-4">resourceGroupId</td>\n                    <td v-if = "organization?.cloud?.azure?.resourceGroupID " class="col-xl-7">{{ organization?.cloud?.azure?.resourceGroupID }}</td>\n                    <td v-else >-</td>\n                    <td class="col-xl-1"><div><button v-if="rgUrls?.overviewUrl" class="view-btn" @click="openResourceGroupOverviewPage">VIEW</button></div></td>\n                </tr>\n                <tr>\n                    <td class="thead-azure">modelStorageID</td>\n                    <td v-if=" organization?.cloud?.azure?.modelStorageID ">{{ organization?.cloud?.azure?.modelStorageID }}</td>\n                    <td v-else >-</td>\n                    <td></td>\n                </tr>\n                <tr>\n                    <td class="thead-azure">cost</td>\n                    <td>-</td>\n                    <td><div><button v-if="rgUrls?.costUrl" class="view-btn" @click="openResourceGroupCostPage">VIEW</button></div></td>\n                </tr>\n                <tr>\n                    <td class="thead-azure">costDate</td>\n                    <td>-</td>\n                    <td></td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n    .organization-info-type {\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        background: #FFFFFF;\n        margin-right: 37px;\n        padding: 24px 24px 18px;\n        display: flex;\n        flex-direction: column;\n    }\n    .organization-info-type:last-child {\n        margin-right: 0;\n    }\n    .organization-info-type-name {\n        font-weight: 500;\n        font-size: 20px;\n        line-height: 23px;\n        color: #757575;\n        margin-bottom: 20px;\n        min-width: 100px;\n        flex: 1;\n    }\n    .organization-info {\n        font-weight: 500;\n        font-size: 28px;\n        line-height: 33px;\n        color: #151233; \n    }\n    .div-title {\n        font-weight: 500;\n        font-size: 24px;\n        line-height: 28px;\n        color: #151233;\n        margin-bottom: 20px;\n    }\n    .azure-info-table {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        width: 100%;\n    }\n    td:hover {\n        background-color: none !important;\n    }\n    .azure-info-table tr:hover {\n        background-color: #EEEEEE;\n    }\n    .azure-info-table th\n        {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 18px 36px\n    }\n    .azure-info-table td {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 20px 36px;\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .azure-info-table .thead-azure {\n        color: #616161;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .view-btn {\n        background: none;\n        border:none;\n        color: #2C5A86;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .tags-div {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        padding: 14px 24px;\n        display: flex;\n        align-items: center;\n    }\n    .tags-title {\n        font-weight: 500;\n        font-size: 16px;\n        line-height: 19px;\n        color: #757575;\n        margin-right: 24px;\n    }\n    .tag-name {\n        padding: 5.5px 8px;\n        background: #D0D1E9;\n        display: flex;\n        justify-content: center;\n        border-radius: 4px;\n        margin-right: 8px;\n        font-size: 14px;\n        color: #2F3160;\n        white-space: nowrap;\n        font-weight: 500;\n        cursor: pointer;\n    }\n    .manage-org-div {\n        width: 77%; \n        display: flex; \n        justify-content: end;\n        position: absolute;\n        top: 80px;\n        right: 36px;\n    }\n    .manage-btn {\n        border: 1px solid #151233;\n        border-radius: 4px;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        color: #151233;\n        display: flex;\n        align-items: center;\n        font-weight: 500;\n    }\n    .delete-org-btn {\n        background: #CBCBCB;\n        border-radius: 4px;\n        color: #212121;\n        border: none;\n        margin-left: 12px;\n        display: flex;\n        align-items: center;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        font-weight: 500;   \n    }\n    .view-btn {\n        background: none;\n        border:none;\n        color: #2C5A86;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .user-app-list  {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        width: 100%;\n        margin-bottom: 100px;\n    }\n    td:hover {\n        background-color: none !important;\n    }\n    .user-app-list  tr:hover:not(:last-child):not(:first-child) {\n        background-color: #EEEEEE;\n    }\n    .user-app-list  th\n        {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 18px 36px\n    }\n    .user-app-list  td {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 20px 36px;\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .user-app-list  .thead {\n        background: #F5F5F5;\n        color: #616161;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .items-per-page {\n        background: #FFFFFF;\n        border: 1px solid #BCBCBC;\n        border-radius: 4px;\n        width: 84px;\n        padding: 7px 12px;\n        margin-left: 12px\n    }\n    .page-number {\n        padding: 8px 12px;\n        color: #616161;\n        font-size: 14px;\n        line-height: 16px;\n        background: none;\n        border: none\n    }\n    .page-number.active {\n        background: #151233;\n        border-radius: 4px;\n        color: #FFFFFF;\n    }\n    .change-page-number {\n        border: none;\n        background: none;\n    }\n    .change-page-number i {\n        color: #151233; \n        font-size: 20px; \n        line-height: 20px;\n    }\n    .filter-area {\n    margin: 20px 0;\n    display: flex;\n    align-items: center;\n}\n    .search-in-table {\n        background: transparent;\n        border: 1px solid #BCBCBC !important;\n        border-radius: 4px !important;\n        height: 32px;\n        display: flex;\n        align-items: center;\n    }\n    .search-input {\n        background: transparent;\n        border: none;\n    }\n    .search-input:focus {\n        outline: none;\n    }\n    .search-in-table i {\n        color: #BCBCBC;\n        font-size: 20px;\n        padding: 0px 4px;\n    }\n\n</style>\n<style>\n    .item-count,\n    .selected-filter {\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .items-per-page .items,\n    .filters .items {\n        color: #212121;\n        border-radius: 8px;\n        border: 1px solid #E3E3E3;\n        overflow: hidden;\n        background-color: #FFFFFF;\n        box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);\n        margin-top: 8px;\n    }\n    .items-per-page .items .option,\n    .filters .items .option {\n        color: #212121;\n        padding-left: 12px;\n        line-height: 32px;\n    }\n    .items-per-page .items .option:hover,\n    .filters .items .option:hover {\n        background-color: #EEEEEE;\n    }\n    .items-per-page i,\n    .filters i {\n        font-size: 16px;\n        color: #BCBCBC;\n    }\n</style>'],sourceRoot:""}]);const s=r},11672:(n,e,o)=>{o.d(e,{Z:()=>s});var a=o(34663),i=o.n(a),t=o(7638),r=o.n(t)()(i());r.push([n.id,"\n.item-count,\n    .selected-filter {\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n}\n.items-per-page .items,\n    .filters .items {\n        color: #212121;\n        border-radius: 8px;\n        border: 1px solid #E3E3E3;\n        overflow: hidden;\n        background-color: #FFFFFF;\n        box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);\n        margin-top: 8px;\n}\n.items-per-page .items .option,\n    .filters .items .option {\n        color: #212121;\n        padding-left: 12px;\n        line-height: 32px;\n}\n.items-per-page .items .option:hover,\n    .filters .items .option:hover {\n        background-color: #EEEEEE;\n}\n.items-per-page i,\n    .filters i {\n        font-size: 16px;\n        color: #BCBCBC;\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/pages/backoffice/organization.vue"],names:[],mappings:";AAqdI;;QAEI,cAAc;QACd,eAAe;QACf,iBAAiB;AACrB;AACA;;QAEI,cAAc;QACd,kBAAkB;QAClB,yBAAyB;QACzB,gBAAgB;QAChB,yBAAyB;QACzB,0CAA0C;QAC1C,eAAe;AACnB;AACA;;QAEI,cAAc;QACd,kBAAkB;QAClB,iBAAiB;AACrB;AACA;;QAEI,yBAAyB;AAC7B;AACA;;QAEI,eAAe;QACf,cAAc;AAClB",sourcesContent:['<script setup lang="ts">\n    import { ref, defineAsyncComponent, onBeforeMount, computed, watchEffect } from "vue";\n    import { container } from "../../../../domain/core/diContainer";\n    import { IAzureResourceGroupUrls, IBackofficeUseCase, IOrganizationUIExtended } from "../../../../domain/useCase/IBackofficeUseCase";\n    import { IUseCaseExecutor } from "../../../../domain/useCase/IUseCaseExecutor";\n    import { IRouter } from "../../../../domain/presentation/IRouter";\n    import { IOrganization } from "../../../../../../common/qCloudTemp/membership";\n    import { IDialog } from "../../../../domain/presentation/IDialog";\n    import { IUser_SUSI } from "../../../../../../common/qCloudTemp/authentication";\n    import { IApplication } from "../../../../../../common/qCloudTemp/quickCloud";\n    import { IViewModel } from "../../../../domain/viewModel/IViewModel";\n    import UserList from "../../components/backoffice/user/userList.vue";\n    import AppList from "../../components/backoffice/application/applicationList.vue";\n\n\n    const router = container.resolve<IRouter>(IRouter);\n    const executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\n    const backofficeUseCase = container.resolve<IBackofficeUseCase>(IBackofficeUseCase);\n    const viewModel = container.resolve<IViewModel>(IViewModel);\n\n\n    const routerParams = router.getRouteParams<{ organizationId: string }>();\n    backofficeUseCase.setBreadcrumb(["Organizations", "Organization Detail"]);\n    const organization = ref<IOrganizationUIExtended>();\n    const dialog = container.resolve<IDialog>(IDialog);\n    const userList = ref<Array<IUser_SUSI>>([]);\n    const appList = ref<Array<IApplication>>([]);\n    const searchUser = ref("");\n    const searchApp = ref("");\n    const rgUrls = ref<IAzureResourceGroupUrls>();\n    const orgTags = ref<Array<{id: string, name: string}>>([]);\n    const usersDataIsReady = ref(false);\n    const appDataIsReady = ref(false);\n    const organizationGroupName = ref("");\n    \n\n    onBeforeMount(async () => {\n        await getOrganizationInfo();\n        await listTags()\n        getTagData();\n        listOrganizationUsers();\n        listOrganizationApps();\n        getResourceGroupUrls();\n        getOrgGroupName();\n    }) \n\n    async function getOrganizationInfo() {\n        await executor.execute(async () => {\n            organization.value = await backofficeUseCase.getOrganizationInfo(routerParams.organizationId);\n        }, { loading: true });  \n    }\n\n    function formatDate(date?: Date) {\n        if(date) {\n            const formatter = new Intl.DateTimeFormat(\'en-GB\', { year: \'numeric\', month: \'long\', day: \'numeric\', hour: \'numeric\', minute: \'numeric\' });\n            const formattedDate = formatter.format(new Date(date));\n            return formattedDate;\n        }\n    }\n    function openManageOrganizationDialog () {\n        const closeCb = (reason: "close" | "outclick" | "component") => {\n            if(reason == "component") {\n                getTagData();\n            }\n        }\n        dialog.showDialog(\n                defineAsyncComponent(() => import(`../../components/dialogs/backoffice/manageOrganization.vue`)),\n                { closable: true, title: "Manage Organization", width: "592px", maxHeight: "650px", closeCb },{organization: organization.value}\n            );\n        }\n    function openDeleteOrganizationDialog () {\n    dialog.showDialog(\n            defineAsyncComponent(() => import(`../../components/dialogs/backoffice/deleteConfirmation.vue`)),\n            { closable: true, title: "Delete Organization", width: "577px", maxHeight: "206px" },\n            { \n                infoText: \'Organization Name\',  \n                placeholder:`Write organization name \'${organization.value?.name}\' to delete`, validText: organization.value?.name, \n                deleteCb: async () => {\n                    await executor.execute(async () => {\n                        await backofficeUseCase.deleteOrganization(organization.value?.id!, organization.value?.name!);\n                        router.push("/backoffice/organizations");\n                    }, { loading: true });\n                }\n            }\n        );\n    }\n    function listOrganizationUsers() {\n        const organizationId = routerParams.organizationId;\n        executor.execute(async () => {\n            userList.value = await backofficeUseCase.listOrganizationUsers(organizationId);\n            usersDataIsReady.value = true;\n        }, { loading: true });\n    }\n    function listOrganizationApps() {\n        const organizationId = routerParams.organizationId;\n        executor.execute(async () => {\n            appList.value = await backofficeUseCase.listOrganizationApps(organizationId);\n            appDataIsReady.value = true;\n        }, { loading: true });\n    }\n\n    function getResourceGroupUrls() {\n        executor.execute(async () => {\n            if (!organization.value?.cloud?.azure?.resourceGroupID) {\n                console.log(`Organization \'${organization.value!.id} - ${organization.value!.name}\' has no "cloud.azure.resourceGroupID"!`)\n                return;\n            }\n            rgUrls.value = await backofficeUseCase.getAzureResourceGroupUrls(organization.value.cloud.azure.resourceGroupID!);\n        }, { loading: true });\n    }\n    function openResourceGroupOverviewPage() {\n        window.open(rgUrls.value!.overviewUrl, \'_blank\');\n    }\n    function openResourceGroupCostPage() {\n        window.open(rgUrls.value!.costUrl, \'_blank\');\n    }\n    async function listTags() {\n        await executor.execute( async () => {\n            await backofficeUseCase.listTags();\n        }, {loading: true})\n    }\n    function getTagData() {\n        executor.execute(async () => {\n            await getOrganizationInfo();\n        }, { loading: true });\n        const tagsDict: Record<string, string> = {};\n        orgTags.value = [];\n        viewModel.backoffice?.tags?.forEach(tag => tagsDict[tag.ID] = tag.name);\n        organization.value?.tags?.forEach(tagID => {\n            const tagData = {id: tagID, name: tagsDict[tagID]};\n            orgTags.value?.push(tagData);\n        })\n    }\n    function viewTag(tagId: string) {\n        router.push(`/backoffice/tag/${tagId}`);\n    }\n    function getOrgGroupName() {\n        executor.execute(async ()  => {\n            if(organization.value!.organizationGroupId) {\n                const orgGroupName = await backofficeUseCase.getOrgGroupNameByOrgID(organization.value!.id);\n                if(orgGroupName) {\n                    organizationGroupName.value = orgGroupName;\n                }\n                else {\n                    organizationGroupName.value = "No Organization Group"\n                }\n            }\n            else {\n                organizationGroupName.value = "No Organization Group"\n            }\n        },{loading: true})\n    }\n<\/script>\n\n<template>\n    <div class="manage-org-div">\n        <button class="manage-btn" @click="openManageOrganizationDialog()"><i class="mdi mdi-cog" style="font-size: 20px; margin-right: 4px"></i><span>MANAGE ORGANIZATION</span></button>\n        <button class="delete-org-btn" @click="openDeleteOrganizationDialog()"><i class="mdi mdi-delete" style="font-size: 20px; margin-right: 4px"></i><span>DELETE</span></button>\n    </div>\n    <div style="display:flex; margin-bottom: 32px;">\n        <div class="organization-info-type">\n            <div class="organization-info-type-name">Name</div>\n            <div class="organization-info">{{ organization?.name }}</div>\n        </div>\n        <div class="organization-info-type">\n            <div class="organization-info-type-name">Users</div>\n            <div class="organization-info">{{ userList.length }}</div>\n        </div>\n        <div class="organization-info-type">\n            <div class="organization-info-type-name">Apps</div>\n            <div class="organization-info">{{ appList.length }}</div>\n        </div>\n        <div class="organization-info-type" style="flex: 1;">\n            <div class="organization-info-type-name">Date Created</div>\n            <div class="organization-info">{{ formatDate(organization?.createDate) }}</div>\n        </div>\n        <div class="organization-info-type" style="flex: 1;">\n            <div class="organization-info-type-name">ID</div>\n            <div class="organization-info" style="font-size: 20px;">{{ organization?.id }}</div>\n        </div>\n        \x3c!-- <div class="organization-info-type">\n            <div class="organization-info-type-name">DB Name</div>\n            <div class="organization-info">{{ organization?.dbName }}</div>\n        </div> --\x3e\n        <div class="organization-info-type">\n            <div class="organization-info-type-name">Organization Group</div>\n            <div class="organization-info">{{ organizationGroupName }}</div>\n        </div>\n    </div>\n    <div style="margin-bottom: 32px;">\n        <div class="tags-div">\n            <span class="tags-title">Tags</span>\n            <span v-for="tag in orgTags" :key="tag.id" class="tag-name" @click="viewTag(tag.id)">{{ tag.name }}</span>\n        </div>\n    </div>\n    <div style="margin-bottom: 32px;">\n        <div v-if="usersDataIsReady" >\n            <UserList :users="userList"></UserList>\n        </div>\n    </div>\n    <div style="margin-bottom: 32px;">\n        <div v-if="appDataIsReady" >\n            <AppList :apps="appList"></AppList>\n        </div>\n    </div>\n    <div style="margin-bottom: 32px;">\n        <div class="div-title">Azure</div>\n        <div>\n            <table class="azure-info-table">\n                <tr>\n                    <td class="thead-azure col-xl-4">resourceGroupId</td>\n                    <td v-if = "organization?.cloud?.azure?.resourceGroupID " class="col-xl-7">{{ organization?.cloud?.azure?.resourceGroupID }}</td>\n                    <td v-else >-</td>\n                    <td class="col-xl-1"><div><button v-if="rgUrls?.overviewUrl" class="view-btn" @click="openResourceGroupOverviewPage">VIEW</button></div></td>\n                </tr>\n                <tr>\n                    <td class="thead-azure">modelStorageID</td>\n                    <td v-if=" organization?.cloud?.azure?.modelStorageID ">{{ organization?.cloud?.azure?.modelStorageID }}</td>\n                    <td v-else >-</td>\n                    <td></td>\n                </tr>\n                <tr>\n                    <td class="thead-azure">cost</td>\n                    <td>-</td>\n                    <td><div><button v-if="rgUrls?.costUrl" class="view-btn" @click="openResourceGroupCostPage">VIEW</button></div></td>\n                </tr>\n                <tr>\n                    <td class="thead-azure">costDate</td>\n                    <td>-</td>\n                    <td></td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n    .organization-info-type {\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        background: #FFFFFF;\n        margin-right: 37px;\n        padding: 24px 24px 18px;\n        display: flex;\n        flex-direction: column;\n    }\n    .organization-info-type:last-child {\n        margin-right: 0;\n    }\n    .organization-info-type-name {\n        font-weight: 500;\n        font-size: 20px;\n        line-height: 23px;\n        color: #757575;\n        margin-bottom: 20px;\n        min-width: 100px;\n        flex: 1;\n    }\n    .organization-info {\n        font-weight: 500;\n        font-size: 28px;\n        line-height: 33px;\n        color: #151233; \n    }\n    .div-title {\n        font-weight: 500;\n        font-size: 24px;\n        line-height: 28px;\n        color: #151233;\n        margin-bottom: 20px;\n    }\n    .azure-info-table {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        width: 100%;\n    }\n    td:hover {\n        background-color: none !important;\n    }\n    .azure-info-table tr:hover {\n        background-color: #EEEEEE;\n    }\n    .azure-info-table th\n        {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 18px 36px\n    }\n    .azure-info-table td {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 20px 36px;\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .azure-info-table .thead-azure {\n        color: #616161;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .view-btn {\n        background: none;\n        border:none;\n        color: #2C5A86;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .tags-div {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        padding: 14px 24px;\n        display: flex;\n        align-items: center;\n    }\n    .tags-title {\n        font-weight: 500;\n        font-size: 16px;\n        line-height: 19px;\n        color: #757575;\n        margin-right: 24px;\n    }\n    .tag-name {\n        padding: 5.5px 8px;\n        background: #D0D1E9;\n        display: flex;\n        justify-content: center;\n        border-radius: 4px;\n        margin-right: 8px;\n        font-size: 14px;\n        color: #2F3160;\n        white-space: nowrap;\n        font-weight: 500;\n        cursor: pointer;\n    }\n    .manage-org-div {\n        width: 77%; \n        display: flex; \n        justify-content: end;\n        position: absolute;\n        top: 80px;\n        right: 36px;\n    }\n    .manage-btn {\n        border: 1px solid #151233;\n        border-radius: 4px;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        color: #151233;\n        display: flex;\n        align-items: center;\n        font-weight: 500;\n    }\n    .delete-org-btn {\n        background: #CBCBCB;\n        border-radius: 4px;\n        color: #212121;\n        border: none;\n        margin-left: 12px;\n        display: flex;\n        align-items: center;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        font-weight: 500;   \n    }\n    .view-btn {\n        background: none;\n        border:none;\n        color: #2C5A86;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .user-app-list  {\n        background: #FFFFFF;\n        border: 1px solid #E3E3E3;\n        box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n        border-radius: 10px;\n        width: 100%;\n        margin-bottom: 100px;\n    }\n    td:hover {\n        background-color: none !important;\n    }\n    .user-app-list  tr:hover:not(:last-child):not(:first-child) {\n        background-color: #EEEEEE;\n    }\n    .user-app-list  th\n        {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 18px 36px\n    }\n    .user-app-list  td {\n        border-bottom: 1px solid #E3E3E3;\n        padding: 20px 36px;\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .user-app-list  .thead {\n        background: #F5F5F5;\n        color: #616161;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .items-per-page {\n        background: #FFFFFF;\n        border: 1px solid #BCBCBC;\n        border-radius: 4px;\n        width: 84px;\n        padding: 7px 12px;\n        margin-left: 12px\n    }\n    .page-number {\n        padding: 8px 12px;\n        color: #616161;\n        font-size: 14px;\n        line-height: 16px;\n        background: none;\n        border: none\n    }\n    .page-number.active {\n        background: #151233;\n        border-radius: 4px;\n        color: #FFFFFF;\n    }\n    .change-page-number {\n        border: none;\n        background: none;\n    }\n    .change-page-number i {\n        color: #151233; \n        font-size: 20px; \n        line-height: 20px;\n    }\n    .filter-area {\n    margin: 20px 0;\n    display: flex;\n    align-items: center;\n}\n    .search-in-table {\n        background: transparent;\n        border: 1px solid #BCBCBC !important;\n        border-radius: 4px !important;\n        height: 32px;\n        display: flex;\n        align-items: center;\n    }\n    .search-input {\n        background: transparent;\n        border: none;\n    }\n    .search-input:focus {\n        outline: none;\n    }\n    .search-in-table i {\n        color: #BCBCBC;\n        font-size: 20px;\n        padding: 0px 4px;\n    }\n\n</style>\n<style>\n    .item-count,\n    .selected-filter {\n        color: #212121;\n        font-size: 14px;\n        line-height: 16px;\n    }\n    .items-per-page .items,\n    .filters .items {\n        color: #212121;\n        border-radius: 8px;\n        border: 1px solid #E3E3E3;\n        overflow: hidden;\n        background-color: #FFFFFF;\n        box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);\n        margin-top: 8px;\n    }\n    .items-per-page .items .option,\n    .filters .items .option {\n        color: #212121;\n        padding-left: 12px;\n        line-height: 32px;\n    }\n    .items-per-page .items .option:hover,\n    .filters .items .option:hover {\n        background-color: #EEEEEE;\n    }\n    .items-per-page i,\n    .filters i {\n        font-size: 16px;\n        color: #BCBCBC;\n    }\n</style>'],sourceRoot:""}]);const s=r},88613:(n,e,o)=>{o.d(e,{J:()=>a});const a=Symbol.for("IViewModel")},91938:(n,e,o)=>{o.r(e),o.d(e,{default:()=>hn});var a=o(71093),i=o(66190),t=o(73843),r=o(5627),s=o(20559),l=o(83487),d=o(1937),c=o(91056),p=o(88613),g=o(78635),A=o(44570);const u=n=>((0,a.dD)("data-v-0c6c5c4c"),n=n(),(0,a.Cn)(),n),f={class:"manage-org-div"},m=[u((()=>(0,a._)("i",{class:"mdi mdi-cog",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),u((()=>(0,a._)("span",null,"MANAGE ORGANIZATION",-1)))],v=[u((()=>(0,a._)("i",{class:"mdi mdi-delete",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),u((()=>(0,a._)("span",null,"DELETE",-1)))],x={style:{display:"flex","margin-bottom":"32px"}},C={class:"organization-info-type"},b=u((()=>(0,a._)("div",{class:"organization-info-type-name"},"Name",-1))),z={class:"organization-info"},B={class:"organization-info-type"},h=u((()=>(0,a._)("div",{class:"organization-info-type-name"},"Users",-1))),y={class:"organization-info"},I={class:"organization-info-type"},w=u((()=>(0,a._)("div",{class:"organization-info-type-name"},"Apps",-1))),E={class:"organization-info"},k={class:"organization-info-type",style:{flex:"1"}},Q=u((()=>(0,a._)("div",{class:"organization-info-type-name"},"Date Created",-1))),D={class:"organization-info"},F={class:"organization-info-type",style:{flex:"1"}},U=u((()=>(0,a._)("div",{class:"organization-info-type-name"},"ID",-1))),O={class:"organization-info",style:{"font-size":"20px"}},G={class:"organization-info-type"},_=u((()=>(0,a._)("div",{class:"organization-info-type-name"},"Organization Group",-1))),T={class:"organization-info"},R={style:{"margin-bottom":"32px"}},N={class:"tags-div"},L=u((()=>(0,a._)("span",{class:"tags-title"},"Tags",-1))),S=["onClick"],M={style:{"margin-bottom":"32px"}},W={key:0},P={style:{"margin-bottom":"32px"}},Z={key:0},H={style:{"margin-bottom":"32px"}},j=u((()=>(0,a._)("div",{class:"div-title"},"Azure",-1))),q={class:"azure-info-table"},V=u((()=>(0,a._)("td",{class:"thead-azure col-xl-4"},"resourceGroupId",-1))),$={key:0,class:"col-xl-7"},Y={key:1},J={class:"col-xl-1"},X=u((()=>(0,a._)("td",{class:"thead-azure"},"modelStorageID",-1))),K={key:0},nn={key:1},en=u((()=>(0,a._)("td",null,null,-1))),on=u((()=>(0,a._)("td",{class:"thead-azure"},"cost",-1))),an=u((()=>(0,a._)("td",null,"-",-1))),tn=u((()=>(0,a._)("tr",null,[(0,a._)("td",{class:"thead-azure"},"costDate"),(0,a._)("td",null,"-"),(0,a._)("td")],-1))),rn=(0,a.aZ)({__name:"organization",setup(n){const e=r.nC.resolve(d.v5),u=r.nC.resolve(l.y),rn=r.nC.resolve(s.X),sn=r.nC.resolve(p.J),ln=e.getRouteParams();rn.setBreadcrumb(["Organizations","Organization Detail"]);const dn=(0,t.iH)(),cn=r.nC.resolve(c.u),pn=(0,t.iH)([]),gn=(0,t.iH)([]),An=((0,t.iH)(""),(0,t.iH)(""),(0,t.iH)()),un=(0,t.iH)([]),fn=(0,t.iH)(!1),mn=(0,t.iH)(!1),vn=(0,t.iH)("");async function xn(){await u.execute((async()=>{dn.value=await rn.getOrganizationInfo(ln.organizationId)}),{loading:!0})}function Cn(n){if(n)return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(new Date(n))}function bn(){window.open(An.value.overviewUrl,"_blank")}function zn(){window.open(An.value.costUrl,"_blank")}function Bn(){var n,e,o,a;u.execute((async()=>{await xn()}),{loading:!0});const i={};un.value=[],null===(e=null===(n=sn.backoffice)||void 0===n?void 0:n.tags)||void 0===e||e.forEach((n=>i[n.ID]=n.name)),null===(a=null===(o=dn.value)||void 0===o?void 0:o.tags)||void 0===a||a.forEach((n=>{var e;const o={id:n,name:i[n]};null===(e=un.value)||void 0===e||e.push(o)}))}return(0,a.wF)((async()=>{await xn(),await async function(){await u.execute((async()=>{await rn.listTags()}),{loading:!0})}(),Bn(),function(){const n=ln.organizationId;u.execute((async()=>{pn.value=await rn.listOrganizationUsers(n),fn.value=!0}),{loading:!0})}(),function(){const n=ln.organizationId;u.execute((async()=>{gn.value=await rn.listOrganizationApps(n),mn.value=!0}),{loading:!0})}(),u.execute((async()=>{var n,e,o;(null===(o=null===(e=null===(n=dn.value)||void 0===n?void 0:n.cloud)||void 0===e?void 0:e.azure)||void 0===o?void 0:o.resourceGroupID)?An.value=await rn.getAzureResourceGroupUrls(dn.value.cloud.azure.resourceGroupID):console.log(`Organization '${dn.value.id} - ${dn.value.name}' has no "cloud.azure.resourceGroupID"!`)}),{loading:!0}),u.execute((async()=>{if(dn.value.organizationGroupId){const n=await rn.getOrgGroupNameByOrgID(dn.value.id);vn.value=n||"No Organization Group"}else vn.value="No Organization Group"}),{loading:!0})})),(n,t)=>{var r,s,l,d,c,p,sn,ln,xn,hn,yn,In,wn,En,kn,Qn,Dn;return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",f,[(0,a._)("button",{class:"manage-btn",onClick:t[0]||(t[0]=n=>{cn.showDialog((0,a.RC)((()=>o.e(2623).then(o.bind(o,62623)))),{closable:!0,title:"Manage Organization",width:"592px",maxHeight:"650px",closeCb:n=>{"component"==n&&Bn()}},{organization:dn.value})})},m),(0,a._)("button",{class:"delete-org-btn",onClick:t[1]||(t[1]=n=>function(){var n,i;cn.showDialog((0,a.RC)((()=>Promise.all([o.e(9607),o.e(8363)]).then(o.bind(o,78570)))),{closable:!0,title:"Delete Organization",width:"577px",maxHeight:"206px"},{infoText:"Organization Name",placeholder:`Write organization name '${null===(n=dn.value)||void 0===n?void 0:n.name}' to delete`,validText:null===(i=dn.value)||void 0===i?void 0:i.name,deleteCb:async()=>{await u.execute((async()=>{var n,o;await rn.deleteOrganization(null===(n=dn.value)||void 0===n?void 0:n.id,null===(o=dn.value)||void 0===o?void 0:o.name),e.push("/backoffice/organizations")}),{loading:!0})}})}())},v)]),(0,a._)("div",x,[(0,a._)("div",C,[b,(0,a._)("div",z,(0,i.toDisplayString)(null===(r=dn.value)||void 0===r?void 0:r.name),1)]),(0,a._)("div",B,[h,(0,a._)("div",y,(0,i.toDisplayString)(pn.value.length),1)]),(0,a._)("div",I,[w,(0,a._)("div",E,(0,i.toDisplayString)(gn.value.length),1)]),(0,a._)("div",k,[Q,(0,a._)("div",D,(0,i.toDisplayString)(Cn(null===(s=dn.value)||void 0===s?void 0:s.createDate)),1)]),(0,a._)("div",F,[U,(0,a._)("div",O,(0,i.toDisplayString)(null===(l=dn.value)||void 0===l?void 0:l.id),1)]),(0,a.kq)(' <div class="organization-info-type">\n            <div class="organization-info-type-name">DB Name</div>\n            <div class="organization-info">{{ organization?.dbName }}</div>\n        </div> '),(0,a._)("div",G,[_,(0,a._)("div",T,(0,i.toDisplayString)(vn.value),1)])]),(0,a._)("div",R,[(0,a._)("div",N,[L,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(un.value,(n=>((0,a.wg)(),(0,a.iD)("span",{key:n.id,class:"tag-name",onClick:o=>{return a=n.id,void e.push(`/backoffice/tag/${a}`);var a}},(0,i.toDisplayString)(n.name),9,S)))),128))])]),(0,a._)("div",M,[fn.value?((0,a.wg)(),(0,a.iD)("div",W,[(0,a.Wm)(g.Z,{users:pn.value},null,8,["users"])])):(0,a.kq)("v-if",!0)]),(0,a._)("div",P,[mn.value?((0,a.wg)(),(0,a.iD)("div",Z,[(0,a.Wm)(A.Z,{apps:gn.value},null,8,["apps"])])):(0,a.kq)("v-if",!0)]),(0,a._)("div",H,[j,(0,a._)("div",null,[(0,a._)("table",q,[(0,a._)("tr",null,[V,(null===(p=null===(c=null===(d=dn.value)||void 0===d?void 0:d.cloud)||void 0===c?void 0:c.azure)||void 0===p?void 0:p.resourceGroupID)?((0,a.wg)(),(0,a.iD)("td",$,(0,i.toDisplayString)(null===(xn=null===(ln=null===(sn=dn.value)||void 0===sn?void 0:sn.cloud)||void 0===ln?void 0:ln.azure)||void 0===xn?void 0:xn.resourceGroupID),1)):((0,a.wg)(),(0,a.iD)("td",Y,"-")),(0,a._)("td",J,[(0,a._)("div",null,[(null===(hn=An.value)||void 0===hn?void 0:hn.overviewUrl)?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"view-btn",onClick:bn},"VIEW")):(0,a.kq)("v-if",!0)])])]),(0,a._)("tr",null,[X,(null===(wn=null===(In=null===(yn=dn.value)||void 0===yn?void 0:yn.cloud)||void 0===In?void 0:In.azure)||void 0===wn?void 0:wn.modelStorageID)?((0,a.wg)(),(0,a.iD)("td",K,(0,i.toDisplayString)(null===(Qn=null===(kn=null===(En=dn.value)||void 0===En?void 0:En.cloud)||void 0===kn?void 0:kn.azure)||void 0===Qn?void 0:Qn.modelStorageID),1)):((0,a.wg)(),(0,a.iD)("td",nn,"-")),en]),(0,a._)("tr",null,[on,an,(0,a._)("td",null,[(0,a._)("div",null,[(null===(Dn=An.value)||void 0===Dn?void 0:Dn.costUrl)?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"view-btn",onClick:zn},"VIEW")):(0,a.kq)("v-if",!0)])])]),tn])])])],64)}}});var sn=o(17450),ln=o.n(sn),dn=o(29530),cn=o.n(dn),pn=o(16199),gn=o.n(pn),An=o(40458),un=o.n(An),fn=o(62916),mn=o.n(fn),vn=o(92165),xn=o.n(vn),Cn=o(88099),bn={};bn.styleTagTransform=xn(),bn.setAttributes=un(),bn.insert=gn().bind(null,"head"),bn.domAPI=cn(),bn.insertStyleElement=mn(),ln()(Cn.Z,bn),Cn.Z&&Cn.Z.locals&&Cn.Z.locals;var zn=o(11672),Bn={};Bn.styleTagTransform=xn(),Bn.setAttributes=un(),Bn.insert=gn().bind(null,"head"),Bn.domAPI=cn(),Bn.insertStyleElement=mn(),ln()(zn.Z,Bn),zn.Z&&zn.Z.locals&&zn.Z.locals;const hn=(0,o(32525).Z)(rn,[["__scopeId","data-v-0c6c5c4c"]])}}]);
//# sourceMappingURL=1938.js.map