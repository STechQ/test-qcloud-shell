"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[3615],{17207:(M,e,l)=>{l.d(e,{Z:()=>A});var t=l(8375),i=l.n(t),o=l(7638),a=l.n(o)()(i());a.push([M.id,"\n.disabled[data-v-a6d53568] {\n  opacity: 0.6;\n}\n",""]);const A=a},229:(M,e,l)=>{l.r(e),l.d(e,{default:()=>O});var t=l(71093),i=l(66190),o=l(73843),a=l(5627),A=l(88613),n=l(69700),D=l(38221);const d=(0,t.aZ)({__name:"monacoEditor",props:{lang:String,width:{type:[String,Number],default:"98%"},height:{type:[String,Number],default:"90%"},isReadOnly:{type:Boolean,default:!1}},emits:["onCodePasted","updateUndoRedoState"],setup(M,{expose:e,emit:l}){const a=M;let A;(0,t.bv)((()=>{D.Z.init().then((M=>{const e={automaticLayout:!0,readOnly:a.isReadOnly},t=M.editor.create(document.getElementById("editor"),e);M.editor.EditorOptions,A=()=>t,M.languages.typescript.typescriptDefaults.setCompilerOptions({moduleResolution:M.languages.typescript.ModuleResolutionKind.NodeJs,module:M.languages.typescript.ModuleKind.CommonJS}),t.onDidChangeModelContent((()=>{l("updateUndoRedoState",u(),s())}))}))}));const d=()=>{A().onDidPaste((function(M){l("onCodePasted")}))},u=()=>{var M;return null!==(M=A().getModel().canUndo())&&void 0!==M&&M},s=()=>{var M;return null!==(M=A().getModel().canRedo())&&void 0!==M&&M};(0,t.ic)((()=>{d()}));const j=(0,t.Fl)((()=>{let{width:M,height:e}=a;return{width:M,height:e}}));return e({setMonacoLang:M=>{A()._modelData.model.setLanguage(M)},getCodeValue:()=>A().getValue(),setCodeValue:M=>{A().setValue(M)},setSelections:M=>{A().setSelections(M)},getSelections:()=>A().getSelections(),setScrollTop:M=>{A().setScrollTop(M)},getScrollTop:()=>A().getScrollTop(),insertText:M=>{const e=A();if(!e)return;var l=e.getPosition();const t=l.column,i=l.lineNumber;var o={identifier:{major:1,minor:1},range:new n.e6(i,t,i,t),text:M.text,forceMoveMarkers:!0};e.executeEdits("my-source",[o])},onPasteCode:d,style:j,undo:()=>{A().trigger("keyboard","undo",null)},redo:()=>{A().trigger("keyboard","redo",null)},canUndo:u,canRedo:s}),(0,t.YP)((()=>a.isReadOnly),(M=>{console.log("Watch props.isReadOnly function called with args:",M),A().updateOptions({readOnly:a.isReadOnly})})),(M,e)=>((0,t.wg)(),(0,t.iD)("div",{id:"editor",style:(0,i.normalizeStyle)((0,o.SU)(j))},null,4))}}),u=d,s=(0,t.aZ)({__name:"fileEditor",props:{functions:null,callbacks:null},setup(M){const e=M,l=(0,o.iH)(),n=(0,o.iH)(!0),D=a.nC.resolve(A.J);e.functions.getModel=async()=>{const M=l.value.getScrollTop(),e=l.value.getSelections(),t=l.value.style.width,i=l.value.style.height;return{model:l.value.getCodeValue(),state:{scrollTop:M,selections:e,width:t,height:i,checkout:n.value}}},e.functions.setModel=async(M,e,t)=>{var i,o,a,A;l.value.setMonacoLang(t),l.value.style.width=e.width?e.width:"98%",l.value.style.height=e.height?e.height:"90%",e.scrollTop&&(null===(o=(i=l.value).setScrollTop)||void 0===o||o.call(i,e.scrollTop)),e.selections&&(null===(A=(a=l.value).setSelections)||void 0===A||A.call(a,e.selections)),n.value=!e.checkout||!e.checkout,l.value.style.resize="none",l.value.style.outline="none",l.value.setCodeValue(M)},e.functions.insertText=async(M,t)=>{l.value.insertText({text:M}),e.callbacks.modified({model:!0})},e.functions.undo=()=>{var M;null===(M=l.value)||void 0===M||M.undo()},e.functions.redo=()=>{var M;null===(M=l.value)||void 0===M||M.redo()};const d=(M,e)=>{D.studio.topMenu.dynamicButtons.find((M=>"undo"==M.ID)).disabled=!M,D.studio.topMenu.dynamicButtons.find((M=>"redo"==M.ID)).disabled=!e},s={select:()=>{e.callbacks.modified({state:!0})},scroll:()=>{e.callbacks.modified({state:!0})},change:()=>{e.callbacks.modified({model:!0})},keydown:M=>{const l=M,t=l.code.toLowerCase();l.shiftKey||l.ctrlKey||t.startsWith("arrow")||e.callbacks.modified({model:!0})},resize:()=>{e.callbacks.modified({state:!0})},input:()=>{e.callbacks.modified({model:!0})}},j=M=>{const e=M?l.value.$el.addEventListener:l.value.$el.removeEventListener;Object.keys(s).forEach((M=>e.call(l.value.$el,M,s[M])))};return(0,t.bv)((()=>{j(!0)})),(0,t.Jd)((()=>{j(!1)})),(M,o)=>((0,t.wg)(),(0,t.j4)(u,{ref_key:"editor",ref:l,class:(0,i.normalizeClass)({disabled:n.value}),onOnCodePasted:o[0]||(o[0]=M=>e.callbacks.modified({model:!0})),onUpdateUndoRedoState:d,isReadOnly:n.value},null,8,["class","isReadOnly"]))}});var j=l(17450),c=l.n(j),g=l(29530),I=l.n(g),w=l(16199),N=l.n(w),T=l(40458),y=l.n(T),z=l(62916),r=l.n(z),C=l(92165),L=l.n(C),x=l(17207),p={};p.styleTagTransform=L(),p.setAttributes=y(),p.insert=N().bind(null,"head"),p.domAPI=I(),p.insertStyleElement=r(),c()(x.Z,p),x.Z&&x.Z.locals&&x.Z.locals;const O=(0,l(32525).Z)(s,[["__scopeId","data-v-a6d53568"]])},94748:M=>{M.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII="},6161:M=>{M.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},51096:M=>{M.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="}}]);