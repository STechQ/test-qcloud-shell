"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[4097],{21348:(n,e,a)=>{a.d(e,{Z:()=>d});var t=a(34663),i=a.n(t),o=a(7638),r=a.n(o)()(i());r.push([n.id,'\n*[data-v-2da6d3e7] {\n        font-family: "Roboto";\n}\n.container[data-v-2da6d3e7] {\n        padding: 32px 20px 20px\n}\n.updateOrCreateTextAreaDiv[data-v-2da6d3e7] {\n        height: 77px;\n}\n.updateOrCreateTextarea[data-v-2da6d3e7] {\n        width: 100%;\n        outline: none;\n        height: 120px;\n        border: 1px solid #A1A1A1;\n        border-radius: 4px;\n        opacity: 1;\n        resize: none;\n        margin-top: 3px;\n}\n.updateOrCreateInputDiv[data-v-2da6d3e7] {\n        height: 173px;\n}\n.updateOrCreateInput[data-v-2da6d3e7] {\n        width: 100%;\n        outline: none;\n        height: 40px;\n        border: 1px solid #A1A1A1;\n        border-radius: 4px;\n        opacity: 1;\n        margin-top: 3px;\n}\n.updateOrCreateRow[data-v-2da6d3e7] {\n        display: flex;\n        text-align: end;\n}\n.updateOrCreateBtn[data-v-2da6d3e7] {\n        background-color: #151233;\n        color: #fff;\n        border-radius: 4px;\n        /* width: 72px; */\n        height: 40px;\n        font-weight: 500;\n        font-size: 16px;\n        padding: 8px 15px;\n}\n.cancel-button[data-v-2da6d3e7] {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #757575;\n        padding: 8px 16px;\n        border-radius: 4px;\n        margin-right: 4px;\n        border: none;\n        background: transparent;\n}\n[data-v-2da6d3e7]::placeholder {\n        padding-left: 10px;\n        padding-top: 5px;\n        color: #A1A1A1;\n        font-style: normal;\n        font-family: "ROBOTO";\n        letter-spacing: 0px;\n        font-size: 14px;\n        opacity: 1px;\n}\n',"",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/backoffice/addOrUpdateTag.vue"],names:[],mappings:";AA8FI;QACI,qBAAqB;AACzB;AACA;QACI;AACJ;AACA;QACI,YAAY;AAChB;AACA;QACI,WAAW;QACX,aAAa;QACb,aAAa;QACb,yBAAyB;QACzB,kBAAkB;QAClB,UAAU;QACV,YAAY;QACZ,eAAe;AACnB;AAEA;QACI,aAAa;AAEjB;AAEA;QACI,WAAW;QACX,aAAa;QACb,YAAY;QACZ,yBAAyB;QACzB,kBAAkB;QAClB,UAAU;QACV,eAAe;AACnB;AAEA;QACI,aAAa;QACb,eAAe;AACnB;AAEA;QACI,yBAAyB;QACzB,WAAW;QACX,kBAAkB;QAClB,iBAAiB;QACjB,YAAY;QACZ,gBAAgB;QAChB,eAAe;QACf,iBAAiB;AACrB;AACA;QACI,gBAAgB;QAChB,eAAe;QACf,kBAAkB;QAClB,cAAc;QACd,iBAAiB;QACjB,kBAAkB;QAClB,iBAAiB;QACjB,YAAY;QACZ,uBAAuB;AAC3B;AACA;QACI,kBAAkB;QAClB,gBAAgB;QAChB,cAAc;QACd,kBAAkB;QAClB,qBAAqB;QACrB,mBAAmB;QACnB,eAAe;QACf,YAAY;AAChB",sourcesContent:['<script setup lang="ts">\n    import { container } from "tsyringe";\n    import { computed, ref } from "vue";\n    import { ITags } from "../../../../../../../common/qCloudTemp/quickCloud";\n    import { IIDEInputDefinitions } from "../../../../../domain/presentation/IIDEInputDefinitions";\n    import { IBackofficeUseCase } from "../../../../../domain/useCase/IBackofficeUseCase";\n    import { IUseCaseExecutor } from "../../../../../domain/useCase/IUseCaseExecutor";\n    import IDEInput from "../../../components/application/IDEInput.vue";\n\n\n    interface ICreateorUpdateTag {\n        tag?: ITags;\n    }\n\n    const executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\n    const backofficeUseCase = container.resolve<IBackofficeUseCase>(IBackofficeUseCase);\n    const props = defineProps<ICreateorUpdateTag>();\n\n    const name = ref(props.tag?.name);\n    const isTagNameValid = ref<boolean>(false);\n    const isDescriptionValid = ref<boolean>(true);\n    const description = ref(props.tag?.description);\n    const emit = defineEmits(["close"]);\n\n\n    const validations = ref<Record<"name" | "description", IIDEInputDefinitions["validations"]>>({\n        name: { minAndMaxLength: { min: 3, max: 25 }, availableCharacters: true, nonSpaceCharacter: true },\n        description: { minAndMaxLength: { min: 3, max: 100 }, availableCharacters: false, nonSpaceCharacter: false },\n    });\n    function tagNameValidationStatus(isValid: boolean) {\n        isTagNameValid.value = isValid\n\n    }\n    const isThereUpdate = () => {\n        if(props.tag) {\n            return !(props.tag!.name == name.value && props.tag!.description == description.value)\n        }\n        else {\n            return true;\n        }\n    }\n    function addOrUpdateTag() {\n        executor.execute( async () => {\n            if(props.tag) {\n                await backofficeUseCase.updateTag({ID: props.tag.ID, tag: {name: name.value!, description: description.value}});\n            }\n            else {\n                await backofficeUseCase.addTag({name: name.value!, description: description.value});\n            }\n            close();\n        }, {loading: true})\n    }\n    function descriptionValidationStatus(isValid: boolean) {\n        isDescriptionValid.value = isValid\n\n    }\n    function setNameValue(value: string) {\n        name.value = value\n    }\n\n    function setDescValue(desc: string) {\n        description.value = desc\n    }\n    function close() {\n        emit("close");\n    }\n\n    const addButtonDisabled = computed(() => !isTagNameValid.value || !isDescriptionValid.value || !isThereUpdate());\n\n<\/script>\n\n<template>\n    <div class="container">\n        <div class=\'updateOrCreateTextAreaDiv\'>\n            <IDEInput :isRequired="true" @getValue="setNameValue" @validateStatus="tagNameValidationStatus" placeholder=""\n                :type="\'text\'" :value="props.tag?.name"  info-text="Tag Name" :validations="validations.name" />\n        </div>\n        <div class=\'updateOrCreateInputDiv\'>\n            <IDEInput :isRequired="false" @validateStatus="descriptionValidationStatus" placeholder="" \n                :type="\'textarea\'" :value="props.tag?.description"   info-text="Description" :validations="validations.description" @getValue="setDescValue" />\n        </div>\n        <div class=\'updateOrCreateRow\'>\n            <div class="col">\n                <button class="cancel-button" @click="close()">Cancel</button>\n                <button :style="{ color: addButtonDisabled ? \'#757575\' : \'#FFFFFF\' }" class=\'updateOrCreateBtn\'\n                    @click="addOrUpdateTag()" :disabled="addButtonDisabled">{{\n                            tag ? "SAVE" : "CREATE"\n                    }}</button>\n            </div>\n        </div>\n    </div>\n\n</template>\n<style scoped>\n    * {\n        font-family: "Roboto";\n    }\n    .container {\n        padding: 32px 20px 20px\n    }\n    .updateOrCreateTextAreaDiv {\n        height: 77px;\n    }\n    .updateOrCreateTextarea {\n        width: 100%;\n        outline: none;\n        height: 120px;\n        border: 1px solid #A1A1A1;\n        border-radius: 4px;\n        opacity: 1;\n        resize: none;\n        margin-top: 3px;\n    }\n\n    .updateOrCreateInputDiv {\n        height: 173px;\n\n    }\n\n    .updateOrCreateInput {\n        width: 100%;\n        outline: none;\n        height: 40px;\n        border: 1px solid #A1A1A1;\n        border-radius: 4px;\n        opacity: 1;\n        margin-top: 3px;\n    }\n\n    .updateOrCreateRow {\n        display: flex;\n        text-align: end;\n    }\n\n    .updateOrCreateBtn {\n        background-color: #151233;\n        color: #fff;\n        border-radius: 4px;\n        /* width: 72px; */\n        height: 40px;\n        font-weight: 500;\n        font-size: 16px;\n        padding: 8px 15px;\n    }\n    .cancel-button {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #757575;\n        padding: 8px 16px;\n        border-radius: 4px;\n        margin-right: 4px;\n        border: none;\n        background: transparent;\n    }\n    ::placeholder {\n        padding-left: 10px;\n        padding-top: 5px;\n        color: #A1A1A1;\n        font-style: normal;\n        font-family: "ROBOTO";\n        letter-spacing: 0px;\n        font-size: 14px;\n        opacity: 1px;\n    }\n</style>\n'],sourceRoot:""}]);const d=r},30647:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoHelper=void 0;var a=function(){function n(){}return n.GetRandomWord=function(n,e){return Math.random().toString(n).substring(2,e+2)},n.CreateGuid=function(){var e=this;return[8,4,4,4,6].map((function(n){return e.GetRandomWord(36,n)})).join("-")+(++n.guidCounter%215e7).toString(36)},n.guidCounter=0,n}();e.CryptoHelper=a},38695:(n,e,a)=>{a.d(e,{T:()=>t});const t=Symbol.for("IFormValidator")},10756:(n,e,a)=>{a.r(e),a.d(e,{default:()=>U});var t=a(71093),i=a(66190),o=a(73843),r=a(53266),d=a(20559),s=a(83487),l=a(99234);const p={class:"container"},A={class:"updateOrCreateTextAreaDiv"},c={class:"updateOrCreateInputDiv"},u={class:"updateOrCreateRow"},C={class:"col"},g=["disabled"],v=(0,t.aZ)({__name:"addOrUpdateTag",props:{tag:null},emits:["close"],setup(n,{emit:e}){var a,v;const m=n,f=r.nC.resolve(s.y),x=r.nC.resolve(d.X),B=(0,o.iH)(null===(a=m.tag)||void 0===a?void 0:a.name),h=(0,o.iH)(!1),b=(0,o.iH)(!0),I=(0,o.iH)(null===(v=m.tag)||void 0===v?void 0:v.description),Q=(0,o.iH)({name:{minAndMaxLength:{min:3,max:25},availableCharacters:!0,nonSpaceCharacter:!0},description:{minAndMaxLength:{min:3,max:100},availableCharacters:!1,nonSpaceCharacter:!1}});function y(n){h.value=n}function k(n){b.value=n}function D(n){B.value=n}function T(n){I.value=n}function O(){e("close")}const V=(0,t.Fl)((()=>!h.value||!b.value||!(!m.tag||m.tag.name!=B.value||m.tag.description!=I.value)));return(e,a)=>{var r,d;return(0,t.wg)(),(0,t.iD)("div",p,[(0,t._)("div",A,[(0,t.Wm)(l.Z,{isRequired:!0,onGetValue:D,onValidateStatus:y,placeholder:"",type:"text",value:null===(r=m.tag)||void 0===r?void 0:r.name,"info-text":"Tag Name",validations:Q.value.name},null,8,["value","validations"])]),(0,t._)("div",c,[(0,t.Wm)(l.Z,{isRequired:!1,onValidateStatus:k,placeholder:"",type:"textarea",value:null===(d=m.tag)||void 0===d?void 0:d.description,"info-text":"Description",validations:Q.value.description,onGetValue:T},null,8,["value","validations"])]),(0,t._)("div",u,[(0,t._)("div",C,[(0,t._)("button",{class:"cancel-button",onClick:a[0]||(a[0]=n=>O())},"Cancel"),(0,t._)("button",{style:(0,i.normalizeStyle)({color:(0,o.SU)(V)?"#757575":"#FFFFFF"}),class:"updateOrCreateBtn",onClick:a[1]||(a[1]=n=>{f.execute((async()=>{m.tag?await x.updateTag({ID:m.tag.ID,tag:{name:B.value,description:I.value}}):await x.addTag({name:B.value,description:I.value}),O()}),{loading:!0})}),disabled:(0,o.SU)(V)},(0,i.toDisplayString)(n.tag?"SAVE":"CREATE"),13,g)])])])}}});var m=a(17450),f=a.n(m),x=a(29530),B=a.n(x),h=a(16199),b=a.n(h),I=a(40458),Q=a.n(I),y=a(62916),k=a.n(y),D=a(92165),T=a.n(D),O=a(21348),V={};V.styleTagTransform=T(),V.setAttributes=Q(),V.insert=b().bind(null,"head"),V.domAPI=B(),V.insertStyleElement=k(),f()(O.Z,V),O.Z&&O.Z.locals&&O.Z.locals;const U=(0,a(32525).Z)(v,[["__scopeId","data-v-2da6d3e7"]])}}]);
//# sourceMappingURL=4097.js.map?ver=0.0.293_1704296175033