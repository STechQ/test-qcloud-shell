"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[5924],{87261:(e,n,o)=>{o.d(n,{Z:()=>a});var t=o(8375),l=o.n(t),i=o(7638),d=o.n(i)()(l());d.push([e.id,"\n.container[data-v-637f59ce] {\n    padding: 32px 20px 20px;\n}\n.settings-container[data-v-637f59ce] {\n    position: relative;\n    top: 0px;\n    left: 0px;\n}\n.custom-text[data-v-637f59ce] {\n    /* position: absolute; */\n    font-family: 'Roboto';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 18px;\n    /* left: 24px; */\n    color: #212121;\n}\n\n/* .custom-text.title{\n    top: 92px;\n}\n\n.custom-text.environment{\n    top: 174px;\n} */\n.radio-button[data-v-637f59ce] {\n    position: absolute;\n    top: 60px;\n    left: 20px;\n    cursor: pointer;\n}\n.radio-text[data-v-637f59ce] {\n    position: absolute;\n    top: 59px;\n    font: normal normal normal 14px/19px Roboto;\n    color: #212121;\n    user-select: none;\n    cursor: pointer;\n}\n.existing-app-url[data-v-637f59ce] {\n    position: absolute;\n    width: 760px;\n    height: 40px;\n    top: 114px;\n    left: 20px;\n    background: #ffffff 0% 0% no-repeat padding-box;\n    border: 1px solid #bcbcbc;\n    border-radius: 4px;\n    font: normal normal normal 14px/19px Roboto;\n    letter-spacing: 0px;\n    padding: 10px 0px 10px 10px;\n}\n.url-error[data-v-637f59ce] {\n    border: 1px solid red;\n}\n.url-disable[data-v-637f59ce] {\n    opacity: 0.5;\n}\n.existing-app-url[data-v-637f59ce]::placeholder {\n    color: #bcbcbc;\n    user-select: none;\n}\n.modules-selected-checkbox[data-v-637f59ce] {\n    cursor: pointer;\n}\n.modules-selected-text[data-v-637f59ce] {\n    font: normal normal normal 14px/19px Roboto;\n    color: #757575;\n    margin: 0 0 13px 30px;\n}\n\n/* .modules-selected-text.deploy {\n    top: 257px;\n} */\n.text-number[data-v-637f59ce] {\n    font: normal normal bold 14px/19px Roboto;\n    color: #212121;\n}\n.modules-datatable[data-v-637f59ce] {\n    width: 760px;\n    height: 288px;\n    border: 1px solid #bcbcbc;\n    overflow-x: hidden;\n    overflow-y: auto;\n    margin-bottom: 20px;\n}\n\n/* .modules-datatable.deploy {\n    top: 286px;\n} */\n.modules-datatable[data-v-637f59ce]::-webkit-scrollbar {\n    width: 4px;\n}\n.modules-datatable[data-v-637f59ce]::-webkit-scrollbar-thumb {\n    background: #bcbcbc 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n}\n.modules-datatable[data-v-637f59ce]::-webkit-scrollbar-thumb:hover {\n    background: #555;\n}\n.row-container[data-v-637f59ce] {\n    width: 100%;\n    height: 36px;\n    position: relative;\n    background: #ffffff 0% 0% no-repeat padding-box;\n    border: 1px solid #e0e0e0;\n}\n.chevron[data-v-637f59ce] {\n    position: absolute;\n    left: 4px;\n    color: #757575;\n    font-size: 24px;\n}\n.chevron.disabled[data-v-637f59ce] {\n    pointer-events: none;\n    color: #D5D5D5;\n}\n.module-checkbox[data-v-637f59ce] {\n    position: absolute;\n    top: 10px;\n    left: 43px;\n    cursor: pointer;\n}\n.module-name[data-v-637f59ce] {\n    position: absolute;\n    top: 9px;\n    left: 69px;\n    font: normal normal normal 14px/19px Roboto;\n    color: #212121;\n}\n.module-name.imported[data-v-637f59ce] {\n    top: 10px;\n    left: 87px;\n}\n.module-name.disabled[data-v-637f59ce] {\n    color: #D5D5D5;\n}\n.model-checkbox[data-v-637f59ce] {\n    position: absolute;\n    top: 10px;\n    left: 59px;\n    cursor: pointer;\n}\n.model-icon[data-v-637f59ce] {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    top: 6px;\n    left: 85px;\n}\n.app-tier-model-icon[data-v-637f59ce] {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    top: 6px;\n    left: 69px\n}\n.app-tier-model-name[data-v-637f59ce] {\n    position: absolute;\n    top: 10px;\n    left: 87px;\n    font: normal normal normal 14px/19px Roboto;\n    color: #212121;\n}\n.app-tier-model-name.disabled[data-v-637f59ce] {\n    color: #D5D5D5;\n}\n.model-name[data-v-637f59ce] {\n    position: absolute;\n    top: 9px;\n    left: 103px;\n    font: normal normal normal 14px/19px Roboto;\n    color: #212121;\n}\n.model-name.disabled[data-v-637f59ce] {\n    color: #D5D5D5;\n}\n.version-text[data-v-637f59ce] {\n    margin: 10px 7px 10px auto;\n    display: table;\n    font: normal normal normal 12px/16px Roboto;\n    color: #757575;\n    cursor: pointer;\n    user-select: none;\n}\n.version-text.disabled[data-v-637f59ce] {\n    pointer-events: none;\n    cursor: pointer;\n}\n.version-icon[data-v-637f59ce] {\n    font: normal normal normal 16px/19px Material Design Icons;\n    color: #D5D5D5;\n}\n.version-icon.disabled[data-v-637f59ce] {\n    font: normal normal normal 16px/19px Material Design Icons;\n    color: #EEEEEE;\n    pointer-events: none;\n    cursor: pointer;\n}\n.footer[data-v-637f59ce] {\n    position: relative;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: end;\n}\n.footer.deploy[data-v-637f59ce] {\n    position: relative;\n    width: 100%;\n}\n.info[data-v-637f59ce] {\n    margin-bottom: 40px;\n}\n.cancel-button[data-v-637f59ce] {\n    border-radius: 4px;\n    user-select: none;\n    font-style: normal;\n    font-weight: 500;\n    font-family: \"ROBOTO\";\n    font-size: 15px;\n    color: #757575;\n    padding: 10px 16px;\n    cursor: pointer;\n}\n.save-button[data-v-637f59ce] {\n    background: #151233 0% 0% no-repeat padding-box;\n    border-radius: 4px;\n    user-select: none;\n    font-weight: 500;\n    font-size: 15px;\n    color: #ffffff;\n    padding: 10px 16px;\n    cursor: pointer;\n}\n.mobile-publish-text[data-v-637f59ce],\n.web-publish-text[data-v-637f59ce] {\n    padding: 5px 12px;\n    margin-bottom: 52px;\n    width: 100%;\n    color: #757575;\n    font-size: 14px;\n    background: #F5F5FA;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n}\n.mobile-publish-text i[data-v-637f59ce],\n.web-publish-text i[data-v-637f59ce] {\n    font-size: 24px;\n    color: #151233;\n    margin-right: 4px;\n}\n.save-button.deploy[data-v-637f59ce] {\n    padding: 10px 16px;\n}\n.button-disable .save-button[data-v-637f59ce] {\n    color: #757575;\n    cursor: default;\n}\n.button-disable .save-button:hover+.button-tooltip[data-v-637f59ce],\n.start-screen:hover .button-tooltip[data-v-637f59ce],\n.row-container:hover .button-tooltip[data-v-637f59ce],\n.publish-info:hover .button-tooltip[data-v-637f59ce] {\n    visibility: visible;\n    transition: opacity 0.3s ease-out 1s;\n    opacity: 1;\n}\n.button-tooltip[data-v-637f59ce] {\n    visibility: hidden;\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 11px;\n    font-family: 'Roboto';\n    text-align: center;\n    border-radius: 4px;\n    letter-spacing: 0.2px;\n    padding: 6px 8px 6px 8px;\n    top: 56px;\n    left: 63px;\n    opacity: 0;\n}\n.publish-info[data-v-637f59ce] {\n    color: #757575;\n    font-size: 20px;\n    margin-left: 10px;\n}\n.select-environment[data-v-637f59ce] {\n    width: 100%;\n    font-size: 15px;\n    height: 40px;\n    line-height: 40px;\n    margin-top: 4px\n}\n",""]);const a=d},54120:(e,n,o)=>{o.d(n,{Z:()=>a});var t=o(8375),l=o.n(t),i=o(7638),d=o.n(i)()(l());d.push([e.id,"\n.selected-environment {\n    background-color: transparent;\n    border-radius: 4px;\n    border: 1px solid #BCBCBC;\n    color: #212121;\n    padding-left: 12px;\n}\n.custom-placeholder:empty:before {\n    color: #BCBCBC !important;\n    font-weight: 400;\n}\n.custom-select .items .option {\n    font-size: 14px;\n    padding-left: 12px;\n    line-height: 32px;\n}\n.custom-select .items .option:hover {\n    background-color: #EEEEEE;\n    color: #212121;\n}\n.custom-select .items .option.disabled:hover {\n    background-color: #FFFFFF;\n    color: #212121;\n}\n.custom-select.select-environment .items {\n    margin-top: 4px;\n    color: #212121;\n    border-radius: 4px;\n    border: 1px solid #E3E3E3;\n    overflow: hidden;\n    background-color: #FFFFFF;\n    box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);\n    position: static !important;\n}\n",""]);const a=d},24747:(e,n,o)=>{o.d(n,{X:()=>l});var t=o(28518);class l{constructor(){}createOverriderMap(e){return e.reduce(((e,n)=>n.overriddenModel?(e.set(n.overriddenModel.ID,n.ID),e):e),new Map)}changeModelRef(e,n,o){const l="object"==typeof e;let i=l?JSON.stringify(e):e;return i=i.replace(/<<([a-zA-Z0-9_]+):([a-zA-Z0-9_\-]+)>>/g,((e,l,i)=>{const d=n.get(i)||i;return t.x.embedIdTypeWithAppId(o,d,l)})),l?JSON.parse(i):i}}},95150:(e,n,o)=>{let t;o.d(n,{he:()=>l,vf:()=>i});const l=t={getUser:{name:"getUser",type:"flow"},notify:{name:"notify",type:"flow"},userTaskActivity:{name:"userTaskActivity",type:"flow"},preForm:{name:"TaskPreview",type:"qjson"}},i=t={iPaasEndPoint:{name:"IPaaS_Endpoint",type:"constant"}}},55287:(e,n,o)=>{o.d(n,{P:()=>t});const t=Symbol.for("ICreateWorkflowExportJob")},29307:(e,n,o)=>{o.d(n,{w:()=>t});const t=Symbol.for("IFileDisplayerUseCase")},62376:(e,n,o)=>{o.d(n,{q:()=>t});const t=Symbol.for("IListMultiModelVersions")},17379:(e,n,o)=>{o.d(n,{y:()=>t});const t=Symbol.for("IListMultiModuleVersions")},55924:(e,n,o)=>{o.r(n),o.d(n,{default:()=>Y});var t=o(71093),l=o(66190),i=o(73843),d=o(46233),a=o(5627),r=o(91056),s=o(55287),c=o(29307),p=o(3329),u=o(62376),v=o(17379),f=o(29633),m=o(83487),h=o(88613),b=o(67457),x=o(66354),y=o(24747),g=o(84874),k=o(95150),w=o(40918),C=o(64740),I=o(28518),D=o(50419),E=o(9595);const T=e=>((0,t.dD)("data-v-637f59ce"),e=e(),(0,t.Cn)(),e),F={class:"container"},M={class:(0,l.normalizeClass)(["modules-selected-text"])},S={class:"text-number"},A={class:"text-number"},U=T((()=>(0,t._)("div",{class:(0,l.normalizeClass)(["modules-datatable"]),id:"module-container-div"},null,-1))),z={class:"info"},_={class:(0,l.normalizeClass)(["footer","export"])},P=[T((()=>(0,t._)("span",{class:"save-button"},"DOWNLOAD",-1)))],Z=(0,t.aZ)({__name:"workflowExportDialog",emits:["close"],setup(e,{emit:n}){const T=a.nC.resolve(h.J),Z=a.nC.resolve(r.u),B=a.nC.resolve(m.y),H=a.nC.resolve(c.w),R=a.nC.resolve(f._),j=a.nC.resolve(g.B),O=a.nC.resolve(C.t),V=a.nC.resolve(D.L),L=(0,i.iH)([]),q=(0,i.iH)(),W=(0,i.iH)(),$=(0,i.iH)(),N=(0,i.iH)(),J=(0,i.iH)(""),X=(0,i.iH)(!0),G=j.flattenAllModels(),K=(new y.X).createOverriderMap(G);(0,t.bv)((async()=>{await B.execute((async()=>{await Promise.all([B.executeUseCase(u.q,{excludedTypes:["bpmn","process","entityDesigner","process"]}).then((e=>q.value=e)),B.executeUseCase(v.y,{}).then((e=>W.value=e))]),function(){const e=new Map,n=new Map;j.flattenAllModels().forEach((e=>{var o,t,l,i;let d;if("module"==e.owner.objectType&&R.isModuleImported(e.owner)){const n=null===(o=W.value)||void 0===o?void 0:o.get(e.owner.ID),l=null===(t=e.owner.relatedApplications.find((e=>e.applicationID==T.studio.appId)))||void 0===t?void 0:t.importedVersion,i=null==n?void 0:n.filter((e=>e.version==l)).flatMap((e=>e.relatedModelHistories)).find((n=>n.modelID==e.ID));d=null==i?void 0:i.version}else{const o=ce(e);if(!o)return n.set(e.ID,e.dependentModels?e.dependentModels.map((e=>e.modelId)):Array());d=o}const a=null===(i=null===(l=q.value)||void 0===l?void 0:l.get(e.ID))||void 0===i?void 0:i.find((e=>e.version==d)),r=(null==a?void 0:a.dependentModels)?null==a?void 0:a.dependentModels.map((e=>e.modelId)).map((e=>K.get(e)||e)):Array();n.set(e.ID,r)})),n.forEach(((o,t)=>{const l=Array();n.forEach(((e,n)=>{e.some((e=>e==t))&&l.push(n)})),e.set(t,{dependedBy:l,dependedTo:o})})),N.value=e}(),function(){const e=T.studio.items.find((e=>"App Settings"==e.name)),n=ce(e),o=e&&{id:e.ID,name:e.name,checked:!0,disabled:!1,type:e.modelType,version:n||"latest"};e&&o&&re({newItem:o});const t=H.cloneFileExplorerTreeView({displayFilterer:(e,n)=>{if(e.ID===p.oA.uiAssetListID)return!1;switch(e.objectType){case"application":return!1;case"module":case"model":return!0;case"folder":return n}}}),l=(e,n)=>{var o,t,i,d,a,r,s,c,p;const u=e.externalData;if("application"==u.objectType)throw new Error("unexpected item type");let v,f=R.getFullPath(u,"self").split("/").length-1;switch(u.objectType){case"folder":v={id:u.ID,name:u.name,type:"folder",collapsed:!0,level:f,children:null===(o=e.children)||void 0===o?void 0:o.map((e=>l(e,{ownerModule:n.ownerModule})))},null===(t=v.children)||void 0===t||t.forEach((e=>e.parent=v)),he(v,!1);break;case"model":if(n.ownerModule)if(v={id:u.ID,name:u.name,type:u.modelType,level:f,overridden:u.overridden},!n.ownerModule.isImportedModule||u.isUnmodifiableTotal){const e=ce(u);v={...v,checked:!!(e&&"appSettings"!=u.usageType||se(u))||u.isUnmodifiableTotal,disabled:!(e&&"appSettings"!=u.usageType||"appSettings"!=u.usageType||u.isUnmodifiableTotal),version:e||"latest"}}else{const e=null===(i=n.ownerModule.relatedModelHistories)||void 0===i?void 0:i.find((e=>e.modelID==u.ID));v={...v,checked:!0,disabled:!1,version:null==e?void 0:e.version,overridden:u.overridden}}else{const e=ce(u);v={id:u.ID,name:u.name,checked:!!(e&&"appSettings"!=u.usageType||se(u))||u.isUnmodifiableTotal,disabled:!(e&&"appSettings"!=u.usageType||"appSettings"!=u.usageType||u.isUnmodifiableTotal),type:u.modelType,version:e||"latest",level:f,overridden:u.overridden}}break;case"module":const m=R.isModuleImported(u),h=null===(d=u.relatedApplications.find((e=>e.applicationID==T.studio.appId)))||void 0===d?void 0:d.importedVersion,b=m?null===(s=null===(r=null===(a=W.value)||void 0===a?void 0:a.get(u.ID))||void 0===r?void 0:r.find((e=>e.version==h)))||void 0===s?void 0:s.relatedModelHistories:void 0;v={id:u.ID,collapsed:!0,name:u.name,type:"module",imported:m,version:h,children:null===(c=e.children)||void 0===c?void 0:c.map((e=>l(e,{ownerModule:{isImportedModule:m,moduleVersion:h,relatedModelHistories:b}})))},null===(p=v.children)||void 0===p||p.forEach((e=>e.parent=v)),he(v,!1)}return v},i=t.map((e=>l(e,{}))),d=e=>{var n;re({newItem:e}),null===(n=e.children)||void 0===n||n.forEach(d)};i.forEach(d)}(),X.value=!L.value.some((e=>e.checked||e.anyChildChecked))||!de()||!pe()}),{loading:!0})}));const Q=(0,t.Fl)((()=>ee(L.value))),Y=(0,t.Fl)((()=>ee(L.value,!0))),ee=(e,n=!1)=>e.reduce(((e,o)=>{if(n&&(0==(null==o?void 0:o.anyChildChecked)||0==(null==o?void 0:o.checked)))return e;let t=1;return(null==o?void 0:o.children)&&(t+=ee(o.children,n)),e+t}),0),ne=(0,t.Fl)((()=>function(){let e=!1;return L.value.forEach((n=>{var o;"module"==n.type?null===(o=n.children)||void 0===o||o.forEach((n=>{n.version&&(e=!0)})):n.version&&(e=!0)})),e}())),oe=(0,t.Fl)((()=>pe())),te=(0,t.Fl)(de),le=(0,t.Fl)((()=>!X.value||!L.value.some((e=>e.checked||e.anyChildChecked))||!de())),ie=(0,i.iH)({backgroundColor:"#F5F5FA",color:"#373737",fontSize:"20px",iconColor:"#F3CA40"});function de(){var e,n;const o=new Map;L.value.forEach((e=>{"module"==e.type&&e.children&&e.children.length>0?e.children.forEach((e=>o.set(e.id,1==e.checked))):o.set(e.id,1==e.checked)}));const t=new Map;null===(e=N.value)||void 0===e||e.forEach(((e,n)=>{o.get(n)&&e.dependedTo.forEach((e=>{if(!o.get(e))if(t.has(n)){const o=t.get(n);o.push(e),t.set(n,o)}else t.set(n,[e])}))}));const[l]=t.keys();if(l){const e=t.get(l),o=e?e.map(ae).map((e=>null==e?void 0:e.name)).join(", "):"";J.value=`Select ${o} first. ${null===(n=ae(l))||void 0===n?void 0:n.name} depends on ${o}.`}return 0==t.size}function ae(e){for(const n of L.value){if("module"!=n.type&&n.id==e)return n;if("module"==n.type&&n.children&&n.children.length>0){const o=n.children.find((n=>n.id==e));if(o)return o}}}function re({newItem:e}){e.overridden||(function(e){const n=(0,d.createApp)(x.Z,{handleItemCheckEvent:me,startScreen:$,versionDialog:xe,handleCollapse:ve,item:e,moduleVersionDialog:ye}),o=document.createElement("div");n.mount(o);const t=document.getElementById("module-container-div");null==t||t.appendChild(o)}(e),L.value.push(e))}function se(e){if("css"===e.modelType)return!0;const n=T.studio.items.filter((e=>"model"==e.objectType&&"appSettings"==e.modelType))[0].modelBody;return!!(n?n[0].model:"").includes(e.ID)}function ce(e){var n;if(!(null===(n=q.value)||void 0===n?void 0:n.has(e.ID)))return;const o=q.value.get(e.ID);return o?(e=>{const n=e.map((e=>{const n=e.split(".");return 10*parseInt(n[0])+1*parseInt(n[1])}));n.sort(((e,n)=>n-e));const o=n[0];return`${Math.floor(o/10)}.${o%10}`})(o.map((e=>e.version))):void 0}function pe(){let e=!1,n=!1,o=!1,t=!1;const l=(e,n,o)=>e.checked&&e.type==o&&e.name.toLowerCase()===n.toLowerCase();for(const i of L.value)if("module"==i.type&&i.children?(e||(e=i.children.some((e=>l(e,"getUser","flow")))),n||(n=i.children.some((e=>l(e,"notify","flow")))),o||(o=i.children.some((e=>l(e,k.he.preForm.name,k.he.preForm.type)))),t||(t=i.children.some((e=>l(e,k.vf.iPaasEndPoint.name,k.vf.iPaasEndPoint.type))))):(e||(e=!!l(i,"getUser","flow")),n||(n=!!l(i,"notify","flow")),o||(o=!!l(i,k.he.preForm.name,k.he.preForm.type)),t||(t=!!l(i,k.vf.iPaasEndPoint.name,k.vf.iPaasEndPoint.type))),e&&n&&o&&t)break;return e&&n&&o&&t}function ue(){const e=Q.value==Y.value;L.value.filter((e=>!(null==e?void 0:e.disabled))).forEach((n=>{n.checked=!e,null!=n.allChildChecked&&n.children&&n.children.length>0&&!n.children.some((e=>e.disabled))&&(n.allChildChecked=!e),null!=n.anyChildChecked&&(n.anyChildChecked=!e),n.children&&n.children.filter((e=>!e.disabled)).forEach((n=>n.checked=!e))}))}function ve(e,n,o){var t;e.collapsed=void 0!==o?o:!e.collapsed,n&&(null===(t=e.children)||void 0===t||t.forEach((o=>{document.getElementById(o.id).style.display=e.collapsed?"none":"block",ve(o,n,e.collapsed)})))}function fe(e,n){var o,t;if(e.disabled||e.checked)return;e.checked=!0,e.parent&&he(e.parent,n);const l=null===(t=null===(o=N.value)||void 0===o?void 0:o.get(e.id))||void 0===t?void 0:t.dependedTo;l&&l.forEach((e=>{L.value.forEach((o=>{var t;if("module"==o.type&&!o.allChildChecked){const l=null===(t=o.children)||void 0===t?void 0:t.find((n=>!n.checked&&n.id==e));return l&&fe(l,n),void he(o,n)}o.checked||o.id!=e||(fe(o,n),o.parent&&he(o.parent,n))}))}))}function me(e){e.disabled||function(e){var n,o;const t=null===(o=null===(n=N.value)||void 0===n?void 0:n.get(e.id))||void 0===o?void 0:o.dependedBy;return!!t&&t.some((e=>L.value.some((n=>{var o;return"module"==n.type&&n.anyChildChecked?null===(o=n.children)||void 0===o?void 0:o.some((n=>n.checked&&n.id==e)):n.id==e&&n.checked}))))}(e)||"App Settings"==e.name||("module"!=e.type&&"folder"!=e.type?e.checked?(e.checked=!1,e.parent&&he(e.parent,!0)):fe(e,!0):e.children&&e.children.filter((e=>!e.disabled)).length>0?e.anyChildChecked?(e.children.filter((e=>!e.disabled)).forEach((e=>e.checked=!1)),e.checked=!1,he(e,!0)):(e.children.forEach((e=>fe(e,!0))),e.checked=!0):(e.checked=!e.checked,e.allChildChecked=!1))}function he(e,n){var o,t;e.disabled=e.children&&(0==e.children.length||!(null===(o=e.children)||void 0===o?void 0:o.some((e=>!e.disabled)))),e.allChildChecked=e.children&&e.children.length>0&&!e.children.some((e=>!e.checked||e.disabled)),e.anyChildChecked=null===(t=e.children)||void 0===t?void 0:t.some((e=>e.checked&&!e.disabled)),n&&e.parent&&he(e.parent,!0)}function be(e,n){var o,t,l,i,d,a;const r=null===(o=N.value)||void 0===o?void 0:o.get(n.id);null===(t=N.value)||void 0===t||t.set(n.id,{dependedBy:(null==r?void 0:r.dependedBy)||Array(),dependedTo:(null===(a=null===(d=null===(i=null===(l=q.value)||void 0===l?void 0:l.get(n.id))||void 0===i?void 0:i.find((n=>n.version==e)))||void 0===d?void 0:d.dependentModels)||void 0===a?void 0:a.map((e=>e.modelId)))||Array()})}function xe(e){var n,l;const i={clickedNode:{id:e.id,state:{checked:e.checked},text:e.name,type:e.type,version:e.version},cb:n=>{e.version=n,be(n,e)}};(null===(n=q.value)||void 0===n?void 0:n.has(e.id))&&(i.versions=null===(l=q.value)||void 0===l?void 0:l.get(e.id)),Z.showDialog((0,t.RC)((()=>o.e(7045).then(o.bind(o,10531)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},i)}function ye(e){var n;Z.showDialog((0,t.RC)((()=>o.e(5872).then(o.bind(o,45872)))),{closable:!0,title:"Change Version",width:"1080px",maxHeight:"500px",overflow:"auto"},{module:{ID:e.id},versions:null===(n=W.value)||void 0===n?void 0:n.get(e.id),cb:n=>{var o;e.version=n.version,null===(o=e.children)||void 0===o||o.forEach((e=>{const o=n.relatedModelHistories.find((n=>n.modelID==e.id));e.version=null==o?void 0:o.version,be(null==o?void 0:o.version,e)}))}})}function ge(){const e=n=>{var o;if(!n.version||!n.checked)return;if("module"!=n.type&&"folder"!=n.type)return[{ID:n.id,version:n.version}];if(!n.anyChildChecked)return;const t=Array();return null===(o=n.children)||void 0===o||o.forEach((n=>{const o=e(n);o&&o.length>0&&Array.prototype.push.apply(t,o)})),t},n=Array();return L.value.forEach((o=>{const t=e(o);t&&t.length>0&&(j.traverseAllItems((e=>("model"!=e.objectType||"workflow"!=e.modelType||t.some((n=>n.ID!=e.ID))||w.$.parseWorkflowModelBodyWFE(function(e){const n=O.extractRuntimeModel(e);return{appId:T.studio.appId,organizationId:T.user.selectedOrganization.id,modelID:I.x.embedIdType(e.ID,e.modelType),name:e.name,type:e.modelType,modelBody:n,updateDate:e.updateDate&&new Date(e.updateDate).valueOf(),version:e.version}}(e),"notification",(e=>{V.showNotification({text:e,type:"error"})})),"continue"))),Array.prototype.push.apply(n,t))})),n}return(e,o)=>((0,t.wg)(),(0,t.iD)("div",F,[(0,t._)("div",null,[(0,t.Wm)(b.Z,{class:(0,l.normalizeClass)(["modules-selected-checkbox"]),minus:(0,i.SU)(Y)!=(0,i.SU)(Q),check:(0,i.SU)(Y)==(0,i.SU)(Q),onClick:ue},null,8,["minus","check"]),(0,t._)("div",M,[(0,t._)("span",S,(0,l.toDisplayString)((0,i.SU)(Y)),1),(0,t.Uk)(" of "),(0,t._)("span",A,(0,l.toDisplayString)((0,i.SU)(Q)),1),(0,t.Uk)(" items selected ")])]),U,(0,t._)("div",z,[(0,i.SU)(oe)?(0,i.SU)(ne)?(0,i.SU)(te)?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(E.Z,{key:2,customIconClass:"mdi mdi-alert",infoText:J.value,customStyle:ie.value},null,8,["infoText","customStyle"])):((0,t.wg)(),(0,t.j4)(E.Z,{key:1,customIconClass:"mdi mdi-alert",infoText:"There are no items ready to publish. At least one of your items must be ready to publish",customStyle:ie.value},null,8,["infoText","customStyle"])):((0,t.wg)(),(0,t.j4)(E.Z,{key:0,customIconClass:"mdi mdi-alert",infoText:"'getUser' & 'notify' & 'preForm(taskPreview)' & 'IPaaS_Endpoint' models not found.",customStyle:ie.value},null,8,["infoText","customStyle"]))]),(0,t._)("div",_,[(0,t._)("div",{class:(0,l.normalizeClass)(["cancel-button"]),onClick:o[0]||(o[0]=e=>n("close"))},"Cancel"),(0,t._)("div",{class:(0,l.normalizeClass)((0,i.SU)(le)?" button-disable":""),onClick:o[1]||(o[1]=e=>async function(){B.execute((async()=>{const e=ge();await B.executeUseCase(s.P,{items:e}),n("close")}),{loading:!0})}())},P,2)])]))}});var B=o(17450),H=o.n(B),R=o(29530),j=o.n(R),O=o(16199),V=o.n(O),L=o(40458),q=o.n(L),W=o(62916),$=o.n(W),N=o(92165),J=o.n(N),X=o(87261),G={};G.styleTagTransform=J(),G.setAttributes=q(),G.insert=V().bind(null,"head"),G.domAPI=j(),G.insertStyleElement=$(),H()(X.Z,G),X.Z&&X.Z.locals&&X.Z.locals;var K=o(54120),Q={};Q.styleTagTransform=J(),Q.setAttributes=q(),Q.insert=V().bind(null,"head"),Q.domAPI=j(),Q.insertStyleElement=$(),H()(K.Z,Q),K.Z&&K.Z.locals&&K.Z.locals;const Y=(0,o(32525).Z)(Z,[["__scopeId","data-v-637f59ce"]])}}]);