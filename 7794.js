"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[7794],{63267:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(34663),o=t.n(a),i=t(7638),r=t.n(i)()(o());r.push([e.id,'\n.createButtonDiv[data-v-5378fa42] {\n    height: 72px;\n    top: calc(100% - 72px);\n    width: 100%;\n    position: absolute\n}\n.createButton[data-v-5378fa42] {\n    background-color: #151233;\n    color: white;\n    border-radius: 4px;\n    border: none;\n    width: 97px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 15px;\n    font-family: "ROBOTO";\n    left: calc(100% - 117px);\n    top: 16px;\n    position: absolute;\n}\n.cancelButton[data-v-5378fa42] {\n    background-color: transparent;\n    color: #757575;\n    border-radius: 4px;\n    border: none;\n    width: 90px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 15px;\n    font-family: "ROBOTO";\n    left: calc(100% - 211px);\n    top: 16px;\n    position: absolute;\n}\n',"",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/create/createDialogFooter.vue/createDialogFooter.vue"],names:[],mappings:";AAwBA;IACI,YAAY;IACZ,sBAAsB;IACtB,WAAW;IACX;AACJ;AAEA;IACI,yBAAyB;IACzB,YAAY;IACZ,kBAAkB;IAClB,YAAY;IACZ,WAAW;IACX,YAAY;IACZ,gBAAgB;IAChB,eAAe;IACf,qBAAqB;IACrB,wBAAwB;IACxB,SAAS;IACT,kBAAkB;AACtB;AAEA;IACI,6BAA6B;IAC7B,cAAc;IACd,kBAAkB;IAClB,YAAY;IACZ,WAAW;IACX,YAAY;IACZ,gBAAgB;IAChB,eAAe;IACf,qBAAqB;IACrB,wBAAwB;IACxB,SAAS;IACT,kBAAkB;AACtB",sourcesContent:['<template>\n    <div class="createButtonDiv">\n        <button class="cancelButton" @click="props.cancelButtonCb">{{ cancelButtonText || "Cancel" }}</button>\n        <button :style="{ opacity: props.createButtonEnabled ? \'\' : \'0.5\' }" class="createButton"\n            @click="props.createButtonCb" :disabled="!props.createButtonEnabled">\n            {{ createButtonText || "CREATE" }}\n        </button>\n    </div>\n</template>\n\n<script setup lang="ts">\n\ninterface ICreateDialogFooter {\n    createButtonText?: string;\n    cancelButtonText?: string;\n    createButtonEnabled?: boolean;\n    createButtonCb: () => void;\n    cancelButtonCb: () => void;\n}\nconst props = defineProps<ICreateDialogFooter>();\n\n<\/script>\n\n<style scoped>\n.createButtonDiv {\n    height: 72px;\n    top: calc(100% - 72px);\n    width: 100%;\n    position: absolute\n}\n\n.createButton {\n    background-color: #151233;\n    color: white;\n    border-radius: 4px;\n    border: none;\n    width: 97px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 15px;\n    font-family: "ROBOTO";\n    left: calc(100% - 117px);\n    top: 16px;\n    position: absolute;\n}\n\n.cancelButton {\n    background-color: transparent;\n    color: #757575;\n    border-radius: 4px;\n    border: none;\n    width: 90px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 15px;\n    font-family: "ROBOTO";\n    left: calc(100% - 211px);\n    top: 16px;\n    position: absolute;\n}\n</style>\n'],sourceRoot:""}]);const l=r},52142:(e,n,t)=>{t.d(n,{Z:()=>c});var a=t(34663),o=t.n(a),i=t(7638),r=t.n(i),l=t(79240),s=r()(o());s.i(l.Z),s.push([e.id,'\n*[data-v-14e0025e] {\n    font-family: "Roboto";\n}\n.blank-page[data-v-14e0025e]{\n    position: absolute;\n    left: calc((100% - 68px)/2);\n    top: calc((100% - 27px - 90px)/2);\n}\n.dialog-container[data-v-14e0025e] {\n    padding: 28px 20px 16px 26px;\n}\n.template-container[data-v-14e0025e] {\n    margin-left: 29px;\n    position: relative;\n    overflow: hidden auto;\n    height: 464px;\n}\n.template-card-container[data-v-14e0025e] {\n    width: 179px;\n    height: 220px;\n    margin-right: 20px;\n    margin-bottom: 20px;\n    position: relative;\n    float: left;\n}\n.template-image[data-v-14e0025e] {\n    width: 170px;\n    height: 187px;\n    border-radius: 3px;\n}\n\n/* .template-container::-webkit-scrollbar {\n    width: 4px;\n}\n\n.template-container::-webkit-scrollbar-thumb {\n    background: #bcbcbc 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n}\n\n.template-container::-webkit-scrollbar-thumb:hover {\n    background: #555;\n} */\n.page-header-text[data-v-14e0025e] {\n    color: #151233;\n    font-size: 14px;\n    font-weight: 500;\n}\n.name-bar[data-v-14e0025e] {\n    width: 100%;\n    border: 1px solid #a1a1a1;\n    border-radius: 4px;\n    padding: 10px 10px 11px;\n    margin-left: -6px;\n}\n.border-center[data-v-14e0025e] {\n    border-left: 1px solid #d5d5d5;\n    height: calc(75vh - 263px);\n}\n.button-text-container[data-v-14e0025e] {\n    margin-bottom: 16px;\n    color: #212121;\n    font-size: 16px;\n    font-weight: 400 bolder;\n    border: none;\n    background-color: white;\n    width: 138px;\n    height: 40px;\n    text-align: left;\n    border-radius: 4px;\n    padding-left: 10px;\n}\n.button-text-container[data-v-14e0025e]:hover {\n    background-color: #e3e3e3;\n}\n.button-text-container.active[data-v-14e0025e] {\n    background-color: #e3e3e3;\n}\n.bottom-side-container[data-v-14e0025e] {\n    margin-top: 37px;\n}\n.cancel-button-container[data-v-14e0025e] {\n    float: right;\n    padding: 10px 20px;\n    border-radius: 4px;\n    font-size: 15px;\n    font-weight: 500;\n    color: #757575;\n    background-color: white;\n    border: none;\n    margin: 16px 10px;\n}\n.create-button-contaner[data-v-14e0025e] {\n    float: right;\n    padding: 10px 20px;\n    border-radius: 4px;\n    font-size: 15px;\n    font-weight: 500;\n    color: white;\n    background: #151233;\n    border: none;\n    margin: 16px 0px;\n}\n.page-button-container[data-v-14e0025e] {\n    /* padding: 72px 30px; */\n    width: 177px;\n    height: 193px;\n    border-radius: 4px;\n    background-color: #eeeeee;\n    color: #d5d5d5;\n    border: 3px solid #eeeeee;\n}\n.page-button-container.active[data-v-14e0025e] {\n    border: 3px solid #151233;\n}\n.template-small-header[data-v-14e0025e] {\n    position: absolute;\n    top: 199px;\n    font: normal normal normal 16px/21px Roboto;\n    color: #616161;\n    width: 179px;\n    text-align: center;\n}\n.template-small-header.active[data-v-14e0025e] {\n    color: #151233;\n}\n.template-tabs[data-v-14e0025e] {\n    display: flex;\n    align-items: center;\n    width: 100%\n}\n.template-tabs div[data-v-14e0025e] {\n    color: #A1A1A1;\n    font-weight: 500;\n    font-size: 14px;\n    width: 111px;\n    padding-bottom: 8px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    border: 2px solid transparent;\n}\n.active-category[data-v-14e0025e] {\n    color: #151233 !important; \n    border-bottom: 2px solid !important\n}\n.template-categories[data-v-14e0025e] {\n    height: calc(75vh - 263px); \n    overflow: hidden auto;\n    padding-right: 20px;\n}\n.template-categories[data-v-14e0025e]::-webkit-scrollbar-thumb {\n    background: #BDBDBD;\n    border-radius: 12px;\n    border: 6px solid #FFFFFF;\n    background-clip: padding-box;\n}\n.template-categories[data-v-14e0025e]::-webkit-scrollbar-track {\n    background: #FFFFFF;\n}\n.template-categories[data-v-14e0025e]::-webkit-scrollbar {\n    background: #FFFFFF;\n}\n',"",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/create/createNewScreen.vue"],names:[],mappings:";AAwPA;IACI,qBAAqB;AACzB;AAEA;IACI,kBAAkB;IAClB,2BAA2B;IAC3B,iCAAiC;AACrC;AAEA;IACI,4BAA4B;AAChC;AAEA;IACI,iBAAiB;IACjB,kBAAkB;IAClB,qBAAqB;IACrB,aAAa;AACjB;AAEA;IACI,YAAY;IACZ,aAAa;IACb,kBAAkB;IAClB,mBAAmB;IACnB,kBAAkB;IAClB,WAAW;AACf;AAEA;IACI,YAAY;IACZ,aAAa;IACb,kBAAkB;AACtB;;AAEA;;;;;;;;;;;GAWG;AAEH;IACI,cAAc;IACd,eAAe;IACf,gBAAgB;AACpB;AAEA;IACI,WAAW;IACX,yBAAyB;IACzB,kBAAkB;IAClB,uBAAuB;IACvB,iBAAiB;AACrB;AAEA;IACI,8BAA8B;IAC9B,0BAA0B;AAC9B;AAEA;IACI,mBAAmB;IACnB,cAAc;IACd,eAAe;IACf,uBAAuB;IACvB,YAAY;IACZ,uBAAuB;IACvB,YAAY;IACZ,YAAY;IACZ,gBAAgB;IAChB,kBAAkB;IAClB,kBAAkB;AACtB;AAEA;IACI,yBAAyB;AAC7B;AAEA;IACI,yBAAyB;AAC7B;AAEA;IACI,gBAAgB;AACpB;AAEA;IACI,YAAY;IACZ,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;IACf,gBAAgB;IAChB,cAAc;IACd,uBAAuB;IACvB,YAAY;IACZ,iBAAiB;AACrB;AAEA;IACI,YAAY;IACZ,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;IACf,gBAAgB;IAChB,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,gBAAgB;AACpB;AAEA;IACI,wBAAwB;IACxB,YAAY;IACZ,aAAa;IACb,kBAAkB;IAClB,yBAAyB;IACzB,cAAc;IACd,yBAAyB;AAC7B;AAEA;IACI,yBAAyB;AAC7B;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,2CAA2C;IAC3C,cAAc;IACd,YAAY;IACZ,kBAAkB;AACtB;AACA;IACI,cAAc;AAClB;AACA;IACI,aAAa;IACb,mBAAmB;IACnB;AACJ;AACA;IACI,cAAc;IACd,gBAAgB;IAChB,eAAe;IACf,YAAY;IACZ,mBAAmB;IACnB,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,eAAe;IACf,6BAA6B;AACjC;AACA;IACI,yBAAyB;IACzB;AACJ;AACA;IACI,0BAA0B;IAC1B,qBAAqB;IACrB,mBAAmB;AACvB;AACA;IACI,mBAAmB;IACnB,mBAAmB;IACnB,yBAAyB;IACzB,4BAA4B;AAChC;AACA;IACI,mBAAmB;AACvB;AACA;IACI,mBAAmB;AACvB",sourcesContent:['<template>\n    <div class="dialog-container">\n        <div class="input-label">UI Page Name</div>\n        <IDEInput :isRequired="true" elementId="nameInput" :disable-required-icon="true" @getValue="setNameValue"\n            @validateStatus="setNameValidationStatus" placeholder="" :type="\'text\'" info-text=""\n            :validations="validations.name" />\n        <hr style="margin: 32px 0px 32px 0px;" />\n        <div class="template-tabs">\n            <div @click="selectTemplateCategory(\'Web\')" :class="showWebTemplates ? \'active-category\' : \'\'">Web</div>\n            <div @click="selectTemplateCategory(\'Mobile\')" :class="showMobileTemplates ? \'active-category\' : \'\'">Mobile</div>\n        </div>\n        <div style="margin-top: 32px">\n            <div style="display: flex">\n                <div class="template-categories">\n                    <button v-if="items.length > 0"\n                        :class="{ \'button-text-container\': true, active: selectedTabName[selectedTemplateCategory] == \'BLANK_PAGE\' }"\n                        @click="changeMainTab(\'BLANK_PAGE\')">\n                        Blank Page\n                    </button>\n                    <div v-for="subCategory in selectedItems" :key="subCategory.name">\n                        <button :class="{ \'button-text-container\': true, active: subCategory.name == selectedTabName[selectedTemplateCategory] }"\n                            @click="changeMainTab(subCategory.name)">\n                            {{ subCategory.name }}\n                        </button>\n                    </div>\n                </div>\n                <div v-if="items.length > 0" class="border-center"></div>\n                <div class="template-container">\n                    <div class="template-card-container" v-if="selectedTabName[selectedTemplateCategory] == \'BLANK_PAGE\' && items.length > 0">\n                        <div :class="{ \'page-button-container\': true, active: activeTemplateID == \'BLANK_PAGE\' }"\n                            @click="changeActiveTemplateID(\'BLANK_PAGE\')">\n                            <img src="./../../../../../images/blank_page.svg" class="blank-page" alt="Blank page"/>\n                        </div>\n                        <p class="template-small-header"> Blank Page </p>\n                    </div>\n                    <div class="template-card-container" \n                        v-for="(child, index) in flattener(selectedTabName[selectedTemplateCategory])"\n                        :key="index"\n                        :style="(index + 1) % 3 == 0 ? \'margin-right: 0px\' : \'\'"\n                        >\n                        <div :class="{ \'page-button-container\': true, active: activeTemplateID == child.ID }"\n                            @click="changeActiveTemplateID(child.ID)">\n                            <img class="template-image" v-if="child.image" :src="child.image" :alt="child.name" />\n                        </div>\n                        <p :class="{ \'template-small-header\': true, active: activeTemplateID == child.ID }"> {{ child.name }} </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n    <CreateDialogFooter :cancel-button-cb="() => emits(\'close\')" :create-button-cb="create"\n        :create-button-enabled="isNameValid" />\n</template>\n<script setup lang="ts">\nimport { IPageItem, IPageTemplate, ITemplateCategoryItem } from "../../../../../../../common/qCloudTemp/template";\nimport { computed, onBeforeMount, ref } from "vue";\nimport { container } from "../../../../../domain/core/diContainer";\nimport { IModel } from "../../../../../domain/model/models";\nimport { ICreateModelParam, ICreateModel } from "../../../../../domain/useCase/ICreateModel";\nimport { IStudio } from "../../../../../domain/useCase/IStudio";\nimport { ITemplateUseCase } from "../../../../../domain/useCase/ITemplateUseCase";\nimport { IUseCaseExecutor } from "../../../../../domain/useCase/IUseCaseExecutor";\nimport IDEInput from "../../application/IDEInput.vue";\nimport { IIDEInputDefinitions } from "../../../../../domain/presentation/IIDEInputDefinitions";\nimport CreateDialogFooter from "./createDialogFooter.vue/createDialogFooter.vue";\nimport path from "path";\nimport { IViewModel } from "../../../../../domain/viewModel/IViewModel";\nimport { IBackofficeUseCase } from "../../../../../domain/useCase/backoffice/IBackofficeUseCase";\nimport { IApplicationUseCase } from "../../../../../domain/useCase/IApplicationUseCase";\nimport { ICreateNewScreenProps } from "../../IComponentProps";\n\n\n// interface ISelectedTab {\n//     Web: string;\n//     Mobile: string;\n// }\nconst param = defineProps<{ param: ICreateNewScreenProps }>();\nconst props = param.param;\nconst emits = defineEmits(["close"]);\n\nconst studio = container.resolve<IStudio>(IStudio);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst templateUseCase = container.resolve<ITemplateUseCase>(ITemplateUseCase);\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst backofficeUseCase = container.resolve<IBackofficeUseCase>(IBackofficeUseCase);\nconst applicationUseCase = container.resolve<IApplicationUseCase>(IApplicationUseCase);\n\n\nconst templates = ref<Array<IPageTemplate>>([]);\nconst items = ref<Array<ITemplateCategoryItem>>([]);\nconst webItems = ref<Array<ITemplateCategoryItem | IPageItem>>([]);\nconst selectedItems = ref<Array<ITemplateCategoryItem | IPageItem>>([]);\nconst selectedTemplateCategory = ref("Web")\n\n// var selectedTabName = ref("BLANK_PAGE");\nconst selectedTabName = ref<Record<string, string>>({"Web": \'BLANK_PAGE\', "Mobile": \'BLANK_PAGE\'});\nconst name = ref("");\nconst isNameValid = ref<boolean>(false);\nconst activeTemplateID = ref("BLANK_PAGE");\nconst showWebTemplates = ref(true);\nconst showMobileTemplates = ref(false);\nconst currentApp = computed(() => viewModel.apps.find((app) => app.ID == viewModel.studio.appId));\n\n\nconst validations = ref<Record<"name", IIDEInputDefinitions["validations"]>>({\n    name: { minAndMaxLength: { min: 2, max: 60 }, nonSpaceCharacter: true, customRegex:{ regex: /^([a-zA-Z0-9-_]+)$/, message: "Available characters: A-Z, a-z, 1-9, \'-\' and \'_\'"} }\n});\n\nonBeforeMount(async () => {\n    executor.execute(\n        async () => {\n            templates.value = await templateUseCase.listTemplateInfos("page") as Array<IPageTemplate>;\n            items.value = convert(templates.value);\n            // webItems.value = items.value.find((i) => i.name == "Web")!.children;\n            selectedItems.value = items.value.find((i) => i.name == selectedTemplateCategory.value)!.children;\n            // selectedTabName.value = {Web: \'BLANK_PAGE\', Mobile: \'BLANK_PAGE\'}\n        },\n        { loading: true }\n    );\n});\nfunction selectTemplateCategory(type: string) {\n    switch(type) {\n        case "Web": showWebTemplates.value = true; showMobileTemplates.value = false; break;\n        case "Mobile": showWebTemplates.value = false; showMobileTemplates.value = true; break;\n    }\n    selectedTemplateCategory.value = type;\n    selectedItems.value = items.value.find((i) => i.name == selectedTemplateCategory.value)!.children;\n    changeMainTab(selectedTabName.value[type]);\n}\nconst convert = (items: Array<IPageTemplate>) => {\n    const seperateToGroups = (targetItems: Array<IPageTemplate>, field: "category" | "subCategory"): Record<string, IPageTemplate[]> => {\n        const groups: Record<string, Array<IPageTemplate>> = targetItems.reduce((group, item) => {\n            const category = item[field];\n            const grp = group as any;\n            grp[category] = grp[category] ?? [];\n            grp[category].push(item);\n            return grp;\n        }, {});\n        return groups;\n    };\n    const retVal: Array<ITemplateCategoryItem> = [];\n    const categoryGroups = seperateToGroups(items, "category");\n    Object.keys(categoryGroups).forEach((groupName) => {\n        const subGroupItems = templates.value.filter((i) => i.category == groupName);\n        const subGroups = seperateToGroups(subGroupItems, "subCategory");\n        const children: Array<ITemplateCategoryItem> = Object.keys(subGroups).map((i) => {\n            const subGroup = subGroups[i];\n            const subCategoryName = subGroup[0].subCategory;\n            const pageItems = subGroupItems.filter((i) => i.subCategory == subCategoryName);\n            const subCategory: ITemplateCategoryItem = {\n                name: subCategoryName,\n                type: "category",\n                children: pageItems.map((page) => {\n                    return <IPageItem>{ ID: page.ID, name: page.name, type: "page", image: page.image };\n                }),\n            };\n            return subCategory;\n        });\n        retVal.push({ name: groupName, type: "category", children });\n    });\n\n    return retVal;\n};\n\nfunction create() {\n    if (!isNameValid.value) return;\n    executor.execute(\n        async () => {\n            if (activeTemplateID.value == "BLANK_PAGE") {\n                const createObject: ICreateModelParam = {\n                    name: name.value,\n                    ownerId: props.ownerId,\n                    modelBody: [{ key: "qjson", model: "" }],\n                    modelType: "qjson",\n                    modelAdditionals: { qjsonType: "qjson" },\n                    path: props.path,\n                    version: "",\n                };\n                console.log("path", props.path)\n                const createdModel = await executor.executeUseCase<ICreateModel>(ICreateModel, createObject);\n                await onAfterModelCreated(createdModel);\n            } else {\n                const createdModel = await templateUseCase.createModelFromTemplate({\n                    name: name.value,\n                    ownerId: props.ownerId,\n                    modelInfoID: activeTemplateID.value,\n                    modelAdditionals: { qjsonType: "qjson" },\n                    modelType: "qjson",\n                    path: props.path,\n                    version: "",\n                });\n                console.log("path", props.path)\n                await onAfterModelCreated(createdModel);\n            }\n            const userMobileUsage = viewModel.user?.mobileUsage;\n            const appMobileUsage = currentApp.value?.mobileUsage;\n            if(selectedTemplateCategory.value == "Mobile" && (!userMobileUsage?.isMobilePublished || !appMobileUsage?.isMobilePublished)) {\n                backofficeUseCase.updateUserMobileUsage({...userMobileUsage, isMobileTemplateUsed: true});\n                applicationUseCase.updateApplication({ID: currentApp.value?.ID, mobileUsage: {...appMobileUsage, isMobileTemplateUsed: true}, updateReason: "backofficeUpdate"})\n            }\n            emits("close");\n        },\n        { loading: true }\n    );\n}\n\nfunction changeActiveTemplateID(id: string) {\n    activeTemplateID.value = id;\n}\n\nfunction changeMainTab(selectedTab: string) {\n    selectedTabName.value[selectedTemplateCategory.value] = selectedTab;\n    const findCategoryItems = selectedItems.value.find(item => item.name === selectedTab) as ITemplateCategoryItem;\n    if(findCategoryItems) {\n        changeActiveTemplateID((<IPageItem>findCategoryItems.children[0]).ID)\n    } else {\n        changeActiveTemplateID("BLANK_PAGE");\n    }\n\n}\n\nfunction flattener(categoryName: string): Array<IPageTemplate> {\n    var arrayFlattener: Array<any> = [];\n    const findCategoryItems = selectedItems.value.find(item => item.name === categoryName) as ITemplateCategoryItem;\n    if(findCategoryItems) {\n        arrayFlattener.push(findCategoryItems.children);\n    }\n    return arrayFlattener.flatMap((num) => num);\n}\n\nasync function onAfterModelCreated(createdModel: IModel) {\n    await studio.checkout(createdModel);\n    studio.openItem(createdModel);\n}\n\nfunction setNameValue(value: string) {\n    name.value = value;\n}\n\nfunction setNameValidationStatus(isValid: boolean) {\n    isNameValid.value = isValid;\n}\n<\/script>\n\n<style scoped>\n@import url("../../../../../../src/styles/IDE3.css");\n\n* {\n    font-family: "Roboto";\n}\n\n.blank-page{\n    position: absolute;\n    left: calc((100% - 68px)/2);\n    top: calc((100% - 27px - 90px)/2);\n}\n\n.dialog-container {\n    padding: 28px 20px 16px 26px;\n}\n\n.template-container {\n    margin-left: 29px;\n    position: relative;\n    overflow: hidden auto;\n    height: 464px;\n}\n\n.template-card-container {\n    width: 179px;\n    height: 220px;\n    margin-right: 20px;\n    margin-bottom: 20px;\n    position: relative;\n    float: left;\n}\n\n.template-image {\n    width: 170px;\n    height: 187px;\n    border-radius: 3px;\n}\n\n/* .template-container::-webkit-scrollbar {\n    width: 4px;\n}\n\n.template-container::-webkit-scrollbar-thumb {\n    background: #bcbcbc 0% 0% no-repeat padding-box;\n    border-radius: 10px;\n}\n\n.template-container::-webkit-scrollbar-thumb:hover {\n    background: #555;\n} */\n\n.page-header-text {\n    color: #151233;\n    font-size: 14px;\n    font-weight: 500;\n}\n\n.name-bar {\n    width: 100%;\n    border: 1px solid #a1a1a1;\n    border-radius: 4px;\n    padding: 10px 10px 11px;\n    margin-left: -6px;\n}\n\n.border-center {\n    border-left: 1px solid #d5d5d5;\n    height: calc(75vh - 263px);\n}\n\n.button-text-container {\n    margin-bottom: 16px;\n    color: #212121;\n    font-size: 16px;\n    font-weight: 400 bolder;\n    border: none;\n    background-color: white;\n    width: 138px;\n    height: 40px;\n    text-align: left;\n    border-radius: 4px;\n    padding-left: 10px;\n}\n\n.button-text-container:hover {\n    background-color: #e3e3e3;\n}\n\n.button-text-container.active {\n    background-color: #e3e3e3;\n}\n\n.bottom-side-container {\n    margin-top: 37px;\n}\n\n.cancel-button-container {\n    float: right;\n    padding: 10px 20px;\n    border-radius: 4px;\n    font-size: 15px;\n    font-weight: 500;\n    color: #757575;\n    background-color: white;\n    border: none;\n    margin: 16px 10px;\n}\n\n.create-button-contaner {\n    float: right;\n    padding: 10px 20px;\n    border-radius: 4px;\n    font-size: 15px;\n    font-weight: 500;\n    color: white;\n    background: #151233;\n    border: none;\n    margin: 16px 0px;\n}\n\n.page-button-container {\n    /* padding: 72px 30px; */\n    width: 177px;\n    height: 193px;\n    border-radius: 4px;\n    background-color: #eeeeee;\n    color: #d5d5d5;\n    border: 3px solid #eeeeee;\n}\n\n.page-button-container.active {\n    border: 3px solid #151233;\n}\n\n.template-small-header {\n    position: absolute;\n    top: 199px;\n    font: normal normal normal 16px/21px Roboto;\n    color: #616161;\n    width: 179px;\n    text-align: center;\n}\n.template-small-header.active {\n    color: #151233;\n}\n.template-tabs {\n    display: flex;\n    align-items: center;\n    width: 100%\n}\n.template-tabs div {\n    color: #A1A1A1;\n    font-weight: 500;\n    font-size: 14px;\n    width: 111px;\n    padding-bottom: 8px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    border: 2px solid transparent;\n}\n.active-category {\n    color: #151233 !important; \n    border-bottom: 2px solid !important\n}\n.template-categories {\n    height: calc(75vh - 263px); \n    overflow: hidden auto;\n    padding-right: 20px;\n}\n.template-categories::-webkit-scrollbar-thumb {\n    background: #BDBDBD;\n    border-radius: 12px;\n    border: 6px solid #FFFFFF;\n    background-clip: padding-box;\n}\n.template-categories::-webkit-scrollbar-track {\n    background: #FFFFFF;\n}\n.template-categories::-webkit-scrollbar {\n    background: #FFFFFF;\n}\n</style>\n'],sourceRoot:""}]);const c=s},54439:(e,n,t)=>{t.d(n,{Z:()=>h});var a=t(71093),o=t(66190);const i={class:"createButtonDiv"},r=["disabled"],l=(0,a.aZ)({__name:"createDialogFooter",props:{createButtonText:null,cancelButtonText:null,createButtonEnabled:{type:Boolean},createButtonCb:{type:Function},cancelButtonCb:{type:Function}},setup(e){const n=e;return(t,l)=>((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("button",{class:"cancelButton",onClick:l[0]||(l[0]=(...e)=>n.cancelButtonCb&&n.cancelButtonCb(...e))},(0,o.toDisplayString)(e.cancelButtonText||"Cancel"),1),(0,a._)("button",{style:(0,o.normalizeStyle)({opacity:n.createButtonEnabled?"":"0.5"}),class:"createButton",onClick:l[1]||(l[1]=(...e)=>n.createButtonCb&&n.createButtonCb(...e)),disabled:!n.createButtonEnabled},(0,o.toDisplayString)(e.createButtonText||"CREATE"),13,r)]))}});var s=t(17450),c=t.n(s),p=t(29530),A=t.n(p),d=t(16199),m=t.n(d),u=t(40458),g=t.n(u),b=t(62916),I=t.n(b),C=t(92165),v=t.n(C),B=t(63267),x={};x.styleTagTransform=v(),x.setAttributes=g(),x.insert=m().bind(null,"head"),x.domAPI=A(),x.insertStyleElement=I(),c()(B.Z,x),B.Z&&B.Z.locals&&B.Z.locals;const h=(0,t(32525).Z)(l,[["__scopeId","data-v-5378fa42"]])},47794:(e,n,t)=>{t.r(n),t.d(n,{default:()=>O});var a=t(71093),o=t(66190);const i=t.p+"d852fab10554d5398c2f24b9d2204e11.svg";var r=t(73843),l=t(5627),s=t(69292),c=t(6488),p=t(84842),A=t(83487),d=t(38223),m=t(54439),u=t(88613),g=t(58817),b=t(19508);const I=e=>((0,a.dD)("data-v-14e0025e"),e=e(),(0,a.Cn)(),e),C={class:"dialog-container"},v=I((()=>(0,a._)("div",{class:"input-label"},"UI Page Name",-1))),B=I((()=>(0,a._)("hr",{style:{margin:"32px 0px 32px 0px"}},null,-1))),x={class:"template-tabs"},h={style:{"margin-top":"32px"}},f={style:{display:"flex"}},y={class:"template-categories"},k=["onClick"],w={key:0,class:"border-center"},T={class:"template-container"},D={key:0,class:"template-card-container"},M=[I((()=>(0,a._)("img",{src:i,class:"blank-page",alt:"Blank page"},null,-1)))],E=I((()=>(0,a._)("p",{class:"template-small-header"}," Blank Page ",-1))),P=["onClick"],_=["src","alt"],F=(0,a.aZ)({__name:"createNewScreen",props:{param:null},emits:["close"],setup(e,{emit:n}){const t=e.param,i=l.nC.resolve(c.c),I=l.nC.resolve(A.y),F=l.nC.resolve(p.b),N=l.nC.resolve(u.J),U=l.nC.resolve(g.X),Y=l.nC.resolve(b.h),Z=(0,r.iH)([]),G=(0,r.iH)([]),q=((0,r.iH)([]),(0,r.iH)([])),z=(0,r.iH)("Web"),W=(0,r.iH)({Web:"BLANK_PAGE",Mobile:"BLANK_PAGE"}),S=(0,r.iH)(""),j=(0,r.iH)(!1),K=(0,r.iH)("BLANK_PAGE"),L=(0,r.iH)(!0),R=(0,r.iH)(!1),V=(0,a.Fl)((()=>N.apps.find((e=>e.ID==N.studio.appId)))),O=(0,r.iH)({name:{minAndMaxLength:{min:2,max:60},nonSpaceCharacter:!0,customRegex:{regex:/^([a-zA-Z0-9-_]+)$/,message:"Available characters: A-Z, a-z, 1-9, '-' and '_'"}}});function H(e){switch(e){case"Web":L.value=!0,R.value=!1;break;case"Mobile":L.value=!1,R.value=!0}z.value=e,q.value=G.value.find((e=>e.name==z.value)).children,Q(W.value[e])}(0,a.wF)((async()=>{I.execute((async()=>{Z.value=await F.listTemplateInfos("page"),G.value=X(Z.value),q.value=G.value.find((e=>e.name==z.value)).children}),{loading:!0})}));const X=e=>{const n=(e,n)=>e.reduce(((e,t)=>{var a;const o=t[n],i=e;return i[o]=null!==(a=i[o])&&void 0!==a?a:[],i[o].push(t),i}),{}),t=[],a=n(e,"category");return Object.keys(a).forEach((e=>{const a=Z.value.filter((n=>n.category==e)),o=n(a,"subCategory"),i=Object.keys(o).map((e=>{const n=o[e][0].subCategory,t=a.filter((e=>e.subCategory==n));return{name:n,type:"category",children:t.map((e=>({ID:e.ID,name:e.name,type:"page",image:e.image})))}}));t.push({name:e,type:"category",children:i})})),t};function J(){j.value&&I.execute((async()=>{var e,a,o;if("BLANK_PAGE"==K.value){const e={name:S.value,ownerId:t.ownerId,modelBody:[{key:"qjson",model:""}],modelType:"qjson",modelAdditionals:{qjsonType:"qjson"},path:t.path,version:""};console.log("path",t.path);const n=await I.executeUseCase(s.E,e);await ne(n)}else{const e=await F.createModelFromTemplate({name:S.value,ownerId:t.ownerId,modelInfoID:K.value,modelAdditionals:{qjsonType:"qjson"},modelType:"qjson",path:t.path,version:""});console.log("path",t.path),await ne(e)}const i=null===(e=N.user)||void 0===e?void 0:e.mobileUsage,r=null===(a=V.value)||void 0===a?void 0:a.mobileUsage;"Mobile"!=z.value||(null==i?void 0:i.isMobilePublished)&&(null==r?void 0:r.isMobilePublished)||(U.updateUserMobileUsage({...i,isMobileTemplateUsed:!0}),Y.updateApplication({ID:null===(o=V.value)||void 0===o?void 0:o.ID,mobileUsage:{...r,isMobileTemplateUsed:!0},updateReason:"backofficeUpdate"})),n("close")}),{loading:!0})}function $(e){K.value=e}function Q(e){W.value[z.value]=e;const n=q.value.find((n=>n.name===e));$(n?n.children[0].ID:"BLANK_PAGE")}function ee(e){var n=[];const t=q.value.find((n=>n.name===e));return t&&n.push(t.children),n.flatMap((e=>e))}async function ne(e){await i.checkout(e),i.openItem(e)}function te(e){S.value=e}function ae(e){j.value=e}return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",C,[v,(0,a.Wm)(d.Z,{isRequired:!0,elementId:"nameInput","disable-required-icon":!0,onGetValue:te,onValidateStatus:ae,placeholder:"",type:"text","info-text":"",validations:O.value.name},null,8,["validations"]),B,(0,a._)("div",x,[(0,a._)("div",{onClick:t[0]||(t[0]=e=>H("Web")),class:(0,o.normalizeClass)(L.value?"active-category":"")},"Web",2),(0,a._)("div",{onClick:t[1]||(t[1]=e=>H("Mobile")),class:(0,o.normalizeClass)(R.value?"active-category":"")},"Mobile",2)]),(0,a._)("div",h,[(0,a._)("div",f,[(0,a._)("div",y,[G.value.length>0?((0,a.wg)(),(0,a.iD)("button",{key:0,class:(0,o.normalizeClass)({"button-text-container":!0,active:"BLANK_PAGE"==W.value[z.value]}),onClick:t[2]||(t[2]=e=>Q("BLANK_PAGE"))}," Blank Page ",2)):(0,a.kq)("v-if",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(q.value,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.name},[(0,a._)("button",{class:(0,o.normalizeClass)({"button-text-container":!0,active:e.name==W.value[z.value]}),onClick:n=>Q(e.name)},(0,o.toDisplayString)(e.name),11,k)])))),128))]),G.value.length>0?((0,a.wg)(),(0,a.iD)("div",w)):(0,a.kq)("v-if",!0),(0,a._)("div",T,["BLANK_PAGE"==W.value[z.value]&&G.value.length>0?((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",{class:(0,o.normalizeClass)({"page-button-container":!0,active:"BLANK_PAGE"==K.value}),onClick:t[3]||(t[3]=e=>$("BLANK_PAGE"))},M,2),E])):(0,a.kq)("v-if",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ee(W.value[z.value]),((e,n)=>((0,a.wg)(),(0,a.iD)("div",{class:"template-card-container",key:n,style:(0,o.normalizeStyle)((n+1)%3==0?"margin-right: 0px":"")},[(0,a._)("div",{class:(0,o.normalizeClass)({"page-button-container":!0,active:K.value==e.ID}),onClick:n=>$(e.ID)},[e.image?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"template-image",src:e.image,alt:e.name},null,8,_)):(0,a.kq)("v-if",!0)],10,P),(0,a._)("p",{class:(0,o.normalizeClass)({"template-small-header":!0,active:K.value==e.ID})},(0,o.toDisplayString)(e.name),3)],4)))),128))])])])]),(0,a.Wm)(m.Z,{"cancel-button-cb":()=>n("close"),"create-button-cb":J,"create-button-enabled":j.value},null,8,["cancel-button-cb","create-button-enabled"])],64))}});var N=t(17450),U=t.n(N),Y=t(29530),Z=t.n(Y),G=t(16199),q=t.n(G),z=t(40458),W=t.n(z),S=t(62916),j=t.n(S),K=t(92165),L=t.n(K),R=t(52142),V={};V.styleTagTransform=L(),V.setAttributes=W(),V.insert=q().bind(null,"head"),V.domAPI=Z(),V.insertStyleElement=j(),U()(R.Z,V),R.Z&&R.Z.locals&&R.Z.locals;const O=(0,t(32525).Z)(F,[["__scopeId","data-v-14e0025e"]])}}]);
//# sourceMappingURL=7794.js.map?ver=0.0.320_1717484624283