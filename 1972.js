"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[1972],{12156:(e,l,a)=>{a.d(l,{Z:()=>u});var t=a(34663),n=a.n(t),i=a(7638),o=a.n(i),s=a(69345),r=o()(n());r.i(s.Z),r.push([e.id,"\n","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const u=r},88613:(e,l,a)=>{a.d(l,{J:()=>t});const t=Symbol.for("IViewModel")},64204:(e,l,a)=>{a.d(l,{Z:()=>B});var t=a(71093),n=a(66190),i=a(73843),o=a(46233),s=a(5627),r=a(20559),u=a(91886),c=a(83487),d=a(84039),v=a(89001);const g=e=>((0,t.dD)("data-v-2a12f7e8"),e=e(),(0,t.Cn)(),e),p={class:"page-title"},m={class:"filter-area"},D={class:"search-in-table"},_=g((()=>(0,t._)("i",{class:"mdi mdi-magnify"},null,-1))),f={class:"table-container"},y={class:"items-table",id:"organizationListTable"},C=g((()=>(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{class:"col-xl-1"},"Name"),(0,t._)("th",{class:"col-xl-1"},"Licensing Group"),(0,t._)("th",{class:"col-xl-1"},"App Count"),(0,t._)("th",{class:"col-xl-1"},"User Count"),(0,t._)("th",{class:"col-xl-1"},"UI Page Count"),(0,t._)("th",{class:"col-xl-1"},"UI Page Size"),(0,t._)("th",{class:"col-xl-1"},"Date Created"),(0,t._)("th",{class:"col-xl-1"},"Created By"),(0,t._)("th",{class:"col-xl-1"},"Date Modified"),(0,t._)("th",{class:"col-xl-1"},"Cost"),(0,t._)("th",{class:"col-xl-1"},"Tags"),(0,t._)("th",{class:"col-xl-1"},"License"),(0,t.kq)(' <th class="col-xl-1">Activity</th> '),(0,t._)("th",{class:"col-xl-1"})])],-1))),h=g((()=>(0,t._)("td",null," - ",-1))),b={style:{display:"flex"}},I=["onClick"],S=["onClick"],k=["onClick"],z=(0,t.aZ)({__name:"organizationList",props:{organizations:null,userID:null,tagID:null},emits:["refreshTable"],setup(e,{emit:l}){const a=e,g=s.nC.resolve(c.y),z=s.nC.resolve(r.X),x=s.nC.resolve(u.r),w=(0,t.Fl)((()=>a.organizations)),E=(0,i.iH)(""),T=(0,i.iH)([]),U=(0,i.iH)(["10","20","30","All"]),O=(0,i.iH)(["All","LICENSED","Free","Demo Org"]),F=(0,i.iH)("All");function Z(){l("refreshTable")}function L(){const e=w.value.filter((e=>{var l,a,t,n;return((null===(l=e.name)||void 0===l?void 0:l.toUpperCase().includes(E.value.toUpperCase()))||(null===(a=e.id)||void 0===a?void 0:a.toUpperCase().includes(E.value.toUpperCase()))||(null===(t=e.createdBy)||void 0===t?void 0:t.toUpperCase().includes(E.value.toUpperCase()))||(null===(n=e.organizationGroupName)||void 0===n?void 0:n.toUpperCase().includes(E.value.toUpperCase())))&&"deleting"!=e.status}));return"All"==F.value?e:"LICENSED"==F.value?e.filter((e=>"LICENSED"==N(e))):"Free"==F.value?e.filter((e=>"Free"==N(e))):"Demo Org"==F.value?e.filter((e=>"Demo Org"==N(e))):e}function P(e){switch(e){case"All":F.value="All";break;case"LICENSED":F.value="LICENSED";break;case"Free":F.value="Free";break;case"Demo Org":F.value="Demo Org"}}function A(e){T.value=e}function N(e){return e.accountType&&"premium"==e.accountType&&!r.q.includes(e.organizationGroupId?e.organizationGroupId:"")?"LICENSED":e.accountType&&"premium"==e.accountType&&r.q.includes(e.organizationGroupId?e.organizationGroupId:"")?"Demo Org":"Free"}return(0,t.bv)((()=>{x.addSortingToColumns("organizationListTable")})),(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",p,[(0,t._)("span",null,"Organization List ("+(0,n.toDisplayString)((0,i.SU)(w).length)+")",1)]),(0,t._)("div",m,[(0,t._)("div",D,[_,(0,t.wy)((0,t._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":l[0]||(l[0]=e=>E.value=e)},null,512),[[o.vModelText,E.value]])]),(0,t._)("div",null,[(0,t.Wm)(d.Z,{options:O.value,default:O.value[0],onInput:P,class:"bo-table-filters","selected-class":"selected-filter "},null,8,["options","default"])])]),(0,t._)("div",f,[(0,t._)("table",y,[C,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(T.value,(e=>{var l,o,s,r,u;return(0,t.wg)(),(0,t.iD)("tr",{key:e.id},[(0,t._)("td",null,(0,n.toDisplayString)(e.name),1),(0,t._)("td",null,(0,n.toDisplayString)(e.organizationGroupName),1),(0,t._)("td",null,(0,n.toDisplayString)(null===(l=e.calculatedInfo)||void 0===l?void 0:l.appCount),1),(0,t._)("td",null,(0,n.toDisplayString)(null===(o=e.calculatedInfo)||void 0===o?void 0:o.userCount),1),(0,t._)("td",null,(0,n.toDisplayString)(null===(s=e.calculatedInfo)||void 0===s?void 0:s.uiPageCount),1),(0,t._)("td",null,(0,n.toDisplayString)((null===(r=e.calculatedInfo)||void 0===r?void 0:r.uiPageSize)?Math.ceil((null===(u=e.calculatedInfo)||void 0===u?void 0:u.uiPageSize)/1024)+"KB":""),1),(0,t._)("td",null,(0,n.toDisplayString)((0,i.SU)(x).formatDate(e.createDate)),1),(0,t._)("td",null,(0,n.toDisplayString)(e.createdBy),1),(0,t._)("td",null,(0,n.toDisplayString)(e.modifyDate?(0,i.SU)(x).formatDate(e.modifyDate):"-"),1),h,(0,t._)("td",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.tagNames,(e=>((0,t.wg)(),(0,t.iD)("span",{key:e,class:"tag-names"},(0,n.toDisplayString)(e),1)))),128))]),(0,t._)("td",null,(0,n.toDisplayString)(N(e)),1),(0,t.kq)(' <td>  <span style="background: #FF6B6B; border-radius: 50%;padding: 6px 10px;">0</span> </td> '),(0,t._)("td",null,[(0,t._)("div",b,[a.userID?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"remove-btn",onClick:l=>{return t=a.userID,n=e.id,void g.execute((async()=>{await z.removeUserFromOrganization({userId:t,organizationId:n}),Z()}),{loading:!0});var t,n}},"REMOVE",8,I)):(0,t.kq)("v-if",!0),a.tagID?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"remove-btn",onClick:l=>{return t=a.tagID,n=e.id,void g.execute((async()=>{await z.removeTagFromOrganization({organizationId:n,tagId:t}),Z()}),{loading:!0});var t,n}},"REMOVE",8,S)):(0,t.kq)("v-if",!0),(0,t._)("button",{class:"view-btn",onClick:l=>{return a=e.id,void window.open(`/backoffice/organization/${a}`,"_blank");var a}},"VIEW",8,k)])])])})),128))]),(0,t.Wm)(v.Z,{itemsPerPageOptions:U.value,columnCount:13,onPaginateData:A,searchInTable:E.value,selectedFilter:F.value,getTableData:L},null,8,["itemsPerPageOptions","searchInTable","selectedFilter"])])])],64))}});var x=a(17450),w=a.n(x),E=a(29530),T=a.n(E),U=a(16199),O=a.n(U),F=a(40458),Z=a.n(F),L=a(62916),P=a.n(L),A=a(92165),N=a.n(A),q=a(12156),H={};H.styleTagTransform=N(),H.setAttributes=Z(),H.insert=O().bind(null,"head"),H.domAPI=T(),H.insertStyleElement=P(),w()(q.Z,H),q.Z&&q.Z.locals&&q.Z.locals;const B=(0,a(32525).Z)(z,[["__scopeId","data-v-2a12f7e8"]])},71972:(e,l,a)=>{a.r(l),a.d(l,{default:()=>v});var t=a(71093),n=a(73843),i=a(5627),o=a(20559),s=a(83487),r=a(88613),u=a(64204);const c={key:0},d=(0,t.aZ)({__name:"organizations",setup(e){const l=i.nC.resolve(s.y),a=i.nC.resolve(o.X),d=i.nC.resolve(r.J);a.setBreadcrumb(["Organizations"]);const v=(0,n.iH)(!1);function g(){l.execute((async()=>{await a.listOrganizations(),v.value=!0}),{loading:!0})}g();const p=(0,t.Fl)((()=>{var e;return null===(e=d.backoffice)||void 0===e?void 0:e.organizations}));return(e,l)=>((0,t.wg)(),(0,t.iD)("section",null,[v.value?((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(u.Z,{organizations:(0,n.SU)(p),onRefreshTable:g},null,8,["organizations"])])):(0,t.kq)("v-if",!0)]))}}),v=d}}]);
//# sourceMappingURL=1972.js.map?ver=0.0.286_1702797533329