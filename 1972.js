"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[1972],{29464:(e,l,a)=>{a.d(l,{Z:()=>u});var t=a(34663),n=a.n(t),i=a(7638),o=a.n(i),s=a(69345),r=o()(n());r.i(s.Z),r.push([e.id,"\n","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const u=r},88613:(e,l,a)=>{a.d(l,{J:()=>t});const t=Symbol.for("IViewModel")},10301:(e,l,a)=>{a.d(l,{Z:()=>R});var t=a(71093),n=a(66190),i=a(73843),o=a(46233),s=a(5627),r=a(20559),u=a(91886),c=a(83487),d=a(74849),v=a(89001);const p=e=>((0,t.dD)("data-v-0ffaf54c"),e=e(),(0,t.Cn)(),e),g={class:"page-title"},m={class:"filter-area"},_={class:"search-in-table"},y=p((()=>(0,t._)("i",{class:"mdi mdi-magnify"},null,-1))),f={style:{"padding-bottom":"50px"}},b={class:"items-table",id:"organizationListTable"},h=p((()=>(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{class:"col-xl-1"},"Name"),(0,t._)("th",{class:"col-xl-1"},"Org Group"),(0,t._)("th",{class:"col-xl-1"},"App Count"),(0,t._)("th",{class:"col-xl-1"},"User Count"),(0,t._)("th",{class:"col-xl-2"},"Date Created"),(0,t._)("th",{class:"col-xl-1"},"Created By"),(0,t.kq)(' <th class="col-xl-1">Date Modified</th> '),(0,t._)("th",{class:"col-xl-1"},"Cost"),(0,t._)("th",{class:"col-xl-1"},"Tags"),(0,t._)("th",{class:"col-xl-1"},"Account Type"),(0,t._)("th",{class:"col-xl-1"},"Activity"),(0,t._)("th",{class:"col-xl-1"})])],-1))),D=p((()=>(0,t._)("td",null," - ",-1))),C=p((()=>(0,t._)("td",null," - ",-1))),k=p((()=>(0,t._)("td",null," - ",-1))),x=p((()=>(0,t._)("td",null,[(0,t._)("span",{style:{background:"#FF6B6B","border-radius":"50%",padding:"6px 10px"}},"0")],-1))),z={style:{display:"flex"}},w=["onClick"],T=["onClick"],I=["onClick"],F=(0,t.aZ)({__name:"organizationList",props:{organizations:null,userID:null,tagID:null},emits:["refreshTable"],setup(e,{emit:l}){const a=e,p=s.nC.resolve(c.y),F=s.nC.resolve(r.X),S=s.nC.resolve(u.r),U=(0,t.Fl)((()=>a.organizations)),Z=(0,i.iH)(""),A=(0,i.iH)([]),P=(0,i.iH)(["10","20","30","All"]),O=(0,i.iH)(["All","Premium","Free"]),H=(0,i.iH)("All");function q(){l("refreshTable")}function B(){const e=U.value.filter((e=>{var l,a,t,n;return((null===(l=e.name)||void 0===l?void 0:l.toUpperCase().includes(Z.value.toUpperCase()))||(null===(a=e.id)||void 0===a?void 0:a.toUpperCase().includes(Z.value.toUpperCase()))||(null===(t=e.createdBy)||void 0===t?void 0:t.toUpperCase().includes(Z.value.toUpperCase()))||(null===(n=e.organizationGroupName)||void 0===n?void 0:n.toUpperCase().includes(Z.value.toUpperCase())))&&"deleting"!=e.status}));return"All"==H.value?e:"Premium"==H.value?e.filter((e=>"premium"==e.accountType)):"Free"==H.value?e.filter((e=>"beta"==e.accountType||!e.accountType)):e}function E(e){switch(e){case"All":H.value="All";break;case"Premium":H.value="Premium";break;case"Free":H.value="Free"}}function M(e){A.value=e}return(0,t.bv)((()=>{S.addSortingToColumns("organizationListTable")})),(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",g,[(0,t._)("span",null,"Organization List ("+(0,n.toDisplayString)((0,i.SU)(U).length)+")",1)]),(0,t._)("div",m,[(0,t._)("div",_,[y,(0,t.wy)((0,t._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":l[0]||(l[0]=e=>Z.value=e)},null,512),[[o.vModelText,Z.value]])]),(0,t._)("div",null,[(0,t.Wm)(d.Z,{options:O.value,default:O.value[0],onInput:E,class:"bo-table-filters","selected-class":"selected-filter "},null,8,["options","default"])])]),(0,t._)("div",f,[(0,t._)("table",b,[h,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(A.value,(e=>((0,t.wg)(),(0,t.iD)("tr",{key:e.id},[(0,t._)("td",null,(0,n.toDisplayString)(e.name),1),(0,t._)("td",null,(0,n.toDisplayString)(e.organizationGroupName),1),D,C,(0,t._)("td",null,(0,n.toDisplayString)((0,i.SU)(S).formatDate(e.createDate)),1),(0,t._)("td",null,(0,n.toDisplayString)(e.createdBy),1),(0,t.kq)(" <td> {{organization.modifyDate ? tableMethods.formatDate(organization.modifyDate) : '-' }} </td> "),k,(0,t._)("td",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.tagNames,(e=>((0,t.wg)(),(0,t.iD)("span",{key:e,class:"tag-names"},(0,n.toDisplayString)(e),1)))),128))]),(0,t._)("td",null,(0,n.toDisplayString)(e.accountType?"beta"==e.accountType?"Free":"Premium":"Free"),1),x,(0,t._)("td",null,[(0,t._)("div",z,[a.userID?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"remove-btn",onClick:l=>{return t=a.userID,n=e.id,void p.execute((async()=>{await F.removeUserFromOrganization({userId:t,organizationId:n}),q()}),{loading:!0});var t,n}},"REMOVE",8,w)):(0,t.kq)("v-if",!0),a.tagID?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"remove-btn",onClick:l=>{return t=a.tagID,n=e.id,void p.execute((async()=>{await F.removeTagFromOrganization({organizationId:n,tagId:t}),q()}),{loading:!0});var t,n}},"REMOVE",8,T)):(0,t.kq)("v-if",!0),(0,t._)("button",{class:"view-btn",onClick:l=>{return a=e.id,void window.open(`/backoffice/organization/${a}`,"_blank");var a}},"VIEW",8,I)])])])))),128))]),(0,t.Wm)(v.Z,{itemsPerPageOptions:P.value,columnCount:11,onPaginateData:M,searchInTable:Z.value,selectedFilter:H.value,getTableData:B},null,8,["itemsPerPageOptions","searchInTable","selectedFilter"])])])],64))}});var S=a(17450),U=a.n(S),Z=a(29530),A=a.n(Z),P=a(16199),O=a.n(P),H=a(40458),q=a.n(H),B=a(62916),E=a.n(B),M=a(92165),V=a.n(M),L=a(29464),N={};N.styleTagTransform=V(),N.setAttributes=q(),N.insert=O().bind(null,"head"),N.domAPI=A(),N.insertStyleElement=E(),U()(L.Z,N),L.Z&&L.Z.locals&&L.Z.locals;const R=(0,a(32525).Z)(F,[["__scopeId","data-v-0ffaf54c"]])},71972:(e,l,a)=>{a.r(l),a.d(l,{default:()=>v});var t=a(71093),n=a(73843),i=a(5627),o=a(20559),s=a(83487),r=a(88613),u=a(10301);const c={key:0},d=(0,t.aZ)({__name:"organizations",setup(e){const l=i.nC.resolve(s.y),a=i.nC.resolve(o.X),d=i.nC.resolve(r.J);a.setBreadcrumb(["Organizations"]);const v=(0,n.iH)(!1);function p(){l.execute((async()=>{await a.listOrganizations(),v.value=!0}),{loading:!0})}p();const g=(0,t.Fl)((()=>{var e;return null===(e=d.backoffice)||void 0===e?void 0:e.organizations}));return(e,l)=>((0,t.wg)(),(0,t.iD)("section",null,[v.value?((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(u.Z,{organizations:(0,n.SU)(g),onRefreshTable:p},null,8,["organizations"])])):(0,t.kq)("v-if",!0)]))}}),v=d}}]);
//# sourceMappingURL=1972.js.map