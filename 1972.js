"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[1972],{71151:(l,e,a)=>{a.d(e,{Z:()=>u});var t=a(34663),n=a.n(t),i=a(7638),o=a.n(i),s=a(69345),r=o()(n());r.i(s.Z),r.push([l.id,"\n","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const u=r},88613:(l,e,a)=>{a.d(e,{J:()=>t});const t=Symbol.for("IViewModel")},2043:(l,e,a)=>{a.d(e,{Z:()=>B});var t=a(71093),n=a(66190),i=a(73843),o=a(46233),s=a(5627),r=a(20559),u=a(91886),c=a(83487),d=a(74849),v=a(89001);const p=l=>((0,t.dD)("data-v-0dafd73e"),l=l(),(0,t.Cn)(),l),g={class:"page-title"},_={class:"filter-area"},y={class:"search-in-table"},m=p((()=>(0,t._)("i",{class:"mdi mdi-magnify"},null,-1))),D={style:{"padding-bottom":"50px"}},f={class:"items-table",id:"organizationListTable"},C=p((()=>(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{class:"col-xl-1"},"Name"),(0,t._)("th",{class:"col-xl-1"},"Licensing Group"),(0,t._)("th",{class:"col-xl-1"},"App Count"),(0,t._)("th",{class:"col-xl-1"},"User Count"),(0,t._)("th",{class:"col-xl-1"},"UI Page Count"),(0,t._)("th",{class:"col-xl-1"},"UI Page Size"),(0,t._)("th",{class:"col-xl-1"},"Date Created"),(0,t._)("th",{class:"col-xl-1"},"Created By"),(0,t._)("th",{class:"col-xl-1"},"Date Modified"),(0,t._)("th",{class:"col-xl-1"},"Cost"),(0,t._)("th",{class:"col-xl-1"},"Tags"),(0,t._)("th",{class:"col-xl-1"},"License"),(0,t.kq)(' <th class="col-xl-1">Activity</th> '),(0,t._)("th",{class:"col-xl-1"})])],-1))),h=p((()=>(0,t._)("td",null," - ",-1))),b={style:{display:"flex"}},I=["onClick"],S=["onClick"],k=["onClick"],x=(0,t.aZ)({__name:"organizationList",props:{organizations:null,userID:null,tagID:null},emits:["refreshTable"],setup(l,{emit:e}){const a=l,p=s.nC.resolve(c.y),x=s.nC.resolve(r.X),z=s.nC.resolve(u.r),w=(0,t.Fl)((()=>a.organizations)),T=(0,i.iH)(""),U=(0,i.iH)([]),E=(0,i.iH)(["10","20","30","All"]),F=(0,i.iH)(["All","LICENSED","Free"]),Z=(0,i.iH)("All");function L(){e("refreshTable")}function P(){const l=w.value.filter((l=>{var e,a,t,n;return((null===(e=l.name)||void 0===e?void 0:e.toUpperCase().includes(T.value.toUpperCase()))||(null===(a=l.id)||void 0===a?void 0:a.toUpperCase().includes(T.value.toUpperCase()))||(null===(t=l.createdBy)||void 0===t?void 0:t.toUpperCase().includes(T.value.toUpperCase()))||(null===(n=l.organizationGroupName)||void 0===n?void 0:n.toUpperCase().includes(T.value.toUpperCase())))&&"deleting"!=l.status}));return"All"==Z.value?l:"LICENSED"==Z.value?l.filter((l=>"premium"==l.accountType)):"Free"==Z.value?l.filter((l=>"beta"==l.accountType||!l.accountType)):l}function A(l){switch(l){case"All":Z.value="All";break;case"LICENSED":Z.value="LICENSED";break;case"Free":Z.value="Free"}}function H(l){U.value=l}return(0,t.bv)((()=>{z.addSortingToColumns("organizationListTable")})),(l,e)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",g,[(0,t._)("span",null,"Organization List ("+(0,n.toDisplayString)((0,i.SU)(w).length)+")",1)]),(0,t._)("div",_,[(0,t._)("div",y,[m,(0,t.wy)((0,t._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":e[0]||(e[0]=l=>T.value=l)},null,512),[[o.vModelText,T.value]])]),(0,t._)("div",null,[(0,t.Wm)(d.Z,{options:F.value,default:F.value[0],onInput:A,class:"bo-table-filters","selected-class":"selected-filter "},null,8,["options","default"])])]),(0,t._)("div",D,[(0,t._)("table",f,[C,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(U.value,(l=>{var e,o,s,r,u;return(0,t.wg)(),(0,t.iD)("tr",{key:l.id},[(0,t._)("td",null,(0,n.toDisplayString)(l.name),1),(0,t._)("td",null,(0,n.toDisplayString)(l.organizationGroupName),1),(0,t._)("td",null,(0,n.toDisplayString)(null===(e=l.calculatedInfo)||void 0===e?void 0:e.appCount),1),(0,t._)("td",null,(0,n.toDisplayString)(null===(o=l.calculatedInfo)||void 0===o?void 0:o.userCount),1),(0,t._)("td",null,(0,n.toDisplayString)(null===(s=l.calculatedInfo)||void 0===s?void 0:s.uiPageCount),1),(0,t._)("td",null,(0,n.toDisplayString)((null===(r=l.calculatedInfo)||void 0===r?void 0:r.uiPageSize)?Math.ceil((null===(u=l.calculatedInfo)||void 0===u?void 0:u.uiPageSize)/1024)+"kB":""),1),(0,t._)("td",null,(0,n.toDisplayString)((0,i.SU)(z).formatDate(l.createDate)),1),(0,t._)("td",null,(0,n.toDisplayString)(l.createdBy),1),(0,t._)("td",null,(0,n.toDisplayString)(l.modifyDate?(0,i.SU)(z).formatDate(l.modifyDate):"-"),1),h,(0,t._)("td",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.tagNames,(l=>((0,t.wg)(),(0,t.iD)("span",{key:l,class:"tag-names"},(0,n.toDisplayString)(l),1)))),128))]),(0,t._)("td",null,(0,n.toDisplayString)(l.accountType?"beta"==l.accountType?"Free":"LICENSED":"Free"),1),(0,t.kq)(' <td>  <span style="background: #FF6B6B; border-radius: 50%;padding: 6px 10px;">0</span> </td> '),(0,t._)("td",null,[(0,t._)("div",b,[a.userID?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"remove-btn",onClick:e=>{return t=a.userID,n=l.id,void p.execute((async()=>{await x.removeUserFromOrganization({userId:t,organizationId:n}),L()}),{loading:!0});var t,n}},"REMOVE",8,I)):(0,t.kq)("v-if",!0),a.tagID?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"remove-btn",onClick:e=>{return t=a.tagID,n=l.id,void p.execute((async()=>{await x.removeTagFromOrganization({organizationId:n,tagId:t}),L()}),{loading:!0});var t,n}},"REMOVE",8,S)):(0,t.kq)("v-if",!0),(0,t._)("button",{class:"view-btn",onClick:e=>{return a=l.id,void window.open(`/backoffice/organization/${a}`,"_blank");var a}},"VIEW",8,k)])])])})),128))]),(0,t.Wm)(v.Z,{itemsPerPageOptions:E.value,columnCount:11,onPaginateData:H,searchInTable:T.value,selectedFilter:Z.value,getTableData:P},null,8,["itemsPerPageOptions","searchInTable","selectedFilter"])])])],64))}});var z=a(17450),w=a.n(z),T=a(29530),U=a.n(T),E=a(16199),F=a.n(E),Z=a(40458),L=a.n(Z),P=a(62916),A=a.n(P),H=a(92165),N=a.n(H),O=a(71151),q={};q.styleTagTransform=N(),q.setAttributes=L(),q.insert=F().bind(null,"head"),q.domAPI=U(),q.insertStyleElement=A(),w()(O.Z,q),O.Z&&O.Z.locals&&O.Z.locals;const B=(0,a(32525).Z)(x,[["__scopeId","data-v-0dafd73e"]])},71972:(l,e,a)=>{a.r(e),a.d(e,{default:()=>v});var t=a(71093),n=a(73843),i=a(5627),o=a(20559),s=a(83487),r=a(88613),u=a(2043);const c={key:0},d=(0,t.aZ)({__name:"organizations",setup(l){const e=i.nC.resolve(s.y),a=i.nC.resolve(o.X),d=i.nC.resolve(r.J);a.setBreadcrumb(["Organizations"]);const v=(0,n.iH)(!1);function p(){e.execute((async()=>{await a.listOrganizations(),v.value=!0}),{loading:!0})}p();const g=(0,t.Fl)((()=>{var l;return null===(l=d.backoffice)||void 0===l?void 0:l.organizations}));return(l,e)=>((0,t.wg)(),(0,t.iD)("section",null,[v.value?((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(u.Z,{organizations:(0,n.SU)(g),onRefreshTable:p},null,8,["organizations"])])):(0,t.kq)("v-if",!0)]))}}),v=d}}]);
//# sourceMappingURL=1972.js.map