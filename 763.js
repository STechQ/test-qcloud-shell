"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[763],{6931:(e,n,t)=>{t.d(n,{Z:()=>d});var a=t(8375),i=t.n(a),l=t(7638),o=t.n(l)()(i());o.push([e.id,"\n.maindiv[data-v-360fbe8e] {\n  background: #ffffff;\n  border: 1px solid #d5d5d5;\n  border-radius: 12px;\n  margin: 24px auto;\n  padding: 32px;\n  width: calc(100% - 80px);\n  max-width: 1400px;\n  min-height: 90%;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.04);\n}\n.cert-header[data-v-360fbe8e] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 16px;\n}\n.cert-icon-circle[data-v-360fbe8e] {\n  width: 60px;\n  height: 60px;\n  background-color: #d7d7f5;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.cert-icon[data-v-360fbe8e] {\n  font-size: 32px;\n  color: #7575b7;\n}\n.cert-header-text[data-v-360fbe8e] {\n  display: flex;\n  flex-direction: column;\n}\n.cert-title[data-v-360fbe8e] {\n  font-weight: 500;\n  font-size: 20px;\n  color: #151233;\n}\n.cert-desc[data-v-360fbe8e] {\n  font-size: 14px;\n  color: #616161;\n}\n.top-bar[data-v-360fbe8e] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 24px;\n  margin-bottom: 16px;\n}\n.add-new-btn[data-v-360fbe8e] {\n  padding: 8px 16px;\n  border: 1px solid #151233;\n  background-color: transparent;\n  color: #151233;\n  border-radius: 4px;\n  font-weight: 500;\n  font-size: 14px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.search-input[data-v-360fbe8e] {\n  width: 220px;\n  padding: 10px 12px;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  font-size: 14px;\n  margin-right: 12px;\n  height: 40px;\n}\n.table-div[data-v-360fbe8e] {\n  margin-top: 12px;\n}\n.cert-table[data-v-360fbe8e] {\n  width: 100%;\n  background: #ffffff;\n  border: 1px solid #e3e3e3;\n  border-radius: 6px;\n  border-collapse: collapse;\n  box-shadow: none;\n}\n.cert-table th[data-v-360fbe8e],\n.cert-table td[data-v-360fbe8e] {\n  padding: 12px 24px;\n  font-size: 14px;\n  text-align: left;\n  border-bottom: 1px solid #e0e0e0;\n}\n.cert-table th[data-v-360fbe8e]:last-child,\n.cert-table td[data-v-360fbe8e]:last-child {\n  border-right: none;\n}\n.cert-table th[data-v-360fbe8e] {\n  background-color: #f5f5f5;\n  color: #616161;\n  font-weight: 500;\n  border-top: 1px solid #e0e0e0;\n}\n.cert-table td[data-v-360fbe8e] {\n  color: #212121;\n  vertical-align: middle;\n}\n.cert-table tbody tr[data-v-360fbe8e]:hover {\n  background-color: #fafafa;\n}\n.action-icon[data-v-360fbe8e] {\n  font-size: 18px;\n  margin-right: 6px;\n  cursor: pointer;\n  color: #757575;\n}\n.action-icon[data-v-360fbe8e]:hover {\n  color: #151233;\n}\n*[data-v-360fbe8e] {\n  font-family: 'Roboto', sans-serif;\n}\n.action-buttons[data-v-360fbe8e] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.cert-input[data-v-360fbe8e] {\n  width: 100%;\n  height: 300px;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  padding: 12px;\n  font-size: 14px;\n  margin-top: 12px;\n  resize: vertical;\n  box-sizing: border-box;\n}\n.cancel-btn[data-v-360fbe8e],\n.save-btn[data-v-360fbe8e] {\n  padding: 8px 16px;\n  font-size: 14px;\n  border-radius: 4px;\n  border: none;\n  cursor: pointer;\n  margin-left: 8px;\n}\n.cancel-btn[data-v-360fbe8e] {\n  background-color: transparent;\n  color: #757575;\n  border: 1px solid #e0e0e0;\n}\n.save-btn[data-v-360fbe8e] {\n  background-color: #151233;\n  color: #ffffff;\n}\n.upload-header[data-v-360fbe8e] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.upload-btn[data-v-360fbe8e] {\n  background-color: #151233;\n  color: #ffffff;\n  border: none;\n  border-radius: 4px;\n  padding: 6px 14px;\n  font-size: 14px;\n  font-weight: 500;\n  height: 35px;\n  width: 85px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.upload-btn[data-v-360fbe8e]:hover {\n  background-color: #2c2b4a;\n}\n\n\n\n",""]);const d=o},40763:(e,n,t)=>{t.r(n),t.d(n,{default:()=>K});var a=t(71093),i=t(46233),l=t(73843),o=t(66190),d=t(53266),r=t(91056),c=t(65416),s=t(88613),u=t(24153),f=t(91436),p=t(50419);const v=e=>((0,a.dD)("data-v-360fbe8e"),e=e(),(0,a.Cn)(),e),b={class:"maindiv"},x={style:{width:"100%"}},h={key:0},g=(0,a.uE)('<div style="display:flex;flex-direction:column;gap:4px;" data-v-360fbe8e><div class="cert-header" data-v-360fbe8e><div class="cert-icon-circle" data-v-360fbe8e><i class="mdi mdi-certificate cert-icon" data-v-360fbe8e></i></div><div class="cert-header-text" data-v-360fbe8e><div class="cert-title" data-v-360fbe8e>Certificate</div><div class="cert-desc" data-v-360fbe8e> Manage and view certificates associated with your domains, including expiration details and domain mapping. </div></div></div></div><hr class="divider" data-v-360fbe8e>',2),m={class:"top-bar"},y={class:"table-div"},w={class:"cert-table"},C=v((()=>(0,a._)("thead",null,[(0,a._)("tr",{class:"thead"},[(0,a._)("th",{class:"col"},"Domain Name"),(0,a._)("th",{class:"col"},"Expire Date"),(0,a._)("th",{class:"col",style:{width:"80px"}})])],-1))),_={class:"action-buttons"},k=["onClick"],D=["onClick"],N={key:1},E={class:"upload-header"},I=v((()=>(0,a._)("div",{class:"cert-title"},"Certificate",-1))),T={class:"upload-btn"},S={style:{display:"flex","justify-content":"flex-end","margin-top":"12px"}},A=(0,a.aZ)({__name:"certificateEditor",props:{functions:null,callbacks:null},setup(e){const n=e,t=d.nC.resolve(p.L),v=(d.nC.resolve(r.u),d.nC.resolve(c.r),d.nC.resolve(u.b),d.nC.resolve(s.J),(0,l.iH)(!1)),A=(0,l.iH)(!1),z=(0,l.iH)(""),j=(0,l.iH)([]);(0,a.bv)((async()=>{var e,t;const a=await(null===(t=(e=n.functions).getModel)||void 0===t?void 0:t.call(e));(null==a?void 0:a.model)&&(j.value=JSON.parse(a.model))}));const F=(0,l.iH)(null);function U(){n.callbacks.modified({model:!0})}(0,a.YP)(v,(e=>{e&&!A.value&&(z.value="",F.value=null)})),n.functions.getModel=async()=>({model:JSON.stringify(j.value)}),n.functions.setModel=async e=>{try{const n=JSON.parse(e);j.value=JSON.parse(n.model)}catch(e){console.error("âŒ Failed to set model:",e)}};const M=(0,l.iH)(""),H=(0,a.Fl)((()=>j.value.filter((e=>e.domainName.toString().toLowerCase().includes(M.value.toLowerCase())))));return(e,d)=>((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",x,[v.value?((0,a.wg)(),(0,a.iD)("div",N,[(0,a._)("div",E,[I,(0,a._)("label",T,[(0,a.Uk)(" UPLOAD "),(0,a._)("input",{style:{display:"none"},type:"file",id:"fileInput",multiple:"",onChange:d[2]||(d[2]=e=>async function(e){var n,t,a=document.getElementById("fileInput");console.log("selectedFiles",a);for(var i=0;i<(null===(n=null==a?void 0:a.files)||void 0===n?void 0:n.length);i++){const n=null===(t=null==a?void 0:a.files)||void 0===t?void 0:t.item(i),l=await n.text();console.log("text",l),e&&(z.value=""),z.value+=l+"\n\n"}}(z.value))},null,32)])]),(0,a.wy)((0,a._)("textarea",{class:"cert-input","onUpdate:modelValue":d[3]||(d[3]=e=>z.value=e),placeholder:"Upload your certificate file or paste the certificate content here"},null,512),[[i.vModelText,z.value]]),(0,a._)("div",S,[(0,a._)("button",{class:"cancel-btn",onClick:d[4]||(d[4]=e=>(v.value=!1,void(A.value=!1)))},"Cancel"),(0,a._)("button",{class:"save-btn",onClick:d[5]||(d[5]=e=>async function(){var e,a;const i=function(e){try{const n=e.match(/-----BEGIN CERTIFICATE-----[\s\S]+?-----END CERTIFICATE-----/g);if(!n||0===n.length)return void t.showNotification({text:"No valid certificate found in the content.",type:"error"});if(n.length>1)return void t.showNotification({text:"Multiple certificates detected. Please upload or paste only one certificate at a time.",type:"error"});const a=n[0].replace(/-----BEGIN CERTIFICATE-----/,"").replace(/-----END CERTIFICATE-----/,"").replace(/\s+/g,""),i=Uint8Array.from(atob(a),(e=>e.charCodeAt(0))),l=new f.LF(i.buffer);let o=[];if(o=function(e){const n=[],t=e.find((e=>"2.5.29.17"===e.type));return(null==t?void 0:t.names)&&t.names.items.forEach((e=>{"dns"===e.type&&"string"==typeof e.value&&n.push(e.value)})),n}(l.extensions),!o||0===o.length){const e=function(e){const n=e.match(/CN=([^,]+)/);return n?n[1].trim():null}(l.subject);e&&!e.includes(" ")&&o.push(e)}return{subject:o,issuer:l.issuer,validFrom:l.notBefore,validTo:l.notAfter,serialNumber:l.serialNumber,publicKey:l.publicKey.algorithm.name}}catch(e){return void t.showNotification({text:"Failed to decode certificate: Make sure the input is a valid certificate.",type:"error"})}}(z.value);if(!i)return;if(!i.subject||0===i.subject.length)return void t.showNotification({text:"The certificate does not contain a valid Common Name (CN). Please check the certificate content.",type:"error"});const l={id:null!==F.value?j.value[F.value].id:crypto.randomUUID(),domainName:i.subject,base64Certificate:z.value,issueDate:i.validFrom,expireDate:i.validTo};null!==F.value?j.value.splice(F.value,1,l):j.value.push(l),v.value=!1,A.value=!1,F.value=null,z.value="",M.value="",await(null===(a=(e=n.functions).setModel)||void 0===a?void 0:a.call(e,JSON.stringify(j.value))),U()}())},(0,o.toDisplayString)(null!==F.value?"UPDATE":"ADD"),1)])])):((0,a.wg)(),(0,a.iD)("div",h,[g,(0,a._)("div",m,[(0,a.wy)((0,a._)("input",{type:"text",class:"search-input",placeholder:"Search certificates","onUpdate:modelValue":d[0]||(d[0]=e=>M.value=e)},null,512),[[i.vModelText,M.value]]),(0,a._)("button",{class:"add-new-btn",onClick:d[1]||(d[1]=e=>v.value=!0)},"ADD NEW")]),(0,a._)("div",y,[(0,a._)("table",w,[C,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(H),(e=>{return(0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,o.toDisplayString)(e.domainName),1),(0,a._)("td",null,(0,o.toDisplayString)((n=e.expireDate,new Date(n).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",",""))),1),(0,a._)("td",null,[(0,a._)("div",_,[(0,a._)("i",{class:"mdi mdi-pencil-outline action-icon",title:"Edit",onClick:n=>function(e){const n=j.value.findIndex((n=>n.id===e.id));-1!==n&&(F.value=n,z.value=e.base64Certificate,A.value=!0,v.value=!0)}(e)},null,8,k),(0,a._)("i",{class:"mdi mdi-delete-outline action-icon",title:"Delete",onClick:n=>function(e){const n=j.value.findIndex((n=>n.id===e.id));-1!==n&&(j.value.splice(n,1),U())}(e)},null,8,D)])])]);var n})),128))])])])]))])]))}});var z=t(17450),j=t.n(z),F=t(29530),U=t.n(F),M=t(16199),H=t.n(M),Z=t(40458),J=t.n(Z),L=t(62916),O=t.n(L),P=t(92165),B=t.n(P),R=t(6931),G={};G.styleTagTransform=B(),G.setAttributes=J(),G.insert=H().bind(null,"head"),G.domAPI=U(),G.insertStyleElement=O(),j()(R.Z,G),R.Z&&R.Z.locals&&R.Z.locals;const K=(0,t(32525).Z)(A,[["__scopeId","data-v-360fbe8e"]])}}]);