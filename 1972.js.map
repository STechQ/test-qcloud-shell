{"version":3,"file":"1972.js","mappings":"8HAqEO,MAAMA,EAAaC,OAAOC,IAAI,a,gIClErC,MAAMC,EAAa,CAAEC,IAAK,GAU1B,GAA4B,QAAiB,CAC3CC,OAAQ,gBACR,KAAAC,CAAMC,GAER,MAAMC,EAAW,KAAUC,QAA0BC,EAAA,GAC/CC,EAAoB,KAAUF,QAA4BG,EAAA,GAC1DC,EAAY,KAAUJ,QAAoBT,EAAA,GAEhDW,EAAkBG,cAAc,CAAC,kBACjC,MAAMC,GAA2B,SAAI,GAErC,SAASC,IACLR,EAASS,SAAQC,gBACPP,EAAkBK,oBACxBD,EAAyBI,OAAQ,CAAI,GACtC,CAAEC,SAAS,GAClB,CACAJ,IACA,MAAMK,GAAgB,SAAS,KAAK,MAAC,OAAoB,QAApB,EAAAR,EAAUS,kBAAU,eAAED,aAAa,IAGxE,MAAO,CAACE,EAAUC,MACR,WAAc,QAAoB,UAAW,KAAM,CACxDT,EAA8B,QAC1B,WAAc,QAAoB,MAAOZ,EAAY,EACpD,QAAa,IAAkB,CAC7BkB,eAAe,QAAOA,GACtBI,eAAgBT,GACf,KAAM,EAAe,CAAC,sBAE3B,QAAoB,QAAQ,KAGpC,ICzCA,EAFoB,C","sources":["webpack://qcloud_shell/./src/domain/viewModel/IViewModel.ts","webpack://qcloud_shell/./src/presentation/vue3/pages/backoffice/organizations.vue?b2cc","webpack://qcloud_shell/./src/presentation/vue3/pages/backoffice/organizations.vue"],"sourcesContent":["import { IApplication, IExportJobItem, IModel, IModule, ILoggedInUser } from \"../model/models\";\nimport { ITopMenuButton } from \"../model/ui/ITopMenuButton\";\nimport { INavItem } from \"../model/ui/INavItem\";\nimport { IMainStatisticInfo } from \"../../../../common/qCloudTemp/backoffice\";\nimport { IUser_SUSI } from \"../../../../common/qCloudTemp/authentication\";\nimport { IOrganization } from \"../../../../common/qCloudTemp/membership\";\nimport { IOrganizationGroup, ITags } from \"../../../../common/qCloudTemp/quickCloud\";\nimport { IUserRequest } from \"../../../../common/qCloudTemp/userRequest\";\nimport { IOrganizationUIExtended } from \"../useCase/IBackofficeUseCase\";\n\nexport interface IViewModel {\n    user?: ILoggedInUser;\n    apps: Array<IApplication>;\n    studio: {\n        appId: string;\n        appName: string;\n        items: Array<IModel | IModule>;\n        openItems?: Array<IModel>;\n        currentItem?: IModel;\n        tabOrder?: Array<string>;\n        dnsEndpoint?: string;\n        webPublishDate?: string;\n        mobilePublishDate?: string;\n        webPublishedBy?: string;\n        mobilePublishedBy?: string;\n        publishId?: string;\n        livePreview?: {\n            relayClients: { clients: Array<{ clientID: string, name: string }> }\n        }\n        filters: {\n            text?: string;\n            ui: boolean;\n            process: boolean;\n            entity: boolean;\n            image: boolean;\n            setting: boolean;\n            placeholder: boolean;\n        },\n        ui?: {\n            navItems?: Array<INavItem>;\n            sidebar: {\n                component?: object;\n                componentPath?: string;\n                left: number;\n            };\n        };\n        topMenu?: {\n            additionalButtons?: Array<ITopMenuButton>;\n            dynamicButtons?: Array<ITopMenuButton>;\n        };\n        export?: {\n            lastUncompiledDate?: Date;\n        }\n    };\n    exportJobs?: Array<IExportJobItem>;\n    backoffice?: {\n        ui?: {\n            breadcrumb?: Array<string>;\n        }\n        dashboard?: {\n            mainStatistics: IMainStatisticInfo;\n        };\n        users?: Array<IUser_SUSI>;\n        organizations?: Array<IOrganizationUIExtended>;\n        tags?: Array<ITags>;\n        userRequests?: Array<IUserRequest>;\n        organizationGroups?: Array<IOrganizationGroup>;\n    };\n}\nexport const IViewModel = Symbol.for(\"IViewModel\");\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\n\nimport { computed, ref } from \"vue\";\nimport { container } from \"../../../../domain/core/diContainer\";\nimport { IBackofficeUseCase } from \"../../../../domain/useCase/IBackofficeUseCase\";\nimport { IUseCaseExecutor } from \"../../../../domain/useCase/IUseCaseExecutor\";\nimport { IViewModel } from \"../../../../domain/viewModel/IViewModel\";\nimport OrganizationList from \"../../components/backoffice/organization/organizationList.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'organizations',\n  setup(__props) {\n\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst backofficeUseCase = container.resolve<IBackofficeUseCase>(IBackofficeUseCase);\nconst viewModel = container.resolve<IViewModel>(IViewModel);\n\nbackofficeUseCase.setBreadcrumb([\"Organizations\"]);\nconst organizationsDataIsReady = ref(false);\n\nfunction listOrganizations() {\n    executor.execute(async () => {\n        await backofficeUseCase.listOrganizations();\n        organizationsDataIsReady.value = true;\n    }, { loading: true });\n}\nlistOrganizations();\nconst organizations = computed(() => viewModel.backoffice?.organizations);\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", null, [\n    (organizationsDataIsReady.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createVNode(OrganizationList, {\n            organizations: _unref(organizations)!,\n            onRefreshTable: listOrganizations\n          }, null, 8 /* PROPS */, [\"organizations\"])\n        ]))\n      : _createCommentVNode(\"v-if\", true)\n  ]))\n}\n}\n\n})","import script from \"./organizations.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./organizations.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["IViewModel","Symbol","for","_hoisted_1","key","__name","setup","__props","executor","resolve","IUseCaseExecutor","backofficeUseCase","IBackofficeUseCase","viewModel","setBreadcrumb","organizationsDataIsReady","listOrganizations","execute","async","value","loading","organizations","backoffice","_ctx","_cache","onRefreshTable"],"sourceRoot":""}