"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[6316],{5721:(e,n,a)=>{a.d(n,{Z:()=>l});var t=a(34663),i=a.n(t),o=a(7638),s=a.n(o)()(i());s.push([e.id,"\n.editDiv[data-v-02e6dd02] {\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n.editButtonDiv[data-v-02e6dd02] {\n    border-top: 1px solid #E0E0E0;\n    margin-top: 30px;\n    margin-left: 20px;\n    margin-right: 20px;\n    text-align: end;\n}\n.updateBtn[data-v-02e6dd02] {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    width: 79px;\n    height: 32px;\n    border-radius: 4px;\n    opacity: 1;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    color: #FFFFFF;\n    letter-spacing: 0.02px;\n    opacity: 1;\n    background-color: #4F537B;\n    border: unset;\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/editItem.vue"],names:[],mappings:";AA0GA;IACI,gBAAgB;IAChB,iBAAiB;IACjB,kBAAkB;AACtB;AAEA;IACI,6BAA6B;IAC7B,gBAAgB;IAChB,iBAAiB;IACjB,kBAAkB;IAClB,eAAe;AACnB;AAEA;IACI,gBAAgB;IAChB,mBAAmB;IACnB,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,UAAU;IACV,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,cAAc;IACd,sBAAsB;IACtB,UAAU;IACV,yBAAyB;IACzB,aAAa;AACjB",sourcesContent:['<script setup lang="ts">\nimport { ref } from \'vue\'\nimport { container } from \'../../../../domain/core/diContainer\';\nimport { IUseCaseExecutor } from \'../../../../domain/useCase/IUseCaseExecutor\';\nimport IDEInput from "../../components/application/IDEInput.vue";\nimport { IIDEInputDefinitions } from \'../../../../domain/presentation/IIDEInputDefinitions\';\nimport { IObjectUseCase } from \'../../../../domain/useCase/IObjectUseCase\';\nimport { computed } from \'@vue/reactivity\';\nimport { IEditItemInline } from \'../IComponentProps\';\nimport { IFolderUseCase } from \'../../../../domain/useCase/IFolderUseCase\';\nimport { IModelUseCase } from \'../../../../domain/useCase/IModelUseCase\';\nimport { IViewModelManager } from \'../../../../domain/viewModel/IViewModelManager\';\nimport { IRouter } from \'../../../../domain/presentation/IRouter\';\n\nconst param = defineProps<{ param: IEditItemInline }>();\nconst props = param.param;\nconst viewModelManager = container.resolve<IViewModelManager>(IViewModelManager);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst objectUseCase = container.resolve<IObjectUseCase>(IObjectUseCase);\nconst folderUseCase = container.resolve<IFolderUseCase>(IFolderUseCase);\nconst modelUseCase = container.resolve<IModelUseCase>(IModelUseCase);\n\nconst emit = defineEmits(["close"]);\nconst isNameValid = ref<boolean>(false);\nconst isDescriptionValid = ref<boolean>(true);\nconst isPrefixValid = ref<boolean>(true);\nconst validations = ref<Record<"name" | "description" | "prefix", IIDEInputDefinitions["validations"]>>({\n    name: { minAndMaxLength: { min: 2, max: 60 }, nonSpaceCharacter: true, customRegex:{ regex: /^([a-zA-Z0-9-_]+)$/, message: "Available characters: A-Z, a-z, 1-9, \'-\' and \'_\'"} },\n    prefix: { availableCharacters: false, nonSpaceCharacter: true },\n    description: { minAndMaxLength: { min: 2, max: 100 }, availableCharacters: true, nonSpaceCharacter: false },\n});\n\nconst newName = ref(props.name);\nconst description = ref(props.type == "module" ? props.description : "");\nconst prefix = ref(props.type == "module" ? props.prefix : "");\n\n\nfunction edit() {\n    executor.execute(async () => {\n        switch(props.type) {\n            case "folder":\n                const folder = viewModelManager.findObject(props.id);\n                if (folder?.objectType != "folder") { throw new Error("unexpected type for folder: " + folder?.objectType); }\n                await folderUseCase.updateFolder(folder, { name: newName.value });\n                break;\n            case "model":\n                await modelUseCase.updateModel(props.id, { name: props.modelType == "css" ? newName.value + ".css" : newName.value }, { showNotification: true });\n                break;\n            case "module":\n                await objectUseCase.updateModule(props.id, true, {name: newName.value, description: description.value, prefix: prefix.value, applicationID: props.applicationID });\n                break;\n        }\n        \n        emit("close");\n    }, { loading: true });\n}\n\nfunction setNameValue(value: string) {\n    newName.value = value\n}\nfunction setNameValidationStatus(isValid: boolean) {\n    isNameValid.value = isValid\n}\n\nfunction setDescriptionValue(value: string) {\n    description.value = value\n}\nfunction setDescriptionValidationStatus(isValid: boolean) {\n    isDescriptionValid.value = isValid\n}\n\nfunction setPrefix(prefixValue: string) {\n    prefix.value = prefixValue\n}\nfunction setPrefixValidationStatus(isValid: boolean) {\n    isPrefixValid.value = isValid\n}\n\nconst buttonDisabled = computed(() => !isNameValid.value || !isDescriptionValid.value || !isPrefixValid.value);\n\n<\/script> \n\n<template>\n    <div class=\'editDiv\'>\n        <IDEInput :isRequired="true" elementId="nameInput" @getValue="setNameValue" @validateStatus="setNameValidationStatus"\n            placeholder="" :type="\'text\'" info-text="Name" :validations="validations.name" :value="props.name.split(\'.\')[0]"  />\n        <div v-if="props.type == \'module\'">\n            <IDEInput :isRequired="false" elementId="urlPrefixInput" @getValue="setPrefix" @validateStatus="setPrefixValidationStatus"\n                placeholder="" :type="\'text\'" info-text="Prefix" :validations="validations.prefix" :value="props.prefix" \n                info-hover="For applications using webSDK, the \'moduleUrlPrefix/moduleName should be entered, \n                which is the expected page url routing in the shell application where the webSDK is integrated" />\n            <IDEInput :isRequired="false" elementId="descriptionInput" @getValue="setDescriptionValue" @validateStatus="setDescriptionValidationStatus"\n                placeholder="" :type="\'textarea\'" info-text="Description" :validations="validations.description" :value="props.description"  />\n        </div>\n        \x3c!-- <label> \n            Module Name\n            <input v-model="name" placeholder="Name" />  \n        </label>  --\x3e\n    </div>\n    <div class="editButtonDiv">\n        <button :style="{ opacity: buttonDisabled ? \'0.5\' : \'\' }" class=\'updateBtn\'\n                @click="edit()" :disabled="buttonDisabled">Update</button>\n    </div>\n</template> \n\n<style scoped>\n.editDiv {\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n\n.editButtonDiv {\n    border-top: 1px solid #E0E0E0;\n    margin-top: 30px;\n    margin-left: 20px;\n    margin-right: 20px;\n    text-align: end;\n}\n\n.updateBtn {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    width: 79px;\n    height: 32px;\n    border-radius: 4px;\n    opacity: 1;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    color: #FFFFFF;\n    letter-spacing: 0.02px;\n    opacity: 1;\n    background-color: #4F537B;\n    border: unset;\n}\n</style>'],sourceRoot:""}]);const l=s},76316:(e,n,a)=>{a.r(n),a.d(n,{default:()=>k});var t=a(71093),i=a(73843),o=a(66190),s=a(5627),l=a(83487),r=a(38223),d=a(29633),p=a(24987),u=a(24153),c=a(54848);const m={class:"editDiv"},v={key:0},f={class:"editButtonDiv"},x=["disabled"],A=(0,t.aZ)({__name:"editItem",props:{param:null},emits:["close"],setup(e,{emit:n}){const a=e.param,A=s.nC.resolve(c.B),I=s.nC.resolve(l.y),g=s.nC.resolve(d._),h=s.nC.resolve(p.i),C=s.nC.resolve(u.b),b=(0,i.iH)(!1),B=(0,i.iH)(!0),w=(0,i.iH)(!0),y=(0,i.iH)({name:{minAndMaxLength:{min:2,max:60},nonSpaceCharacter:!0,customRegex:{regex:/^([a-zA-Z0-9-_]+)$/,message:"Available characters: A-Z, a-z, 1-9, '-' and '_'"}},prefix:{availableCharacters:!1,nonSpaceCharacter:!0},description:{minAndMaxLength:{min:2,max:100},availableCharacters:!0,nonSpaceCharacter:!1}}),V=(0,i.iH)(a.name),D=(0,i.iH)("module"==a.type?a.description:""),U=(0,i.iH)("module"==a.type?a.prefix:"");function S(e){V.value=e}function M(e){b.value=e}function E(e){D.value=e}function k(e){B.value=e}function F(e){U.value=e}function N(e){w.value=e}const P=(0,i.Fl)((()=>!b.value||!B.value||!w.value));return(e,s)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",m,[(0,t.Wm)(r.Z,{isRequired:!0,elementId:"nameInput",onGetValue:S,onValidateStatus:M,placeholder:"",type:"text","info-text":"Name",validations:y.value.name,value:(0,i.SU)(a).name.split(".")[0]},null,8,["validations","value"]),"module"==(0,i.SU)(a).type?((0,t.wg)(),(0,t.iD)("div",v,[(0,t.Wm)(r.Z,{isRequired:!1,elementId:"urlPrefixInput",onGetValue:F,onValidateStatus:N,placeholder:"",type:"text","info-text":"Prefix",validations:y.value.prefix,value:(0,i.SU)(a).prefix,"info-hover":"For applications using webSDK, the 'moduleUrlPrefix/moduleName should be entered, \n                which is the expected page url routing in the shell application where the webSDK is integrated"},null,8,["validations","value"]),(0,t.Wm)(r.Z,{isRequired:!1,elementId:"descriptionInput",onGetValue:E,onValidateStatus:k,placeholder:"",type:"textarea","info-text":"Description",validations:y.value.description,value:(0,i.SU)(a).description},null,8,["validations","value"])])):(0,t.kq)("v-if",!0),(0,t.kq)(' <label> \n            Module Name\n            <input v-model="name" placeholder="Name" />  \n        </label>  ')]),(0,t._)("div",f,[(0,t._)("button",{style:(0,o.normalizeStyle)({opacity:(0,i.SU)(P)?"0.5":""}),class:"updateBtn",onClick:s[0]||(s[0]=e=>{I.execute((async()=>{switch(a.type){case"folder":const e=A.findObject(a.id);if("folder"!=(null==e?void 0:e.objectType))throw new Error("unexpected type for folder: "+(null==e?void 0:e.objectType));await h.updateFolder(e,{name:V.value});break;case"model":await C.updateModel(a.id,{name:"css"==a.modelType?V.value+".css":V.value},{showNotification:!0});break;case"module":await g.updateModule(a.id,!0,{name:V.value,description:D.value,prefix:U.value,applicationID:a.applicationID})}n("close")}),{loading:!0})}),disabled:(0,i.SU)(P)},"Update",12,x)])],64))}});var I=a(17450),g=a.n(I),h=a(29530),C=a.n(h),b=a(16199),B=a.n(b),w=a(40458),y=a.n(w),V=a(62916),D=a.n(V),U=a(92165),S=a.n(U),M=a(5721),E={};E.styleTagTransform=S(),E.setAttributes=y(),E.insert=B().bind(null,"head"),E.domAPI=C(),E.insertStyleElement=D(),g()(M.Z,E),M.Z&&M.Z.locals&&M.Z.locals;const k=(0,a(32525).Z)(A,[["__scopeId","data-v-02e6dd02"]])}}]);
//# sourceMappingURL=6316.js.map?ver=0.0.318_1716972287594