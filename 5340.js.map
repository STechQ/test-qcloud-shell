{"version":3,"file":"5340.js","mappings":"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","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/attachModuleToApp.vue?04fd","webpack://qcloud_shell/./src/domain/infrastructure/ILocalization.ts","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/attachModuleToApp.vue?71cd","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/attachModuleToApp.vue?5fcc","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/attachModuleToApp.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../node_modules/css-loader/dist/cjs.js!../../../../styles/IDE3.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.container[data-v-32b77fd6] {\\n    padding: 32px 20px 20px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/vue3/components/dialogs/attachModuleToApp.vue\"],\"names\":[],\"mappings\":\";AA6GA;IACI,uBAAuB;AAC3B\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { computed } from '@vue/reactivity';\\nimport { ref } from 'vue';\\nimport { container } from '../../../../domain/core/diContainer';\\nimport { ILocalization } from '../../../../domain/infrastructure/ILocalization';\\nimport { IModule } from '../../../../domain/model/models';\\nimport { IObjectUseCase } from '../../../../domain/useCase/IObjectUseCase';\\nimport { IStudio } from '../../../../domain/useCase/IStudio';\\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\\n\\ninterface IExtendedModuleItem extends IModule {\\n    relatedAppNames?: string;\\n}\\n\\nconst viewModel = container.resolve<IViewModel>(IViewModel);\\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\\nconst localization = container.resolve<ILocalization>(ILocalization);\\nconst objectUseCase = container.resolve<IObjectUseCase>(IObjectUseCase);\\nconst studio = container.resolve<IStudio>(IStudio);\\nconst emit = defineEmits([\\\"close\\\"]);\\n\\nconst tableData = ref<Array<IExtendedModuleItem>>([]);\\nconst tableColumns = ref([\\\"name\\\", \\\"description\\\", \\\"relatedAppNames\\\", \\\"createDate\\\", \\\"createdBy\\\", \\\"actions\\\"]);\\nconst tableOptions = ref({\\n    filterable: true,\\n    perPage: 5,\\n    perPageValues: [],\\n    headings: {\\n        name: localization.get(\\\"moduleName\\\"),\\n        description: localization.get(\\\"description\\\"),\\n        relatedAppNames: localization.get(\\\"relatedApplications\\\"),\\n        createDate: localization.get(\\\"createDate\\\"),\\n        createdBy: localization.get(\\\"createdBy\\\"),\\n        actions: \\\"\\\",\\n    },\\n    sortIcon: {\\n        base: 'mdi',\\n        is: 'mdi mdi-unfold-less-horizontal',\\n        up: 'mdi mdi-arrow-up',\\n        down: 'mdi mdi-arrow-down'\\n    },\\n    texts: {\\n        count: \\\"\\\",\\n    },\\n});\\nconst dateOptions: any = { month: '2-digit', day: '2-digit', year: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric' };\\n\\nfunction refreshTable(){\\n    executor.execute(async () => {\\n    const modules: Array<IExtendedModuleItem> = await objectUseCase.listModules();\\n    const appsDict: Record<string, string> = {};\\n    viewModel.apps.forEach(app => appsDict[app.ID] = app.name);\\n\\n    modules.forEach(module => {\\n        const appNamesArr = module.relatedApplications.map(i => appsDict[i.applicationID]);\\n        module.relatedAppNames = appNamesArr.join(\\\", \\\");\\n    });\\n\\n    tableData.value = modules;\\n}, { loading: true });\\n}\\n\\nrefreshTable()\\nfunction add(module: IModule) {\\n    executor.execute(async () => {\\n        const applicationID = viewModel.studio.appId;\\n        await studio.attachModuletoApplication(module, applicationID);\\n        const curModule = tableData.value.find(i => i.ID == module.ID);\\n        curModule!.relatedApplications.push({ applicationID });\\n        refreshTable()\\n    }, { loading: true });\\n}\\n\\nfunction remove(module: IModule) {\\n    executor.execute(async () => {\\n        const applicationID = viewModel.studio.appId;\\n        await studio.detachModuleFromApplication(module, applicationID);\\n        const curModule = tableData.value.find(i => i.ID == module.ID)!;\\n        curModule.relatedApplications = curModule.relatedApplications.filter(i => i.applicationID != applicationID);\\n        refreshTable()\\n    }, { loading: true });\\n}\\n\\nfunction isAddedtoCurrentApp(module: IModule) {\\n    const appID = viewModel.studio.appId;\\n    const isAdded = module.relatedApplications?.some(i => i.applicationID == appID);\\n    return !!isAdded;\\n}\\n\\n</script> \\n \\n<template>\\n    <div class=\\\"container\\\">\\n        <v-client-table ref=\\\"table\\\" :data=\\\"tableData\\\" :columns=\\\"tableColumns\\\" :options=\\\"tableOptions\\\">\\n            <template #createDate=\\\"props\\\">\\n                <span>{{ new Intl.DateTimeFormat(\\\"tr-TR\\\", dateOptions).format(new Date(props.row.createDate)) }}</span>\\n            </template>\\n            <template #relatedAppNames=\\\"props\\\">\\n                <span>{{props.row.relatedAppNames}}</span>\\n            </template>\\n            <template #actions=\\\"props\\\">\\n                <button v-if=\\\"isAddedtoCurrentApp(props.row)\\\" @click=\\\"remove(props.row)\\\">Remove</button>\\n                <button v-else @click=\\\"add(props.row)\\\">Add</button>\\n            </template>\\n        </v-client-table>\\n    </div>\\n</template> \\n<style scoped>\\n.container {\\n    padding: 32px 20px 20px;\\n}\\n    @import url(\\\"../../../../styles/IDE3.css\\\");\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export interface ILocalization {\n    get(lrid: string): string;\n}\n\nexport const ILocalization = Symbol.for(\"ILocalization\");\n\nexport type ILocalizationDefinition = Record<string, string>;","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-32b77fd6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = [\"onClick\"]\n\nimport { computed } from '@vue/reactivity';\nimport { ref } from 'vue';\nimport { container } from '../../../../domain/core/diContainer';\nimport { ILocalization } from '../../../../domain/infrastructure/ILocalization';\nimport { IModule } from '../../../../domain/model/models';\nimport { IObjectUseCase } from '../../../../domain/useCase/IObjectUseCase';\nimport { IStudio } from '../../../../domain/useCase/IStudio';\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\n\ninterface IExtendedModuleItem extends IModule {\n    relatedAppNames?: string;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'attachModuleToApp',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst localization = container.resolve<ILocalization>(ILocalization);\nconst objectUseCase = container.resolve<IObjectUseCase>(IObjectUseCase);\nconst studio = container.resolve<IStudio>(IStudio);\n\n\nconst tableData = ref<Array<IExtendedModuleItem>>([]);\nconst tableColumns = ref([\"name\", \"description\", \"relatedAppNames\", \"createDate\", \"createdBy\", \"actions\"]);\nconst tableOptions = ref({\n    filterable: true,\n    perPage: 5,\n    perPageValues: [],\n    headings: {\n        name: localization.get(\"moduleName\"),\n        description: localization.get(\"description\"),\n        relatedAppNames: localization.get(\"relatedApplications\"),\n        createDate: localization.get(\"createDate\"),\n        createdBy: localization.get(\"createdBy\"),\n        actions: \"\",\n    },\n    sortIcon: {\n        base: 'mdi',\n        is: 'mdi mdi-unfold-less-horizontal',\n        up: 'mdi mdi-arrow-up',\n        down: 'mdi mdi-arrow-down'\n    },\n    texts: {\n        count: \"\",\n    },\n});\nconst dateOptions: any = { month: '2-digit', day: '2-digit', year: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric' };\n\nfunction refreshTable(){\n    executor.execute(async () => {\n    const modules: Array<IExtendedModuleItem> = await objectUseCase.listModules();\n    const appsDict: Record<string, string> = {};\n    viewModel.apps.forEach(app => appsDict[app.ID] = app.name);\n\n    modules.forEach(module => {\n        const appNamesArr = module.relatedApplications.map(i => appsDict[i.applicationID]);\n        module.relatedAppNames = appNamesArr.join(\", \");\n    });\n\n    tableData.value = modules;\n}, { loading: true });\n}\n\nrefreshTable()\nfunction add(module: IModule) {\n    executor.execute(async () => {\n        const applicationID = viewModel.studio.appId;\n        await studio.attachModuletoApplication(module, applicationID);\n        const curModule = tableData.value.find(i => i.ID == module.ID);\n        curModule!.relatedApplications.push({ applicationID });\n        refreshTable()\n    }, { loading: true });\n}\n\nfunction remove(module: IModule) {\n    executor.execute(async () => {\n        const applicationID = viewModel.studio.appId;\n        await studio.detachModuleFromApplication(module, applicationID);\n        const curModule = tableData.value.find(i => i.ID == module.ID)!;\n        curModule.relatedApplications = curModule.relatedApplications.filter(i => i.applicationID != applicationID);\n        refreshTable()\n    }, { loading: true });\n}\n\nfunction isAddedtoCurrentApp(module: IModule) {\n    const appID = viewModel.studio.appId;\n    const isAdded = module.relatedApplications?.some(i => i.applicationID == appID);\n    return !!isAdded;\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_client_table = _resolveComponent(\"v-client-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_v_client_table, {\n      ref: \"table\",\n      data: tableData.value,\n      columns: tableColumns.value,\n      options: tableOptions.value\n    }, {\n      createDate: _withCtx((props) => [\n        _createElementVNode(\"span\", null, _toDisplayString(new Intl.DateTimeFormat(\"tr-TR\", dateOptions).format(new Date(props.row.createDate))), 1 /* TEXT */)\n      ]),\n      relatedAppNames: _withCtx((props) => [\n        _createElementVNode(\"span\", null, _toDisplayString(props.row.relatedAppNames), 1 /* TEXT */)\n      ]),\n      actions: _withCtx((props) => [\n        (isAddedtoCurrentApp(props.row))\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              onClick: ($event: any) => (remove(props.row))\n            }, \"Remove\", 8 /* PROPS */, _hoisted_2))\n          : (_openBlock(), _createElementBlock(\"button\", {\n              key: 1,\n              onClick: ($event: any) => (add(props.row))\n            }, \"Add\", 8 /* PROPS */, _hoisted_3))\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\", \"columns\", \"options\"])\n  ]))\n}\n}\n\n})","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./attachModuleToApp.vue?vue&type=style&index=0&id=32b77fd6&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./attachModuleToApp.vue?vue&type=style&index=0&id=32b77fd6&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import script from \"./attachModuleToApp.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./attachModuleToApp.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./attachModuleToApp.vue?vue&type=style&index=0&id=32b77fd6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/QCloud-Shell/QCloud-Shell/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-32b77fd6\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","i","push","module","id","ILocalization","Symbol","for","_hoisted_1","class","_hoisted_2","_hoisted_3","__name","emits","setup","__props","emit","viewModel","IViewModel","executor","IUseCaseExecutor","localization","objectUseCase","IObjectUseCase","studio","IStudio","tableData","tableColumns","tableOptions","filterable","perPage","perPageValues","headings","name","get","description","relatedAppNames","createDate","createdBy","actions","sortIcon","base","is","up","down","texts","count","dateOptions","month","day","year","hour","minute","second","refreshTable","execute","async","modules","listModules","appsDict","apps","forEach","app","ID","appNamesArr","relatedApplications","map","applicationID","join","value","loading","isAddedtoCurrentApp","appID","appId","some","_ctx","_cache","_component_v_client_table","ref","data","columns","options","props","_","Intl","DateTimeFormat","format","Date","row","key","onClick","$event","detachModuleFromApplication","curModule","find","filter","attachModuletoApplication","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}