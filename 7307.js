"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[7307,8613],{65198:(n,a,i)=>{i.d(a,{Z:()=>d});var o=i(8375),e=i.n(o),t=i(7638),l=i.n(t)()(e());l.push([n.id,"\n.organization-info-type[data-v-60ba8fd5] {\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    background: #FFFFFF;\n    margin-right: 37px;\n    padding: 24px 24px 18px;\n    display: flex;\n    flex-direction: column;\n}\n.organization-info-type[data-v-60ba8fd5]:last-child {\n    margin-right: 0;\n}\n.organization-info-type-name[data-v-60ba8fd5] {\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 23px;\n    color: #757575;\n    margin-bottom: 20px;\n    min-width: 100px;\n    flex: 1;\n}\n.organization-info[data-v-60ba8fd5] {\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 33px;\n    color: #151233;\n}\n.div-title[data-v-60ba8fd5] {\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 28px;\n    color: #151233;\n    margin-bottom: 20px;\n}\n.azure-info-table[data-v-60ba8fd5] {\n    background: #FFFFFF;\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    width: 100%;\n}\ntd[data-v-60ba8fd5]:hover {\n    background-color: none !important;\n}\n.azure-info-table tr[data-v-60ba8fd5]:hover {\n    background-color: #EEEEEE;\n}\n.azure-info-table th[data-v-60ba8fd5] {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 18px 36px\n}\n.azure-info-table td[data-v-60ba8fd5] {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 20px 36px;\n    color: #212121;\n    font-size: 14px;\n    line-height: 16px;\n}\n.azure-info-table .thead-azure[data-v-60ba8fd5] {\n    color: #616161;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.view-btn[data-v-60ba8fd5] {\n    background: none;\n    border: none;\n    color: #2C5A86;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.tags-div[data-v-60ba8fd5] {\n    background: #FFFFFF;\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    padding: 14px 24px;\n    display: flex;\n    align-items: center;\n}\n.tags-title[data-v-60ba8fd5] {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 19px;\n    color: #757575;\n    margin-right: 24px;\n}\n.tag-name[data-v-60ba8fd5] {\n    padding: 5.5px 8px;\n    background: #D0D1E9;\n    display: flex;\n    justify-content: center;\n    border-radius: 4px;\n    margin-right: 8px;\n    font-size: 14px;\n    color: #2F3160;\n    white-space: nowrap;\n    font-weight: 500;\n    cursor: pointer;\n}\n.manage-org-div[data-v-60ba8fd5] {\n    width: 77%;\n    display: flex;\n    justify-content: end;\n    position: absolute;\n    top: 80px;\n    right: 36px;\n}\n.manage-btn[data-v-60ba8fd5] {\n    border: 1px solid #151233;\n    border-radius: 4px;\n    padding: 1.5px 16px;\n    font-size: 15px;\n    color: #151233;\n    display: flex;\n    align-items: center;\n    font-weight: 500;\n}\n.delete-org-btn[data-v-60ba8fd5] {\n    background: #CBCBCB;\n    border-radius: 4px;\n    color: #212121;\n    border: none;\n    margin-left: 12px;\n    display: flex;\n    align-items: center;\n    padding: 1.5px 16px;\n    font-size: 15px;\n    font-weight: 500;\n}\n.view-btn[data-v-60ba8fd5] {\n    background: none;\n    border: none;\n    color: #2C5A86;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\ntd[data-v-60ba8fd5]:hover {\n    background-color: none !important;\n}",""]);const d=l},88613:(n,a,i)=>{i.d(a,{J:()=>o});const o=Symbol.for("IViewModel")},12987:(n,a,i)=>{i.r(a),i.d(a,{default:()=>Cn});var o=i(71093),e=i(66190),t=i(73843),l=i(5627),d=i(91056),r=i(1937),s=i(58817),u=i(91886),v=i(83487),g=i(88613),p=i(39308),c=i(48157);const f=n=>((0,o.dD)("data-v-60ba8fd5"),n=n(),(0,o.Cn)(),n),x={class:"manage-org-div"},b=[f((()=>(0,o._)("i",{class:"mdi mdi-cog",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),f((()=>(0,o._)("span",null,"MANAGE ORGANIZATION",-1)))],z=[f((()=>(0,o._)("i",{class:"mdi mdi-delete",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),f((()=>(0,o._)("span",null,"DELETE",-1)))],m={style:{display:"flex","margin-bottom":"32px"}},h={class:"organization-info-type"},y=f((()=>(0,o._)("div",{class:"organization-info-type-name"},"Name",-1))),_={class:"organization-info"},w={class:"organization-info-type"},D=f((()=>(0,o._)("div",{class:"organization-info-type-name"},"Users",-1))),k={class:"organization-info"},I={class:"organization-info-type"},E=f((()=>(0,o._)("div",{class:"organization-info-type-name"},"Apps",-1))),C={class:"organization-info"},O={class:"organization-info-type"},G=f((()=>(0,o._)("div",{class:"organization-info-type-name"},"UI Page Count",-1))),F={class:"organization-info"},S={class:"organization-info-type"},A=f((()=>(0,o._)("div",{class:"organization-info-type-name"},"UI Page Size",-1))),H={class:"organization-info"},N={class:"organization-info-type",style:{flex:"1"}},U=f((()=>(0,o._)("div",{class:"organization-info-type-name"},"Date Created",-1))),Z={class:"organization-info"},T={class:"organization-info-type",style:{flex:"1"}},q=f((()=>(0,o._)("div",{class:"organization-info-type-name"},"ID",-1))),B={class:"organization-info",style:{"font-size":"20px"}},P={class:"organization-info-type"},R=f((()=>(0,o._)("div",{class:"organization-info-type-name"},"Organization Group",-1))),M={class:"organization-info"},W={style:{"margin-bottom":"32px"}},$={class:"tags-div"},L=f((()=>(0,o._)("span",{class:"tags-title"},"Tags",-1))),V=["onClick"],j={style:{"margin-bottom":"32px"}},J={key:0},K={style:{"margin-bottom":"32px"}},X={key:0},Y={style:{"margin-bottom":"32px"}},Q=f((()=>(0,o._)("div",{class:"div-title"},"Azure",-1))),nn={class:"azure-info-table"},an=f((()=>(0,o._)("td",{class:"thead-azure col-xl-4"},"resourceGroupId",-1))),on={key:0,class:"col-xl-7"},en={key:1},tn={class:"col-xl-1"},ln=f((()=>(0,o._)("td",{class:"thead-azure"},"modelStorageID",-1))),dn={key:0},rn={key:1},sn=f((()=>(0,o._)("td",null,null,-1))),un=f((()=>(0,o._)("td",{class:"thead-azure"},"cost",-1))),vn=f((()=>(0,o._)("td",null,"-",-1))),gn=f((()=>(0,o._)("tr",null,[(0,o._)("td",{class:"thead-azure"},"costDate"),(0,o._)("td",null,"-"),(0,o._)("td")],-1))),pn=(0,o.aZ)({__name:"organization",setup(n){const a=l.nC.resolve(r.v5),f=l.nC.resolve(v.y),pn=l.nC.resolve(s.X),cn=l.nC.resolve(u.r),fn=l.nC.resolve(g.J),xn=a.getRouteParams();pn.setBreadcrumb(["Organizations","Organization Detail"]);const bn=(0,t.iH)(),zn=l.nC.resolve(d.u),mn=(0,t.iH)([]),hn=(0,t.iH)([]),yn=(0,t.iH)([]),_n=(0,t.iH)(),wn=(0,t.iH)([]),Dn=(0,t.iH)(!1),kn=(0,t.iH)(!1),In=(0,t.iH)("");async function En(){await f.execute((async()=>{bn.value=await pn.getOrganizationInfo(xn.organizationId)}),{loading:!0})}function Cn(){const n=xn.organizationId;f.execute((async()=>{mn.value=await pn.listOrganizationUsers(n),Dn.value=!0}),{loading:!0})}function On(){window.open(_n.value.overviewUrl,"_blank")}function Gn(){window.open(_n.value.costUrl,"_blank")}function Fn(){var n,a,i,o;f.execute((async()=>{await En()}),{loading:!0});const e={};wn.value=[],null===(a=null===(n=fn.backoffice)||void 0===n?void 0:n.tags)||void 0===a||a.forEach((n=>e[n.ID]=n.name)),null===(o=null===(i=bn.value)||void 0===i?void 0:i.tags)||void 0===o||o.forEach((n=>{var a;const i={id:n,name:e[n]};null===(a=wn.value)||void 0===a||a.push(i)}))}return(0,o.wF)((async()=>{await En(),await async function(){await f.execute((async()=>{await pn.listTags()}),{loading:!0})}(),Fn(),Cn(),function(){const n=xn.organizationId;f.execute((async()=>{var a,i;if(null===(a=bn.value)||void 0===a?void 0:a.organizationGroupId){const a=(await pn.getOrganizationGroupDetails({organizationGroupId:null===(i=bn.value)||void 0===i?void 0:i.organizationGroupId})).organizationGroup.mainOrganizationId;if(!a)throw new Error("Main organization id is required to get organization group details.");yn.value=(await pn.listAllOrgGroupApplications(a)).filter((a=>a.orgInfo.id==n))}else hn.value=await pn.listOrganizationApps(n);kn.value=!0}),{loading:!0})}(),f.execute((async()=>{var n,a,i;(null===(i=null===(a=null===(n=bn.value)||void 0===n?void 0:n.cloud)||void 0===a?void 0:a.azure)||void 0===i?void 0:i.resourceGroupID)?_n.value=await pn.getAzureResourceGroupUrls(bn.value.cloud.azure.resourceGroupID):console.log(`Organization '${bn.value.id} - ${bn.value.name}' has no "cloud.azure.resourceGroupID"!`)}),{loading:!0}),f.execute((async()=>{if(bn.value.organizationGroupId){const n=await pn.getOrgGroupNameByOrgID(bn.value.id);In.value=n||"No Organization Group"}else In.value="No Organization Group"}),{loading:!0})})),(n,l)=>{var d,r,s,u,v,g,fn,xn,En,Sn,An,Hn,Nn,Un,Zn,Tn,qn,Bn,Pn,Rn,Mn,Wn,$n,Ln;return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",x,[(0,o._)("button",{class:"manage-btn",onClick:l[0]||(l[0]=n=>{zn.showDialog((0,o.RC)((()=>i.e(4519).then(i.bind(i,94519)))),{closable:!0,title:"Manage Organization",width:"592px",maxHeight:"650px",closeCb:n=>{"component"==n&&Fn()}},{organization:bn.value})})},b),(0,o._)("button",{class:"delete-org-btn",onClick:l[1]||(l[1]=n=>function(){var n,e;zn.showDialog((0,o.RC)((()=>i.e(4828).then(i.bind(i,84828)))),{closable:!0,title:"Delete Organization",width:"577px",maxHeight:"206px"},{infoText:"Organization Name",placeholder:`Write organization name '${null===(n=bn.value)||void 0===n?void 0:n.name}' to delete`,validText:null===(e=bn.value)||void 0===e?void 0:e.name,deleteCb:async()=>{await f.execute((async()=>{var n,i;await pn.deleteOrganization(null===(n=bn.value)||void 0===n?void 0:n.id,null===(i=bn.value)||void 0===i?void 0:i.name),a.push("/backoffice/organizations")}),{loading:!0})}})}())},z)]),(0,o._)("div",m,[(0,o._)("div",h,[y,(0,o._)("div",_,(0,e.toDisplayString)(null===(d=bn.value)||void 0===d?void 0:d.name),1)]),(0,o._)("div",w,[D,(0,o._)("div",k,(0,e.toDisplayString)(mn.value.length),1)]),(0,o._)("div",I,[E,(0,o._)("div",C,(0,e.toDisplayString)(null===(s=null===(r=bn.value)||void 0===r?void 0:r.calculatedInfo)||void 0===s?void 0:s.appCount),1)]),(0,o._)("div",O,[G,(0,o._)("div",F,(0,e.toDisplayString)(null===(v=null===(u=bn.value)||void 0===u?void 0:u.calculatedInfo)||void 0===v?void 0:v.uiPageCount),1)]),(0,o._)("div",S,[A,(0,o._)("div",H,(0,e.toDisplayString)((null===(fn=null===(g=bn.value)||void 0===g?void 0:g.calculatedInfo)||void 0===fn?void 0:fn.uiPageSize)?Math.ceil(bn.value.calculatedInfo.uiPageSize/1024)+"KB":""),1)]),(0,o._)("div",N,[U,(0,o._)("div",Z,(0,e.toDisplayString)((0,t.SU)(cn).formatDate(null===(xn=bn.value)||void 0===xn?void 0:xn.createDate)),1)]),(0,o._)("div",T,[q,(0,o._)("div",B,(0,e.toDisplayString)(null===(En=bn.value)||void 0===En?void 0:En.id),1)]),(0,o.kq)(' <div class="organization-info-type">\n            <div class="organization-info-type-name">DB Name</div>\n            <div class="organization-info">{{ organization?.dbName }}</div> '),(0,o._)("div",P,[R,(0,o._)("div",M,(0,e.toDisplayString)(In.value),1)])]),(0,o._)("div",W,[(0,o._)("div",$,[L,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(wn.value,(n=>((0,o.wg)(),(0,o.iD)("span",{key:n.id,class:"tag-name",onClick:i=>{return o=n.id,void a.push(`/backoffice/tag/${o}`);var o}},(0,e.toDisplayString)(n.name),9,V)))),128))])]),(0,o._)("div",j,[Dn.value?((0,o.wg)(),(0,o.iD)("div",J,[(0,o.Wm)(c.Z,{users:mn.value,onRefreshTable:Cn},null,8,["users"])])):(0,o.kq)("v-if",!0)]),(0,o._)("div",K,[kn.value?((0,o.wg)(),(0,o.iD)("div",X,[(0,o.Wm)(p.Z,{allAppsOfOrgGroup:yn.value,appList:hn.value,orgId:null===(Sn=bn.value)||void 0===Sn?void 0:Sn.id},null,8,["allAppsOfOrgGroup","appList","orgId"])])):(0,o.kq)("v-if",!0)]),(0,o._)("div",Y,[Q,(0,o._)("div",null,[(0,o._)("table",nn,[(0,o._)("tr",null,[an,(null===(Nn=null===(Hn=null===(An=bn.value)||void 0===An?void 0:An.cloud)||void 0===Hn?void 0:Hn.azure)||void 0===Nn?void 0:Nn.resourceGroupID)?((0,o.wg)(),(0,o.iD)("td",on,(0,e.toDisplayString)(null===(Tn=null===(Zn=null===(Un=bn.value)||void 0===Un?void 0:Un.cloud)||void 0===Zn?void 0:Zn.azure)||void 0===Tn?void 0:Tn.resourceGroupID),1)):((0,o.wg)(),(0,o.iD)("td",en,"-")),(0,o._)("td",tn,[(0,o._)("div",null,[(null===(qn=_n.value)||void 0===qn?void 0:qn.overviewUrl)?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"view-btn",onClick:On},"VIEW")):(0,o.kq)("v-if",!0)])])]),(0,o._)("tr",null,[ln,(null===(Rn=null===(Pn=null===(Bn=bn.value)||void 0===Bn?void 0:Bn.cloud)||void 0===Pn?void 0:Pn.azure)||void 0===Rn?void 0:Rn.modelStorageID)?((0,o.wg)(),(0,o.iD)("td",dn,(0,e.toDisplayString)(null===($n=null===(Wn=null===(Mn=bn.value)||void 0===Mn?void 0:Mn.cloud)||void 0===Wn?void 0:Wn.azure)||void 0===$n?void 0:$n.modelStorageID),1)):((0,o.wg)(),(0,o.iD)("td",rn,"-")),sn]),(0,o._)("tr",null,[un,vn,(0,o._)("td",null,[(0,o._)("div",null,[(null===(Ln=_n.value)||void 0===Ln?void 0:Ln.costUrl)?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"view-btn",onClick:Gn},"VIEW")):(0,o.kq)("v-if",!0)])])]),gn])])])])}}});var cn=i(17450),fn=i.n(cn),xn=i(29530),bn=i.n(xn),zn=i(16199),mn=i.n(zn),hn=i(40458),yn=i.n(hn),_n=i(62916),wn=i.n(_n),Dn=i(92165),kn=i.n(Dn),In=i(65198),En={};En.styleTagTransform=kn(),En.setAttributes=yn(),En.insert=mn().bind(null,"head"),En.domAPI=bn(),En.insertStyleElement=wn(),fn()(In.Z,En),In.Z&&In.Z.locals&&In.Z.locals;const Cn=(0,i(32525).Z)(pn,[["__scopeId","data-v-60ba8fd5"]])}}]);