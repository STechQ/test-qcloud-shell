{"version":3,"file":"src_presentation_vue3_components_dialogs_attachModuleToApp_vue.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAyD;AAE/B;AACsC;AACgB;AAEL;AACd;AACkB;AACV;AAIrE,8EAA4B,oDAAgB,CAAC;IAC3C,MAAM,EAAE,mBAAmB;IAC3B,KAAK,EAAE,CAAC,OAAO,CAAC;IAChB,KAAK,CAAC,OAAO,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;QAC/B,MAAM,EAAE,CAAC;QAEX,MAAM,SAAS,GAAG,uEAAiB,CAAa,oEAAU,CAAC,CAAC;QAC5D,MAAM,QAAQ,GAAG,uEAAiB,CAAmB,8EAAgB,CAAC,CAAC;QACvE,MAAM,YAAY,GAAG,uEAAiB,CAAgB,+EAAa,CAAC,CAAC;QACrE,MAAM,aAAa,GAAG,uEAAiB,CAAiB,0EAAc,CAAC,CAAC;QACxE,MAAM,MAAM,GAAG,uEAAiB,CAAU,4DAAO,CAAC,CAAC;QAGnD,MAAM,SAAS,GAAG,wCAAG,CAAiB,EAAE,CAAC,CAAC;QAC1C,MAAM,YAAY,GAAG,wCAAG,CAAC,CAAC,MAAM,EAAE,aAAa,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,CAAC,CAAC,CAAC;QACxF,MAAM,YAAY,GAAG,wCAAG,CAAC;YACrB,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,CAAC;YACV,aAAa,EAAE,EAAE;YACjB,QAAQ,EAAE;gBACN,IAAI,EAAE,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC;gBACpC,WAAW,EAAE,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC;gBAC5C,UAAU,EAAE,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC;gBAC1C,SAAS,EAAE,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC;gBACxC,OAAO,EAAE,EAAE;aACd;YACD,QAAQ,EAAE,EAAE;YACZ,KAAK,EAAE;gBACH,KAAK,EAAE,EAAE;aACZ;SACJ,CAAC,CAAC;QAEH,QAAQ,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE;YACxB,SAAS,CAAC,KAAK,GAAG,MAAM,aAAa,CAAC,WAAW,EAAE,CAAC;QACxD,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAGtB,SAAS,GAAG,CAAC,MAAe;YACxB,QAAQ,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE;gBACxB,MAAM,aAAa,GAAG,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC;gBAC7C,MAAM,MAAM,CAAC,yBAAyB,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;gBAC9D,MAAM,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,CAAC,CAAC;gBAC/D,SAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,aAAa,EAAE,CAAC,CAAC;YAC3D,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAC1B,CAAC;QAED,SAAS,MAAM,CAAC,MAAe;YAC3B,QAAQ,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE;gBACxB,MAAM,aAAa,GAAG,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC;gBAC7C,MAAM,MAAM,CAAC,2BAA2B,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;gBAChE,MAAM,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,CAAE,CAAC;gBAChE,SAAS,CAAC,mBAAmB,GAAG,SAAS,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,aAAa,CAAC,CAAC;YAChH,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAC1B,CAAC;QAED,SAAS,mBAAmB,CAAC,MAAe;;YACxC,MAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC;YACrC,MAAM,OAAO,GAAG,YAAM,CAAC,mBAAmB,0CAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,KAAK,CAAC,CAAC;YAChF,OAAO,CAAC,CAAC,OAAO,CAAC;QACrB,CAAC;QAGD,MAAM,YAAY,GAAG,EAAE,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,aAAa,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,EAAE,MAAM,EAAE,mBAAmB,EAAE;QAChK,MAAM,CAAC,cAAc,CAAC,YAAY,EAAE,iBAAiB,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QAC1F,OAAO,YAAY;IACnB,CAAC;CAEA,CAAC;;;;;;;;;;;;;;;;AChF0N;AAE5N,MAAM,UAAU,GAAG,CAAC,SAAS,CAAC;AAC9B,MAAM,UAAU,GAAG,CAAC,SAAS,CAAC;AAEvB,SAAS,MAAM,CAAC,IAAS,EAAC,MAAW,EAAC,MAAW,EAAC,MAAW,EAAC,KAAU,EAAC,QAAa;IAC3F,MAAM,yBAAyB,GAAG,qDAAiB,CAAC,gBAAgB,CAAE;IAEtE,OAAO,CAAC,8CAAU,EAAE,EAAE,uDAAmB,CAAC,KAAK,EAAE,IAAI,EAAE;QACrD,gDAAY,CAAC,yBAAyB,EAAE;YACtC,GAAG,EAAE,OAAO;YACZ,IAAI,EAAE,MAAM,CAAC,SAAS;YACtB,OAAO,EAAE,MAAM,CAAC,YAAY;YAC5B,OAAO,EAAE,MAAM,CAAC,YAAY;SAC7B,EAAE;YACD,OAAO,EAAE,4CAAQ,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC;gBAC3B,CAAC,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACrC,CAAC,CAAC,CAAC,8CAAU,EAAE,EAAE,uDAAmB,CAAC,QAAQ,EAAE;wBAC3C,GAAG,EAAE,CAAC;wBACN,OAAO,EAAE,CAAC,MAAW,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBACrD,EAAE,QAAQ,EAAE,CAAC,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;oBAC1C,CAAC,CAAC,CAAC,8CAAU,EAAE,EAAE,uDAAmB,CAAC,QAAQ,EAAE;wBAC3C,GAAG,EAAE,CAAC;wBACN,OAAO,EAAE,CAAC,MAAW,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBAClD,EAAE,KAAK,EAAE,CAAC,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;aAC1C,CAAC;YACF,CAAC,EAAE,CAAC,CAAC,YAAY;SAClB,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;KAClD,CAAC,CAAC;AACL,CAAC;;;;;;;;;;;;;;;;;;AC7BqF;AACP;AACL;;AAE1E,CAAsH;AACtH,iCAAiC,oIAAe,CAAC,iGAAM,aAAa,gGAAM;AAC1E;AACA,IAAI,KAAU,EAAE,EAYf;;;AAGD,iEAAe;;;;;;;;;;;;;;;ACtByN","sources":["webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/attachModuleToApp.vue?71cd","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/attachModuleToApp.vue?2935","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/attachModuleToApp.vue","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/attachModuleToApp.vue?2e6b","webpack://qcloud_shell/./src/presentation/vue3/components/dialogs/attachModuleToApp.vue?9ff4"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { computed } from '@vue/reactivity';\nimport { ref } from 'vue';\nimport { container } from '../../../../domain/core/diContainer';\nimport { ILocalization } from '../../../../domain/infrastructure/ILocalization';\nimport { IModule } from '../../../../domain/model/models';\nimport { IObjectUseCase } from '../../../../domain/useCase/IObjectUseCase';\nimport { IStudio } from '../../../../domain/useCase/IStudio';\nimport { IUseCaseExecutor } from '../../../../domain/useCase/IUseCaseExecutor';\nimport { IViewModel } from '../../../../domain/viewModel/IViewModel';\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'attachModuleToApp',\n  emits: [\"close\"],\n  setup(__props, { expose, emit }) {\n  expose();\n\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst localization = container.resolve<ILocalization>(ILocalization);\nconst objectUseCase = container.resolve<IObjectUseCase>(IObjectUseCase);\nconst studio = container.resolve<IStudio>(IStudio);\n\n\nconst tableData = ref<Array<IModule>>([]);\nconst tableColumns = ref([\"name\", \"description\", \"createDate\", \"createdBy\", \"actions\"]);\nconst tableOptions = ref({\n    filterable: false,\n    perPage: 5,\n    perPageValues: [],\n    headings: {\n        name: localization.get(\"moduleName\"),\n        description: localization.get(\"description\"),\n        createDate: localization.get(\"createDate\"),\n        createdBy: localization.get(\"createdBy\"),\n        actions: \"\",\n    },\n    sortable: [],\n    texts: {\n        count: \"\",\n    },\n});\n\nexecutor.execute(async () => {\n    tableData.value = await objectUseCase.listModules();\n}, { loading: true });\n\n\nfunction add(module: IModule) {\n    executor.execute(async () => {\n        const applicationID = viewModel.studio.appId;\n        await studio.attachModuletoApplication(module, applicationID);\n        const curModule = tableData.value.find(i => i.ID == module.ID);\n        curModule!.relatedApplications.push({ applicationID });\n    }, { loading: true });\n}\n\nfunction remove(module: IModule) {\n    executor.execute(async () => {\n        const applicationID = viewModel.studio.appId;\n        await studio.detachModuleFromApplication(module, applicationID);\n        const curModule = tableData.value.find(i => i.ID == module.ID)!;\n        curModule.relatedApplications = curModule.relatedApplications.filter(i => i.applicationID != applicationID);\n    }, { loading: true });\n}\n\nfunction isAddedtoCurrentApp(module: IModule) {\n    const appID = viewModel.studio.appId;\n    const isAdded = module.relatedApplications?.some(i => i.applicationID == appID);\n    return !!isAdded;\n}\n\n\nconst __returned__ = { viewModel, executor, localization, objectUseCase, studio, emit, tableData, tableColumns, tableOptions, add, remove, isAddedtoCurrentApp }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = [\"onClick\"]\nconst _hoisted_2 = [\"onClick\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_client_table = _resolveComponent(\"v-client-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(_component_v_client_table, {\n      ref: \"table\",\n      data: $setup.tableData,\n      columns: $setup.tableColumns,\n      options: $setup.tableOptions\n    }, {\n      actions: _withCtx((props) => [\n        ($setup.isAddedtoCurrentApp(props.row))\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              onClick: ($event: any) => ($setup.remove(props.row))\n            }, \"Remove\", 8 /* PROPS */, _hoisted_1))\n          : (_openBlock(), _createElementBlock(\"button\", {\n              key: 1,\n              onClick: ($event: any) => ($setup.add(props.row))\n            }, \"Add\", 8 /* PROPS */, _hoisted_2))\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\", \"columns\", \"options\"])\n  ]))\n}","import { render } from \"./attachModuleToApp.vue?vue&type=template&id=060dd9be&ts=true\"\nimport script from \"./attachModuleToApp.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./attachModuleToApp.vue?vue&type=script&setup=true&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/QCloud-Shell/QCloud-Shell/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"src/presentation/vue3/components/dialogs/attachModuleToApp.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"060dd9be\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('060dd9be', __exports__)) {\n    api.reload('060dd9be', __exports__)\n  }\n  \n  module.hot.accept(\"./attachModuleToApp.vue?vue&type=template&id=060dd9be&ts=true\", () => {\n    api.rerender('060dd9be', render)\n  })\n\n}\n\n\nexport default __exports__","export { default } from \"-!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-2!../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./attachModuleToApp.vue?vue&type=script&setup=true&lang=ts\"; export * from \"-!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-2!../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./attachModuleToApp.vue?vue&type=script&setup=true&lang=ts\"","export * from \"-!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-2!../../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./attachModuleToApp.vue?vue&type=template&id=060dd9be&ts=true\""],"names":[],"sourceRoot":""}