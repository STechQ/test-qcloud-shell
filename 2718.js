"use strict";(self.webpackChunkqcloud_shell=self.webpackChunkqcloud_shell||[]).push([[2718,592],{51622:(n,e,t)=>{t.d(e,{Z:()=>l});var i=t(51864),o=t.n(i),a=t(60352),s=t.n(a)()(o());s.push([n.id,"\n.margin[data-v-921f341a] {\n    margin-left: 30px;\n}\n.select[data-v-921f341a]:invalid {\n    color: gray;\n}\n.option[data-v-921f341a] {\n    color: black;\n}\n.checkinInputs[data-v-921f341a] {\n    border: 1px solid #A1A1A1;\n    border-radius: 4px;\n    opacity: 1;\n    background: #FFFFFF 0% 0% no-repeat padding-box;\n}\n.checkinTextarea[data-v-921f341a] {\n    border: 1px solid #A1A1A1;\n    border-radius: 4px;\n    opacity: 1;\n    background: #FFFFFF 0% 0% no-repeat padding-box;\n    height: 120px;\n    resize: none;\n}\n.checkinBtnText[data-v-921f341a] {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    font-family: 'Roboto';\n    letter-spacing: 0.02px;\n    opacity: 1;\n}\n.checkinBtn[data-v-921f341a] {\n    background-color: #151233;\n    width: 104px;\n    height: 32px;\n    color: white;\n    border-radius: 4px;\n    opacity: 1;\n    margin-top: 22px;\n}\n.buttonGroupDiv[data-v-921f341a] {\n    display: flex;\n    margin-left: 34px;\n    margin-right: 32px;\n    margin-top: 32px;\n    margin-bottom: 14px;\n    height: 59px;\n    border-top: 1px solid #37373733;\n}\n.dialogContentDivs[data-v-921f341a] {\n    display: grid;\n    margin-left: 34px;\n    margin-right: 32px;\n    margin-top: 22px;\n}\n.checkinLabels[data-v-921f341a] {\n    font-style: normal;\n    color: #151233;\n    font-weight: 500;\n    font-size: 14px;\n    letter-spacing: 0;\n    opacity: 1;\n    font-family: 'Roboto';\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/dialogs/studio/savePlus.vue"],names:[],mappings:";AAsGA;IACI,iBAAiB;AACrB;AAEA;IACI,WAAW;AACf;AAEA;IACI,YAAY;AAChB;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,UAAU;IACV,+CAA+C;AACnD;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,UAAU;IACV,+CAA+C;IAC/C,aAAa;IACb,YAAY;AAChB;AAEA;IACI,kBAAkB;IAClB,gBAAgB;IAChB,eAAe;IACf,qBAAqB;IACrB,sBAAsB;IACtB,UAAU;AACd;AAEA;IACI,yBAAyB;IACzB,YAAY;IACZ,YAAY;IACZ,YAAY;IACZ,kBAAkB;IAClB,UAAU;IACV,gBAAgB;AAEpB;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,gBAAgB;IAChB,mBAAmB;IACnB,YAAY;IACZ,+BAA+B;AACnC;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,gBAAgB;AACpB;AAEA;IACI,kBAAkB;IAClB,cAAc;IACd,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,UAAU;IACV,qBAAqB;AACzB",sourcesContent:['<script setup lang="ts">\nimport { computed } from \'@vue/reactivity\';\nimport { ref } from \'vue\';\nimport { container } from \'../../../../../domain/core/diContainer\';\nimport { IConfig } from \'../../../../../domain/infrastructure/IConfig\';\nimport { IModel } from \'../../../../../domain/model/models\';\nimport { IIDEInputDefinitions } from \'../../../../../domain/presentation/IIDEInputDefinitions\';\nimport { IStudio } from \'../../../../../domain/useCase/IStudio\';\nimport { IUseCaseExecutor } from \'../../../../../domain/useCase/IUseCaseExecutor\';\nimport { IViewModel } from \'../../../../../domain/viewModel/IViewModel\';\nimport IDEInput from "../../../components/application/IDEInput.vue";\nconst viewModel = container.resolve<IViewModel>(IViewModel);\nconst executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\nconst studio = container.resolve<IStudio>(IStudio);\nconst config = container.resolve<IConfig>(IConfig);\n\ninterface ISavePlus {\n    item: IModel;\n}\n\nconst props = defineProps<ISavePlus>();\n\nconst isNameValid = ref<boolean>(false);\nconst isDescriptionValid = ref<boolean>(true);\nconst validations = ref<Record<"name" | "description", IIDEInputDefinitions["validations"]>>({\n    name: { minAndMaxLength: { min: 3, max: 40 }},\n    description: { minAndMaxLength: { min: 3, max: 500 } },\n});\n\nconst checkin = ref(true);\nconst buttonName = computed(() => checkin.value ? "CHECK IN" : "SAVE");\nconst version = ref<"major" | "minor" | "">("");\nconst comment = ref({ short: "", long: \'\', hasLong: false });\nconst emit = defineEmits(["close"]);\nconst buttonDisabled = computed(() => !isNameValid.value || !isDescriptionValid.value || version.value ==\'\');\n\nconst commentMaxLength = config.getValue("studio").commentMaxLength;\n\n\nfunction save() {\n    executor.execute(async () => {\n        if (checkin.value) {\n            await studio.checkin(props.item, { shortComment: comment.value.short, version: version.value, longComment: comment.value.long });\n        } else {\n            await studio.save(props.item);\n        }\n        emit("close");\n    }, { loading: true });\n}\n\nfunction setNameValue(value: string) {\n    comment.value.short = value\n}\nfunction setNameValidationStatus(isValid: boolean) {\n    isNameValid.value = isValid\n}\n\nfunction setDescriptionValue(value: string) {\n\n    comment.value.long = value\n}\n\nfunction setDescriptionValidationStatus(isValid: boolean) {\n    isDescriptionValid.value = isValid\n}\n\n<\/script>\n<template>\n    <div>\n\n        <template v-if="checkin">\n            <div class="dialogContentDivs">\n                <IDEInput :isRequired="true" @getValue="setNameValue" @validateStatus="setNameValidationStatus"\n                    :placeholder="\'Summarise your new version.\'" :type="\'text\'" info-text="Summary"\n                    :validations="validations.name" />\n            </div>\n\n            <div class="dialogContentDivs">\n                <IDEInput :isRequired="false" @getValue="setDescriptionValue"\n                    @validateStatus="setDescriptionValidationStatus" :placeholder="\'Describe your new version.\'"\n                    :type="\'textarea\'" info-text="Description" :validations="validations.description" />\n            </div>\n\n            <div class="dialogContentDivs">\n                <span class=\'checkinLabels\'>Version</span>\n                <select :style="{border: version?\'\':\'1px solid red\'}" required class=\'checkinInputs\' name="versions" id="versiontype" v-model="version">\n                    <option value="" disabled hidden>Select Version</option>\n                    <option value="minor">Minor</option>\n                    <option value="major">Major</option>\n                </select>\n            </div>\n\n        </template>\n        <div class=\'buttonGroupDiv\'>\n            <div class="col-12" style="text-align: end;">\n                <button :style="{ opacity: buttonDisabled ? \'0.5\' : \'\' }" :disabled="buttonDisabled" class=\'checkinBtn\' @click="save()"><span class=\'checkinBtnText\'>{{ buttonName }}</span></button>\n            </div>\n\n        </div>\n    </div>\n</template>\n<style scoped>\n.margin {\n    margin-left: 30px;\n}\n\n.select:invalid {\n    color: gray;\n}\n\n.option {\n    color: black;\n}\n\n.checkinInputs {\n    border: 1px solid #A1A1A1;\n    border-radius: 4px;\n    opacity: 1;\n    background: #FFFFFF 0% 0% no-repeat padding-box;\n}\n\n.checkinTextarea {\n    border: 1px solid #A1A1A1;\n    border-radius: 4px;\n    opacity: 1;\n    background: #FFFFFF 0% 0% no-repeat padding-box;\n    height: 120px;\n    resize: none;\n}\n\n.checkinBtnText {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    font-family: \'Roboto\';\n    letter-spacing: 0.02px;\n    opacity: 1;\n}\n\n.checkinBtn {\n    background-color: #151233;\n    width: 104px;\n    height: 32px;\n    color: white;\n    border-radius: 4px;\n    opacity: 1;\n    margin-top: 22px;\n\n}\n\n.buttonGroupDiv {\n    display: flex;\n    margin-left: 34px;\n    margin-right: 32px;\n    margin-top: 32px;\n    margin-bottom: 14px;\n    height: 59px;\n    border-top: 1px solid #37373733;\n}\n\n.dialogContentDivs {\n    display: grid;\n    margin-left: 34px;\n    margin-right: 32px;\n    margin-top: 22px;\n}\n\n.checkinLabels {\n    font-style: normal;\n    color: #151233;\n    font-weight: 500;\n    font-size: 14px;\n    letter-spacing: 0;\n    opacity: 1;\n    font-family: \'Roboto\';\n}\n</style>'],sourceRoot:""}]);const l=s},12718:(n,e,t)=>{t.r(e),t.d(e,{default:()=>Z});var i=t(62068),o=t(49045),a=t(51705),s=t(81407),l=t(3734),r=t(43536),c=t(33900),d=t(80664),A=t(67422),p=t(15239);const u=n=>((0,i.dD)("data-v-921f341a"),n=n(),(0,i.Cn)(),n),m={class:"dialogContentDivs"},v={class:"dialogContentDivs"},g={class:"dialogContentDivs"},I=u((()=>(0,i._)("span",{class:"checkinLabels"},"Version",-1))),f=[u((()=>(0,i._)("option",{value:"",disabled:"",hidden:""},"Select Version",-1))),u((()=>(0,i._)("option",{value:"minor"},"Minor",-1))),u((()=>(0,i._)("option",{value:"major"},"Major",-1)))],C={class:"buttonGroupDiv"},x={class:"col-12",style:{"text-align":"end"}},h=["disabled"],B={class:"checkinBtnText"},b=(0,i.aZ)({__name:"savePlus",props:{item:null},emits:["close"],setup(n,{emit:e}){const t=n,u=(l.nC.resolve(A.J),l.nC.resolve(d.y)),b=l.nC.resolve(c.c),y=l.nC.resolve(r.E),k=(0,s.iH)(!1),D=(0,s.iH)(!0),V=(0,s.iH)({name:{minAndMaxLength:{min:3,max:40}},description:{minAndMaxLength:{min:3,max:500}}}),S=(0,s.iH)(!0),w=(0,s.Fl)((()=>S.value?"CHECK IN":"SAVE")),E=(0,s.iH)(""),F=(0,s.iH)({short:"",long:"",hasLong:!1}),M=(0,s.Fl)((()=>!k.value||!D.value||""==E.value));function U(n){F.value.short=n}function _(n){k.value=n}function q(n){F.value.long=n}function L(n){D.value=n}return y.getValue("studio").commentMaxLength,(n,l)=>((0,i.wg)(),(0,i.iD)("div",null,[S.value?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",m,[(0,i.Wm)(p.Z,{isRequired:!0,onGetValue:U,onValidateStatus:_,placeholder:"Summarise your new version.",type:"text","info-text":"Summary",validations:V.value.name},null,8,["placeholder","validations"])]),(0,i._)("div",v,[(0,i.Wm)(p.Z,{isRequired:!1,onGetValue:q,onValidateStatus:L,placeholder:"Describe your new version.",type:"textarea","info-text":"Description",validations:V.value.description},null,8,["placeholder","validations"])]),(0,i._)("div",g,[I,(0,i.wy)((0,i._)("select",{style:(0,o.normalizeStyle)({border:E.value?"":"1px solid red"}),required:"",class:"checkinInputs",name:"versions",id:"versiontype","onUpdate:modelValue":l[0]||(l[0]=n=>E.value=n)},f,4),[[a.vModelSelect,E.value]])])],64)):(0,i.kq)("v-if",!0),(0,i._)("div",C,[(0,i._)("div",x,[(0,i._)("button",{style:(0,o.normalizeStyle)({opacity:(0,s.SU)(M)?"0.5":""}),disabled:(0,s.SU)(M),class:"checkinBtn",onClick:l[1]||(l[1]=n=>{u.execute((async()=>{S.value?await b.checkin(t.item,{shortComment:F.value.short,version:E.value,longComment:F.value.long}):await b.save(t.item),e("close")}),{loading:!0})})},[(0,i._)("span",B,(0,o.toDisplayString)((0,s.SU)(w)),1)],12,h)])])]))}});var y=t(75701),k=t.n(y),D=t(8236),V=t.n(D),S=t(6080),w=t.n(S),E=t(56850),F=t.n(E),M=t(87182),U=t.n(M),_=t(39213),q=t.n(_),L=t(51622),Y={};Y.styleTagTransform=q(),Y.setAttributes=F(),Y.insert=w().bind(null,"head"),Y.domAPI=V(),Y.insertStyleElement=U(),k()(L.Z,Y),L.Z&&L.Z.locals&&L.Z.locals;const Z=(0,t(51419).Z)(b,[["__scopeId","data-v-921f341a"]])}}]);
//# sourceMappingURL=2718.js.map