"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[9567],{41357:(n,e,t)=>{t.d(e,{Z:()=>c});var o=t(34663),s=t.n(o),i=t(7638),a=t.n(i),r=t(79240),l=a()(s());l.i(r.Z),l.push([n.id,"\n.add-new-version[data-v-9fa4e722] {\n        border-radius: 4px;\n        border: 1px solid #151233;\n        color: #151233;\n        font-weight: 500;\n        font-size: 14px;\n        background-color: transparent;\n        position: absolute;\n        right: 40px;\n        width: 94px;\n        height: 32px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n}\n.action-icon[data-v-9fa4e722] {\n        font-size: 16px;\n        color: #757575;\n        cursor: pointer;\n}\n.title[data-v-9fa4e722] {\n        font-style: normal;\n        font-weight: 500;\n        font-size: 20px;\n        line-height: 23px;\n        white-space: nowrap;\n        color: #151233;\n        margin-top: 40px;\n        margin-bottom: 8px;\n}\n.page-desc[data-v-9fa4e722] {\n        font-size: 16px;\n        color: #616161;\n}\n.buttons-div[data-v-9fa4e722] {\n        display: flex;\n        justify-content: end;\n        position: sticky;\n        bottom: 0;\n        background: #FFFFFF;\n        padding: 40px 0 20px;\n}\n.cancel-button[data-v-9fa4e722] {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #757575;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        margin-right: 4px;\n        border: none;\n        background: transparent;\n}\n.save-button[data-v-9fa4e722] {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #FFFFFF;\n        background: #151233;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        border: none;\n}\n","",{version:3,sources:["webpack://./src/presentation/vue3/components/application/appVersions.vue"],names:[],mappings:";AAgII;QACI,kBAAkB;QAClB,yBAAyB;QACzB,cAAc;QACd,gBAAgB;QAChB,eAAe;QACf,6BAA6B;QAC7B,kBAAkB;QAClB,WAAW;QACX,WAAW;QACX,YAAY;QACZ,aAAa;QACb,uBAAuB;QACvB,mBAAmB;AACvB;AACA;QACI,eAAe;QACf,cAAc;QACd,eAAe;AAEnB;AACA;QACI,kBAAkB;QAClB,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,mBAAmB;QACnB,cAAc;QACd,gBAAgB;QAChB,kBAAkB;AACtB;AACA;QACI,eAAe;QACf,cAAc;AAClB;AACA;QACI,aAAa;QACb,oBAAoB;QACpB,gBAAgB;QAChB,SAAS;QACT,mBAAmB;QACnB,oBAAoB;AACxB;AAEA;QACI,gBAAgB;QAChB,eAAe;QACf,kBAAkB;QAClB,cAAc;QACd,aAAa;QACb,mBAAmB;QACnB,iBAAiB;QACjB,kBAAkB;QAClB,iBAAiB;QACjB,YAAY;QACZ,uBAAuB;AAC3B;AAEA;QACI,gBAAgB;QAChB,eAAe;QACf,kBAAkB;QAClB,cAAc;QACd,mBAAmB;QACnB,aAAa;QACb,mBAAmB;QACnB,iBAAiB;QACjB,kBAAkB;QAClB,YAAY;AAChB",sourcesContent:['<script setup lang="ts">\n    import { ref, computed, onMounted } from "vue";\n    import { container } from "../../../../domain/core/diContainer";\n    import { ILocalization } from "../../../../domain/infrastructure/ILocalization";\n    import { IAppVersion, IApplication } from "../../../../domain/model/models";\n    import { IApplicationVersionUseCase } from "../../../../domain/useCase/IApplicationVersionUseCase";\n    import { ITableMethods } from "../../../../domain/useCase/ITableMethods";\n    import { IUseCaseExecutor } from "../../../../domain/useCase/IUseCaseExecutor";\n    import RadioButtonComp from "../radioButtonComp.vue";\n\n    interface IAppVersionsTableProp {\n        app: IApplication | undefined;\n        showTitleAndDesc?: boolean;\n        selectionType?: \'single\';\n        addButton?: {\n            buttonText: string;\n            callBack: () => void;\n        };\n        footerBtns?: {\n            buttonText: string;\n            callBack: (appVersionID: string) => void;\n        };\n        rowActionButtons?: Array<{\n            icon: string;\n            callBack: (appVersionID: string) => void;\n        }>\n    }\n    interface IAppVersionExtended extends IAppVersion {\n        selected?: boolean;\n    }\n\n    const props = defineProps<IAppVersionsTableProp>();\n    const executor = container.resolve<IUseCaseExecutor>(IUseCaseExecutor);\n    const localization = container.resolve<ILocalization>(ILocalization);\n    const tableMethods = container.resolve<ITableMethods>(ITableMethods);\n    const applicationVersionUseCase = container.resolve<IApplicationVersionUseCase>(IApplicationVersionUseCase);\n    const emit = defineEmits(["hideLeftNav", "showLeftNav", "showHeader", "hideHeader", "close"]);\n    const appVersions = ref<Array<IAppVersionExtended>>([]);\n    const selectedAppVersion = computed(() => appVersions.value.find(ver => ver.selected));\n    const title = ref("App Versions");\n    const pageDesc = ref("You can see versions of your application.");\n    \n\n    const tableColumns = ref(["select", "version", "shortComment", "createdBy", "createDate", "actions"]);\n    const tableOptions = ref({\n        filterable: true,\n        perPage: 5,\n        perPageValues: [],\n        headings: {\n            select: "",\n            version: localization.get("version"),\n            shortComment: localization.get("description"),\n            createdBy: localization.get("createdBy"),\n            createDate: localization.get("createDate"),\n            actions: ""\n        },\n        resizableColumns: false,\n        skin: \'app-versions\',\n        texts: {\n            count: "",\n            noResults: "No matching records",\n        },\n    })\n    onMounted(() => {\n        listAppVersions();\n        emit("hideHeader");\n    })\n    defineExpose({listAppVersions})\n    function listAppVersions() {\n        const appID = props.app!.ID;\n        executor.execute(async () => {\n            appVersions.value = await applicationVersionUseCase.listApplicationVersions(appID);\n        }, {loading: true})\n    \n    }\n\n    function selectAppVersion(appVersionId: string) {\n        appVersions.value.forEach(ver => {\n            if(ver.ID == appVersionId) {\n                ver.selected = true;\n            }\n            else {\n                ver.selected = false;\n            }\n        })\n    }\n    function close() {\n        emit("close");\n    }\n    function footerCallback() {\n        if(!selectedAppVersion.value) { return; }\n        props.footerBtns && props.footerBtns.callBack(selectedAppVersion.value.ID);\n        close();\n    }\n    function addButtonCallback() {\n        props.addButton && props.addButton.callBack();\n        close();\n    }\n\n<\/script>\n<template>\n    <div :style="{padding: showTitleAndDesc ? \'0\' : \'20px\'}">\n        <div v-if="showTitleAndDesc" class="title">{{ title }}</div>\n        <span v-if="showTitleAndDesc" class="page-desc">{{ pageDesc }}</span>\n        <div class="vue-table" style="margin-top: 32px;">\n            <button v-if="addButton" class="add-new-version" @click="addButtonCallback()">{{ addButton?.buttonText }}</button>\n            <v-client-table ref="table" class="versions-table" :data= "appVersions" :columns="tableColumns" :options="tableOptions">\n                <template v-if="selectionType" #select="props">\n                    <RadioButtonComp :active="props.row.selected" :type="\'preview\'" @click="selectAppVersion(props.row.ID)"></RadioButtonComp>\n                </template>\n                <template #createDate="props">\n                    <span>{{ tableMethods.formatDate(props.row.createDate) }}</span>\n                </template>\n                <template v-if="rowActionButtons" #actions="props">\n                    <i v-for="button in rowActionButtons" :key="button.icon" :class="button.icon + \' action-icon\'" @click="button.callBack(props.row.ID)"></i>\n                </template>\n            </v-client-table>\n        </div>\n        <div v-if="footerBtns" class="buttons-div">\n            <button class="cancel-button" @click="close()">Cancel</button>\n            <button :disabled="!selectedAppVersion" class="save-button" @click="footerCallback()">{{ footerBtns.buttonText }}</button>\n        </div>\n\n    </div>\n</template>\n\n<style scoped>\n    @import url("../../../../styles/IDE3.css");\n    .add-new-version {\n        border-radius: 4px;\n        border: 1px solid #151233;\n        color: #151233;\n        font-weight: 500;\n        font-size: 14px;\n        background-color: transparent;\n        position: absolute;\n        right: 40px;\n        width: 94px;\n        height: 32px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .action-icon {\n        font-size: 16px;\n        color: #757575;\n        cursor: pointer;\n\n    }\n    .title {\n        font-style: normal;\n        font-weight: 500;\n        font-size: 20px;\n        line-height: 23px;\n        white-space: nowrap;\n        color: #151233;\n        margin-top: 40px;\n        margin-bottom: 8px;\n    }\n    .page-desc {\n        font-size: 16px;\n        color: #616161;\n    }\n    .buttons-div {\n        display: flex;\n        justify-content: end;\n        position: sticky;\n        bottom: 0;\n        background: #FFFFFF;\n        padding: 40px 0 20px;\n    }\n\n    .cancel-button {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #757575;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        margin-right: 4px;\n        border: none;\n        background: transparent;\n    }\n\n    .save-button {\n        font-weight: 500;\n        font-size: 16px;\n        text-align: center;\n        color: #FFFFFF;\n        background: #151233;\n        display: flex;\n        align-items: center;\n        padding: 8px 16px;\n        border-radius: 4px;\n        border: none;\n    }\n</style>'],sourceRoot:""}]);const c=l},39567:(n,e,t)=>{t.r(e),t.d(e,{default:()=>E});var o=t(71093),s=t(66190),i=t(73843),a=t(5627),r=t(70985),l=t(53625),c=t(91886),p=t(83487),A=t(70015);const d={key:0,class:"title"},u={key:1,class:"page-desc"},B={class:"vue-table",style:{"margin-top":"32px"}},f=["onClick"],v={key:2,class:"buttons-div"},C=["disabled"],g=(0,o.aZ)({__name:"appVersions",props:{app:null,showTitleAndDesc:{type:Boolean},selectionType:null,addButton:null,footerBtns:null,rowActionButtons:null},emits:["hideLeftNav","showLeftNav","showHeader","hideHeader","close"],setup(n,{expose:e,emit:t}){const g=n,m=a.nC.resolve(p.y),b=a.nC.resolve(r.w),x=a.nC.resolve(c.r),h=a.nC.resolve(l.U),k=(0,i.iH)([]),w=(0,o.Fl)((()=>k.value.find((n=>n.selected)))),y=(0,i.iH)("App Versions"),Q=(0,i.iH)("You can see versions of your application."),I=(0,i.iH)(["select","version","shortComment","createdBy","createDate","actions"]),D=(0,i.iH)({filterable:!0,perPage:5,perPageValues:[],headings:{select:"",version:b.get("version"),shortComment:b.get("description"),createdBy:b.get("createdBy"),createDate:b.get("createDate"),actions:""},resizableColumns:!1,skin:"app-versions",texts:{count:"",noResults:"No matching records"}});function V(){const n=g.app.ID;m.execute((async()=>{k.value=await h.listApplicationVersions(n)}),{loading:!0})}function T(){t("close")}return(0,o.bv)((()=>{V(),t("hideHeader")})),e({listAppVersions:V}),(e,t)=>{var a;const r=(0,o.up)("v-client-table");return(0,o.wg)(),(0,o.iD)("div",{style:(0,s.normalizeStyle)({padding:n.showTitleAndDesc?"0":"20px"})},[n.showTitleAndDesc?((0,o.wg)(),(0,o.iD)("div",d,(0,s.toDisplayString)(y.value),1)):(0,o.kq)("v-if",!0),n.showTitleAndDesc?((0,o.wg)(),(0,o.iD)("span",u,(0,s.toDisplayString)(Q.value),1)):(0,o.kq)("v-if",!0),(0,o._)("div",B,[n.addButton?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"add-new-version",onClick:t[0]||(t[0]=n=>(g.addButton&&g.addButton.callBack(),void T()))},(0,s.toDisplayString)(null===(a=n.addButton)||void 0===a?void 0:a.buttonText),1)):(0,o.kq)("v-if",!0),(0,o.Wm)(r,{ref:"table",class:"versions-table",data:k.value,columns:I.value,options:D.value},(0,o.Nv)({createDate:(0,o.w5)((n=>[(0,o._)("span",null,(0,s.toDisplayString)((0,i.SU)(x).formatDate(n.row.createDate)),1)])),_:2},[n.selectionType?{name:"select",fn:(0,o.w5)((n=>[(0,o.Wm)(A.Z,{active:n.row.selected,type:"preview",onClick:e=>{return t=n.row.ID,void k.value.forEach((n=>{n.ID==t?n.selected=!0:n.selected=!1}));var t}},null,8,["active","onClick"])])),key:"0"}:void 0,n.rowActionButtons?{name:"actions",fn:(0,o.w5)((e=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.rowActionButtons,(n=>((0,o.wg)(),(0,o.iD)("i",{key:n.icon,class:(0,s.normalizeClass)(n.icon+" action-icon"),onClick:t=>n.callBack(e.row.ID)},null,10,f)))),128))])),key:"1"}:void 0]),1032,["data","columns","options"])]),n.footerBtns?((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("button",{class:"cancel-button",onClick:t[1]||(t[1]=n=>T())},"Cancel"),(0,o._)("button",{disabled:!(0,i.SU)(w),class:"save-button",onClick:t[2]||(t[2]=n=>{w.value&&(g.footerBtns&&g.footerBtns.callBack(w.value.ID),T())})},(0,s.toDisplayString)(n.footerBtns.buttonText),9,C)])):(0,o.kq)("v-if",!0)],4)}}});var m=t(17450),b=t.n(m),x=t(29530),h=t.n(x),k=t(16199),w=t.n(k),y=t(40458),Q=t.n(y),I=t(62916),D=t.n(I),V=t(92165),T=t.n(V),z=t(41357),F={};F.styleTagTransform=T(),F.setAttributes=Q(),F.insert=w().bind(null,"head"),F.domAPI=h(),F.insertStyleElement=D(),b()(z.Z,F),z.Z&&z.Z.locals&&z.Z.locals;const E=(0,t(32525).Z)(g,[["__scopeId","data-v-9fa4e722"]])}}]);
//# sourceMappingURL=9567.js.map?ver=0.0.314_1712309129127